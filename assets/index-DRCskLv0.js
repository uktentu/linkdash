(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function iE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var km={exports:{}},Jl={};var s_;function k2(){if(s_)return Jl;s_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:e,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Jl.Fragment=t,Jl.jsx=i,Jl.jsxs=i,Jl}var r_;function P2(){return r_||(r_=1,km.exports=k2()),km.exports}var S=P2(),Pm={exports:{}},Nt={};var a_;function U2(){if(a_)return Nt;a_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,M={};function L(F,et,ut){this.props=F,this.context=et,this.refs=M,this.updater=ut||z}L.prototype.isReactComponent={},L.prototype.setState=function(F,et){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,et,"setState")},L.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function B(){}B.prototype=L.prototype;function U(F,et,ut){this.props=F,this.context=et,this.refs=M,this.updater=ut||z}var K=U.prototype=new B;K.constructor=U,O(K,L.prototype),K.isPureReactComponent=!0;var Y=Array.isArray;function P(){}var A={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function D(F,et,ut){var ht=ut.ref;return{$$typeof:e,type:F,key:et,ref:ht!==void 0?ht:null,props:ut}}function j(F,et){return D(F.type,et,F.props)}function I(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function H(F){var et={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ut){return et[ut]})}var N=/\/+/g;function Ct(F,et){return typeof F=="object"&&F!==null&&F.key!=null?H(""+F.key):et.toString(36)}function Lt(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(P,P):(F.status="pending",F.then(function(et){F.status==="pending"&&(F.status="fulfilled",F.value=et)},function(et){F.status==="pending"&&(F.status="rejected",F.reason=et)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function tt(F,et,ut,ht,_t){var vt=typeof F;(vt==="undefined"||vt==="boolean")&&(F=null);var lt=!1;if(F===null)lt=!0;else switch(vt){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(F.$$typeof){case e:case t:lt=!0;break;case y:return lt=F._init,tt(lt(F._payload),et,ut,ht,_t)}}if(lt)return _t=_t(F),lt=ht===""?"."+Ct(F,0):ht,Y(_t)?(ut="",lt!=null&&(ut=lt.replace(N,"$&/")+"/"),tt(_t,et,ut,"",function(At){return At})):_t!=null&&(I(_t)&&(_t=j(_t,ut+(_t.key==null||F&&F.key===_t.key?"":(""+_t.key).replace(N,"$&/")+"/")+lt)),et.push(_t)),1;lt=0;var Vt=ht===""?".":ht+":";if(Y(F))for(var Tt=0;Tt<F.length;Tt++)ht=F[Tt],vt=Vt+Ct(ht,Tt),lt+=tt(ht,et,ut,vt,_t);else if(Tt=w(F),typeof Tt=="function")for(F=Tt.call(F),Tt=0;!(ht=F.next()).done;)ht=ht.value,vt=Vt+Ct(ht,Tt++),lt+=tt(ht,et,ut,vt,_t);else if(vt==="object"){if(typeof F.then=="function")return tt(Lt(F),et,ut,ht,_t);throw et=String(F),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return lt}function st(F,et,ut){if(F==null)return F;var ht=[],_t=0;return tt(F,ht,"","",function(vt){return et.call(ut,vt,_t++)}),ht}function ft(F){if(F._status===-1){var et=F._result;et=et(),et.then(function(ut){(F._status===0||F._status===-1)&&(F._status=1,F._result=ut)},function(ut){(F._status===0||F._status===-1)&&(F._status=2,F._result=ut)}),F._status===-1&&(F._status=0,F._result=et)}if(F._status===1)return F._result.default;throw F._result}var yt=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},pt={map:st,forEach:function(F,et,ut){st(F,function(){et.apply(this,arguments)},ut)},count:function(F){var et=0;return st(F,function(){et++}),et},toArray:function(F){return st(F,function(et){return et})||[]},only:function(F){if(!I(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Nt.Activity=v,Nt.Children=pt,Nt.Component=L,Nt.Fragment=i,Nt.Profiler=o,Nt.PureComponent=U,Nt.StrictMode=r,Nt.Suspense=m,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return A.H.useMemoCache(F)}},Nt.cache=function(F){return function(){return F.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(F,et,ut){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ht=O({},F.props),_t=F.key;if(et!=null)for(vt in et.key!==void 0&&(_t=""+et.key),et)!x.call(et,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&et.ref===void 0||(ht[vt]=et[vt]);var vt=arguments.length-2;if(vt===1)ht.children=ut;else if(1<vt){for(var lt=Array(vt),Vt=0;Vt<vt;Vt++)lt[Vt]=arguments[Vt+2];ht.children=lt}return D(F.type,_t,ht)},Nt.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:u,_context:F},F},Nt.createElement=function(F,et,ut){var ht,_t={},vt=null;if(et!=null)for(ht in et.key!==void 0&&(vt=""+et.key),et)x.call(et,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(_t[ht]=et[ht]);var lt=arguments.length-2;if(lt===1)_t.children=ut;else if(1<lt){for(var Vt=Array(lt),Tt=0;Tt<lt;Tt++)Vt[Tt]=arguments[Tt+2];_t.children=Vt}if(F&&F.defaultProps)for(ht in lt=F.defaultProps,lt)_t[ht]===void 0&&(_t[ht]=lt[ht]);return D(F,vt,_t)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(F){return{$$typeof:d,render:F}},Nt.isValidElement=I,Nt.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ft}},Nt.memo=function(F,et){return{$$typeof:g,type:F,compare:et===void 0?null:et}},Nt.startTransition=function(F){var et=A.T,ut={};A.T=ut;try{var ht=F(),_t=A.S;_t!==null&&_t(ut,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(P,yt)}catch(vt){yt(vt)}finally{et!==null&&ut.types!==null&&(et.types=ut.types),A.T=et}},Nt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Nt.use=function(F){return A.H.use(F)},Nt.useActionState=function(F,et,ut){return A.H.useActionState(F,et,ut)},Nt.useCallback=function(F,et){return A.H.useCallback(F,et)},Nt.useContext=function(F){return A.H.useContext(F)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(F,et){return A.H.useDeferredValue(F,et)},Nt.useEffect=function(F,et){return A.H.useEffect(F,et)},Nt.useEffectEvent=function(F){return A.H.useEffectEvent(F)},Nt.useId=function(){return A.H.useId()},Nt.useImperativeHandle=function(F,et,ut){return A.H.useImperativeHandle(F,et,ut)},Nt.useInsertionEffect=function(F,et){return A.H.useInsertionEffect(F,et)},Nt.useLayoutEffect=function(F,et){return A.H.useLayoutEffect(F,et)},Nt.useMemo=function(F,et){return A.H.useMemo(F,et)},Nt.useOptimistic=function(F,et){return A.H.useOptimistic(F,et)},Nt.useReducer=function(F,et,ut){return A.H.useReducer(F,et,ut)},Nt.useRef=function(F){return A.H.useRef(F)},Nt.useState=function(F){return A.H.useState(F)},Nt.useSyncExternalStore=function(F,et,ut){return A.H.useSyncExternalStore(F,et,ut)},Nt.useTransition=function(){return A.H.useTransition()},Nt.version="19.2.3",Nt}var o_;function yg(){return o_||(o_=1,Pm.exports=U2()),Pm.exports}var V=yg();const Te=iE(V);var Um={exports:{}},Wl={},zm={exports:{}},Bm={};var l_;function z2(){return l_||(l_=1,(function(e){function t(tt,st){var ft=tt.length;tt.push(st);t:for(;0<ft;){var yt=ft-1>>>1,pt=tt[yt];if(0<o(pt,st))tt[yt]=st,tt[ft]=pt,ft=yt;else break t}}function i(tt){return tt.length===0?null:tt[0]}function r(tt){if(tt.length===0)return null;var st=tt[0],ft=tt.pop();if(ft!==st){tt[0]=ft;t:for(var yt=0,pt=tt.length,F=pt>>>1;yt<F;){var et=2*(yt+1)-1,ut=tt[et],ht=et+1,_t=tt[ht];if(0>o(ut,ft))ht<pt&&0>o(_t,ut)?(tt[yt]=_t,tt[ht]=ft,yt=ht):(tt[yt]=ut,tt[et]=ft,yt=et);else if(ht<pt&&0>o(_t,ft))tt[yt]=_t,tt[ht]=ft,yt=ht;else break t}}return st}function o(tt,st){var ft=tt.sortIndex-st.sortIndex;return ft!==0?ft:tt.id-st.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,v=null,T=3,w=!1,z=!1,O=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function K(tt){for(var st=i(g);st!==null;){if(st.callback===null)r(g);else if(st.startTime<=tt)r(g),st.sortIndex=st.expirationTime,t(m,st);else break;st=i(g)}}function Y(tt){if(O=!1,K(tt),!z)if(i(m)!==null)z=!0,P||(P=!0,H());else{var st=i(g);st!==null&&Lt(Y,st.startTime-tt)}}var P=!1,A=-1,x=5,D=-1;function j(){return M?!0:!(e.unstable_now()-D<x)}function I(){if(M=!1,P){var tt=e.unstable_now();D=tt;var st=!0;try{t:{z=!1,O&&(O=!1,B(A),A=-1),w=!0;var ft=T;try{e:{for(K(tt),v=i(m);v!==null&&!(v.expirationTime>tt&&j());){var yt=v.callback;if(typeof yt=="function"){v.callback=null,T=v.priorityLevel;var pt=yt(v.expirationTime<=tt);if(tt=e.unstable_now(),typeof pt=="function"){v.callback=pt,K(tt),st=!0;break e}v===i(m)&&r(m),K(tt)}else r(m);v=i(m)}if(v!==null)st=!0;else{var F=i(g);F!==null&&Lt(Y,F.startTime-tt),st=!1}}break t}finally{v=null,T=ft,w=!1}st=void 0}}finally{st?H():P=!1}}}var H;if(typeof U=="function")H=function(){U(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ct=N.port2;N.port1.onmessage=I,H=function(){Ct.postMessage(null)}}else H=function(){L(I,0)};function Lt(tt,st){A=L(function(){tt(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(tt){tt.callback=null},e.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<tt?Math.floor(1e3/tt):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(tt){switch(T){case 1:case 2:case 3:var st=3;break;default:st=T}var ft=T;T=st;try{return tt()}finally{T=ft}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(tt,st){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var ft=T;T=tt;try{return st()}finally{T=ft}},e.unstable_scheduleCallback=function(tt,st,ft){var yt=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?yt+ft:yt):ft=yt,tt){case 1:var pt=-1;break;case 2:pt=250;break;case 5:pt=1073741823;break;case 4:pt=1e4;break;default:pt=5e3}return pt=ft+pt,tt={id:y++,callback:st,priorityLevel:tt,startTime:ft,expirationTime:pt,sortIndex:-1},ft>yt?(tt.sortIndex=ft,t(g,tt),i(m)===null&&tt===i(g)&&(O?(B(A),A=-1):O=!0,Lt(Y,ft-yt))):(tt.sortIndex=pt,t(m,tt),z||w||(z=!0,P||(P=!0,H()))),tt},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(tt){var st=T;return function(){var ft=T;T=st;try{return tt.apply(this,arguments)}finally{T=ft}}}})(Bm)),Bm}var u_;function B2(){return u_||(u_=1,zm.exports=z2()),zm.exports}var Fm={exports:{}},An={};var c_;function F2(){if(c_)return An;c_=1;var e=yg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,An.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,y)},An.flushSync=function(m){var g=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=g,r.p=y,r.d.f()}},An.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},An.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},An.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,v=d(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:w}):y==="script"&&r.d.X(m,{crossOrigin:v,integrity:T,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},An.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},An.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=d(y,g.crossOrigin);r.d.L(m,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},An.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},An.requestFormReset=function(m){r.d.r(m)},An.unstable_batchedUpdates=function(m,g){return m(g)},An.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},An.useFormStatus=function(){return c.H.useHostTransitionStatus()},An.version="19.2.3",An}var h_;function sE(){if(h_)return Fm.exports;h_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fm.exports=F2(),Fm.exports}var f_;function q2(){if(f_)return Wl;f_=1;var e=B2(),t=yg(),i=sE();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return m(f),n;if(p===l)return m(f),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=p;else{for(var _=!1,C=f.child;C;){if(C===a){_=!0,a=f,l=p;break}if(C===l){_=!0,l=f,a=p;break}C=C.sibling}if(!_){for(C=p.child;C;){if(C===a){_=!0,a=p,l=f;break}if(C===l){_=!0,l=p,a=f;break}C=C.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function H(n){return n===null||typeof n!="object"?null:(n=I&&n[I]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Ct(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case L:return"Profiler";case M:return"StrictMode";case Y:return"Suspense";case P:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case z:return"Portal";case U:return n.displayName||"Context";case B:return(n._context.displayName||"Context")+".Consumer";case K:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case A:return s=n.displayName||null,s!==null?s:Ct(n.type)||"Memo";case x:s=n._payload,n=n._init;try{return Ct(n(s))}catch{}}return null}var Lt=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},yt=[],pt=-1;function F(n){return{current:n}}function et(n){0>pt||(n.current=yt[pt],yt[pt]=null,pt--)}function ut(n,s){pt++,yt[pt]=n.current,n.current=s}var ht=F(null),_t=F(null),vt=F(null),lt=F(null);function Vt(n,s){switch(ut(vt,s),ut(_t,n),ut(ht,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Cb(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Cb(s),n=Rb(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}et(ht),ut(ht,n)}function Tt(){et(ht),et(_t),et(vt)}function At(n){n.memoizedState!==null&&ut(lt,n);var s=ht.current,a=Rb(s,n.type);s!==a&&(ut(_t,n),ut(ht,a))}function Mn(n){_t.current===n&&(et(ht),et(_t)),lt.current===n&&(et(lt),Xl._currentValue=ft)}var Xe,bn;function Ae(n){if(Xe===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Xe=s&&s[1]||"",bn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+n+bn}var zn=!1;function _n(n,s){if(!n||zn)return"";zn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(W){var Z=W}Reflect.construct(n,[],rt)}else{try{rt.call()}catch(W){Z=W}n.call(rt.prototype)}}else{try{throw Error()}catch(W){Z=W}(rt=n())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(W){if(W&&Z&&typeof W.stack=="string")return[W.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),_=p[0],C=p[1];if(_&&C){var k=_.split(`
`),$=C.split(`
`);for(f=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(l===k.length||f===$.length)for(l=k.length-1,f=$.length-1;1<=l&&0<=f&&k[l]!==$[f];)f--;for(;1<=l&&0<=f;l--,f--)if(k[l]!==$[f]){if(l!==1||f!==1)do if(l--,f--,0>f||k[l]!==$[f]){var nt=`
`+k[l].replace(" at new "," at ");return n.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",n.displayName)),nt}while(1<=l&&0<=f);break}}}finally{zn=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ae(a):""}function Hi(n,s){switch(n.tag){case 26:case 27:case 5:return Ae(n.type);case 16:return Ae("Lazy");case 13:return n.child!==s&&s!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return _n(n.type,!1);case 11:return _n(n.type.render,!1);case 1:return _n(n.type,!0);case 31:return Ae("Activity");default:return""}}function Gi(n){try{var s="",a=null;do s+=Hi(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var he=Object.prototype.hasOwnProperty,te=e.unstable_scheduleCallback,Vn=e.unstable_cancelCallback,Ki=e.unstable_shouldYield,bs=e.unstable_requestPaint,je=e.unstable_now,Ni=e.unstable_getCurrentPriorityLevel,Qt=e.unstable_ImmediatePriority,ne=e.unstable_UserBlockingPriority,Le=e.unstable_NormalPriority,_s=e.unstable_LowPriority,Hr=e.unstable_IdlePriority,Zn=e.log,Gr=e.unstable_setDisableYieldValue,Jn=null,Qe=null;function Tn(n){if(typeof Zn=="function"&&Gr(n),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Jn,n)}catch{}}var pe=Math.clz32?Math.clz32:Ia,Va=Math.log,Ts=Math.LN2;function Ia(n){return n>>>=0,n===0?32:31-(Va(n)/Ts|0)|0}var ci=256,Es=262144,kt=4194304;function ge(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ye(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,p=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var C=l&134217727;return C!==0?(l=C&~p,l!==0?f=ge(l):(_&=C,_!==0?f=ge(_):a||(a=C&~n,a!==0&&(f=ge(a))))):(C=l&~p,C!==0?f=ge(C):_!==0?f=ge(_):a||(a=l&~n,a!==0&&(f=ge(a)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:f}function ke(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function En(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nn(){var n=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),n}function De(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Bn(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ne(n,s,a,l,f,p){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,k=n.expirationTimes,$=n.hiddenUpdates;for(a=_&~a;0<a;){var nt=31-pe(a),rt=1<<nt;C[nt]=0,k[nt]=-1;var Z=$[nt];if(Z!==null)for($[nt]=null,nt=0;nt<Z.length;nt++){var W=Z[nt];W!==null&&(W.lane&=-536870913)}a&=~rt}l!==0&&xn(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(_&~s))}function xn(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-pe(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Sn(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-pe(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function In(n,s){var a=s&-s;return a=(a&42)!==0?1:Wn(a),(a&(n.suspendedLanes|s))!==0?0:a}function Wn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function On(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ti(){var n=st.p;return n!==0?n:(n=window.event,n===void 0?32:Zb(n.type))}function un(n,s){var a=st.p;try{return st.p=n,s()}finally{st.p=a}}var jn=Math.random().toString(36).slice(2),Pe="__reactFiber$"+jn,sn="__reactProps$"+jn,Yi="__reactContainer$"+jn,Oa="__reactEvents$"+jn,qf="__reactListeners$"+jn,Wu="__reactHandles$"+jn,tc="__reactResources$"+jn,Xi="__reactMarker$"+jn;function ja(n){delete n[Pe],delete n[sn],delete n[Oa],delete n[qf],delete n[Wu]}function Qi(n){var s=n[Pe];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Yi]||a[Pe]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=jb(n);n!==null;){if(a=n[Pe])return a;n=jb(n)}return s}n=a,a=n.parentNode}return null}function hi(n){if(n=n[Pe]||n[Yi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function ei(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function $i(n){var s=n[tc];return s||(s=n[tc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ue(n){n[Xi]=!0}var el=new Set,nl={};function Zi(n,s){Ji(n,s),Ji(n+"Capture",s)}function Ji(n,s){for(nl[n]=s,n=0;n<s.length;n++)el.add(s[n])}var il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},rl={};function ec(n){return he.call(rl,n)?!0:he.call(sl,n)?!1:il.test(n)?rl[n]=!0:(sl[n]=!0,!1)}function La(n,s,a){if(ec(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function ni(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function ze(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ys(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function al(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,p.call(this,_)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ie(n){if(!n._valueTracker){var s=Ys(n)?"checked":"value";n._valueTracker=al(n,s,""+n[s])}}function Kr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Ys(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Wi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Yr=/[\n"\\]/g;function Fn(n){return n.replace(Yr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ka(n,s,a,l,f,p,_,C){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+rn(s)):n.value!==""+rn(s)&&(n.value=""+rn(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?ol(n,_,rn(s)):a!=null?ol(n,_,rn(a)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+rn(C):n.removeAttribute("name")}function nc(n,s,a,l,f,p,_,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){ie(n);return}a=a!=null?""+rn(a):"",s=s!=null?""+rn(s):a,C||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=C?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),ie(n)}function ol(n,s,a){s==="number"&&Wi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Xs(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function ic(n,s,a){if(s!=null&&(s=""+rn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+rn(a):""}function Qs(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Lt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=rn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),ie(n)}function qn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||sc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function ul(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&ll(n,f,l)}else for(var p in s)s.hasOwnProperty(p)&&ll(n,p,s[p])}function Pa(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(n){return $s.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Mi(){}var cl=null;function fi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zs=null,ts=null;function Xr(n){var s=hi(n);if(s&&(n=s.stateNode)){var a=n[sn]||null;t:switch(n=s.stateNode,s.type){case"input":if(ka(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Fn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[sn]||null;if(!f)throw Error(r(90));ka(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Kr(l)}break t;case"textarea":ic(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Xs(n,!!a.multiple,s,!1)}}}var za=!1;function Js(n,s,a){if(za)return n(s,a);za=!0;try{var l=n(s);return l}finally{if(za=!1,(Zs!==null||ts!==null)&&(Jc(),Zs&&(s=Zs,n=ts,ts=Zs=null,Xr(s),n)))for(s=0;s<n.length;s++)Xr(n[s])}}function Vi(n,s){var a=n.stateNode;if(a===null)return null;var l=a[sn]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=!1;if(di)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{Qr=!1}var es=null,hl=null,$r=null;function fl(){if($r)return $r;var n,s=hl,a=s.length,l,f="value"in es?es.value:es.textContent,p=f.length;for(n=0;n<a&&s[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&s[a-l]===f[p-l];l++);return $r=f.slice(n,1<l?1-l:void 0)}function Zr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function xs(){return!0}function Ii(){return!1}function cn(n){function s(a,l,f,p,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?xs:Ii,this.isPropagationStopped=Ii,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),s}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=cn(Ss),Ws=v({},Ss,{view:0,detail:0}),dl=cn(Ws),tr,Ba,is,Fa=v({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==is&&(is&&n.type==="mousemove"?(tr=n.screenX-is.screenX,Ba=n.screenY-is.screenY):Ba=tr=0,is=n),tr)},movementY:function(n){return"movementY"in n?n.movementY:Ba}}),ml=cn(Fa),Jr=v({},Fa,{dataTransfer:0}),ac=cn(Jr),oc=v({},Ws,{relatedTarget:0}),Wr=cn(oc),pl=v({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),lc=cn(pl),qa=v({},Ss,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),uc=cn(qa),cc=v({},Ss,{data:0}),ss=cn(cc),hc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=dc[n])?!!s[n]:!1}function er(){return mc}var Ln=v({},Ws,{key:function(n){if(n.key){var s=hc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Zr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(n){return n.type==="keypress"?Zr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),pc=cn(Ln),gc=v({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),As=cn(gc),h=v({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),b=cn(h),E=v({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=cn(E),X=v({},Fa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),J=cn(X),ct=v({},Ss,{newState:0,oldState:0}),It=cn(ct),Me=[9,13,27,32],Jt=di&&"CompositionEvent"in window,ve=null;di&&"documentMode"in document&&(ve=document.documentMode);var mi=di&&"TextEvent"in window&&!ve,rs=di&&(!Jt||ve&&8<ve&&11>=ve),Oi=" ",ji=!1;function ta(n,s){switch(n){case"keyup":return Me.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ha(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ga=!1;function ow(n,s){switch(n){case"compositionend":return Ha(s);case"keypress":return s.which!==32?null:(ji=!0,Oi);case"textInput":return n=s.data,n===Oi&&ji?null:n;default:return null}}function lw(n,s){if(Ga)return n==="compositionend"||!Jt&&ta(n,s)?(n=fl(),$r=hl=es=null,Ga=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return rs&&s.locale!=="ko"?null:s.data;default:return null}}var uw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Py(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!uw[n.type]:s==="textarea"}function Uy(n,s,a,l){Zs?ts?ts.push(l):ts=[l]:Zs=l,s=rh(s,"onChange"),0<s.length&&(a=new ns("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var gl=null,yl=null;function cw(n){Tb(n,0)}function yc(n){var s=ei(n);if(Kr(s))return n}function zy(n,s){if(n==="change")return s}var By=!1;if(di){var Hf;if(di){var Gf="oninput"in document;if(!Gf){var Fy=document.createElement("div");Fy.setAttribute("oninput","return;"),Gf=typeof Fy.oninput=="function"}Hf=Gf}else Hf=!1;By=Hf&&(!document.documentMode||9<document.documentMode)}function qy(){gl&&(gl.detachEvent("onpropertychange",Hy),yl=gl=null)}function Hy(n){if(n.propertyName==="value"&&yc(yl)){var s=[];Uy(s,yl,n,fi(n)),Js(cw,s)}}function hw(n,s,a){n==="focusin"?(qy(),gl=s,yl=a,gl.attachEvent("onpropertychange",Hy)):n==="focusout"&&qy()}function fw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yc(yl)}function dw(n,s){if(n==="click")return yc(s)}function mw(n,s){if(n==="input"||n==="change")return yc(s)}function pw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ii=typeof Object.is=="function"?Object.is:pw;function vl(n,s){if(ii(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!he.call(s,f)||!ii(n[f],s[f]))return!1}return!0}function Gy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ky(n,s){var a=Gy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gy(a)}}function Yy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Yy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Xy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Wi(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Wi(n.document)}return s}function Kf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var gw=di&&"documentMode"in document&&11>=document.documentMode,Ka=null,Yf=null,bl=null,Xf=!1;function Qy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xf||Ka==null||Ka!==Wi(l)||(l=Ka,"selectionStart"in l&&Kf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&vl(bl,l)||(bl=l,l=rh(Yf,"onSelect"),0<l.length&&(s=new ns("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Ka)))}function ea(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ya={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Qf={},$y={};di&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function na(n){if(Qf[n])return Qf[n];if(!Ya[n])return n;var s=Ya[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in $y)return Qf[n]=s[a];return n}var Zy=na("animationend"),Jy=na("animationiteration"),Wy=na("animationstart"),yw=na("transitionrun"),vw=na("transitionstart"),bw=na("transitioncancel"),tv=na("transitionend"),ev=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function Li(n,s){ev.set(n,s),Zi(s,[n])}var vc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},pi=[],Xa=0,Zf=0;function bc(){for(var n=Xa,s=Zf=Xa=0;s<n;){var a=pi[s];pi[s++]=null;var l=pi[s];pi[s++]=null;var f=pi[s];pi[s++]=null;var p=pi[s];if(pi[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}p!==0&&nv(a,f,p)}}function _c(n,s,a,l){pi[Xa++]=n,pi[Xa++]=s,pi[Xa++]=a,pi[Xa++]=l,Zf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Jf(n,s,a,l){return _c(n,s,a,l),Tc(n)}function ia(n,s){return _c(n,null,null,s),Tc(n)}function nv(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&s!==null&&(f=31-pe(a),n=p.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),p):null}function Tc(n){if(50<Bl)throw Bl=0,om=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Qa={};function _w(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(n,s,a,l){return new _w(n,s,a,l)}function Wf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ws(n,s){var a=n.alternate;return a===null?(a=si(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function iv(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ec(n,s,a,l,f,p){var _=0;if(l=n,typeof n=="function")Wf(n)&&(_=1);else if(typeof n=="string")_=A2(n,a,ht.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case D:return n=si(31,a,s,f),n.elementType=D,n.lanes=p,n;case O:return sa(a.children,f,p,s);case M:_=8,f|=24;break;case L:return n=si(12,a,s,f|2),n.elementType=L,n.lanes=p,n;case Y:return n=si(13,a,s,f),n.elementType=Y,n.lanes=p,n;case P:return n=si(19,a,s,f),n.elementType=P,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:_=10;break t;case B:_=9;break t;case K:_=11;break t;case A:_=14;break t;case x:_=16,l=null;break t}_=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=si(_,a,s,f),s.elementType=n,s.type=l,s.lanes=p,s}function sa(n,s,a,l){return n=si(7,n,l,s),n.lanes=a,n}function td(n,s,a){return n=si(6,n,null,s),n.lanes=a,n}function sv(n){var s=si(18,null,null,0);return s.stateNode=n,s}function ed(n,s,a){return s=si(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var rv=new WeakMap;function gi(n,s){if(typeof n=="object"&&n!==null){var a=rv.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Gi(s)},rv.set(n,s),s)}return{value:n,source:s,stack:Gi(s)}}var $a=[],Za=0,xc=null,_l=0,yi=[],vi=0,nr=null,as=1,os="";function Cs(n,s){$a[Za++]=_l,$a[Za++]=xc,xc=n,_l=s}function av(n,s,a){yi[vi++]=as,yi[vi++]=os,yi[vi++]=nr,nr=n;var l=as;n=os;var f=32-pe(l)-1;l&=~(1<<f),a+=1;var p=32-pe(s)+f;if(30<p){var _=f-f%5;p=(l&(1<<_)-1).toString(32),l>>=_,f-=_,as=1<<32-pe(s)+f|a<<f|l,os=p+n}else as=1<<p|a<<f|l,os=n}function nd(n){n.return!==null&&(Cs(n,1),av(n,1,0))}function id(n){for(;n===xc;)xc=$a[--Za],$a[Za]=null,_l=$a[--Za],$a[Za]=null;for(;n===nr;)nr=yi[--vi],yi[vi]=null,os=yi[--vi],yi[vi]=null,as=yi[--vi],yi[vi]=null}function ov(n,s){yi[vi++]=as,yi[vi++]=os,yi[vi++]=nr,as=s.id,os=s.overflow,nr=n}var hn=null,fe=null,Ht=!1,ir=null,bi=!1,sd=Error(r(519));function sr(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tl(gi(s,n)),sd}function lv(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Pe]=n,s[sn]=l,a){case"dialog":Ut("cancel",s),Ut("close",s);break;case"iframe":case"object":case"embed":Ut("load",s);break;case"video":case"audio":for(a=0;a<ql.length;a++)Ut(ql[a],s);break;case"source":Ut("error",s);break;case"img":case"image":case"link":Ut("error",s),Ut("load",s);break;case"details":Ut("toggle",s);break;case"input":Ut("invalid",s),nc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ut("invalid",s);break;case"textarea":Ut("invalid",s),Qs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Ab(s.textContent,a)?(l.popover!=null&&(Ut("beforetoggle",s),Ut("toggle",s)),l.onScroll!=null&&Ut("scroll",s),l.onScrollEnd!=null&&Ut("scrollend",s),l.onClick!=null&&(s.onclick=Mi),s=!0):s=!1,s||sr(n,!0)}function uv(n){for(hn=n.return;hn;)switch(hn.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:hn=hn.return}}function Ja(n){if(n!==hn)return!1;if(!Ht)return uv(n),Ht=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Em(n.type,n.memoizedProps)),a=!a),a&&fe&&sr(n),uv(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));fe=Ob(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));fe=Ob(n)}else s===27?(s=fe,vr(n.type)?(n=Cm,Cm=null,fe=n):fe=s):fe=hn?Ti(n.stateNode.nextSibling):null;return!0}function ra(){fe=hn=null,Ht=!1}function rd(){var n=ir;return n!==null&&(Yn===null?Yn=n:Yn.push.apply(Yn,n),ir=null),n}function Tl(n){ir===null?ir=[n]:ir.push(n)}var ad=F(null),aa=null,Rs=null;function rr(n,s,a){ut(ad,s._currentValue),s._currentValue=a}function Ds(n){n._currentValue=ad.current,et(ad)}function od(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function ld(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var _=f.child;p=p.firstContext;t:for(;p!==null;){var C=p;p=f;for(var k=0;k<s.length;k++)if(C.context===s[k]){p.lanes|=a,C=p.alternate,C!==null&&(C.lanes|=a),od(p.return,a,n),l||(_=null);break t}p=C.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,p=_.alternate,p!==null&&(p.lanes|=a),od(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Wa(n,s,a,l){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var C=f.type;ii(f.pendingProps.value,_.value)||(n!==null?n.push(C):n=[C])}}else if(f===lt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Xl):n=[Xl])}f=f.return}n!==null&&ld(s,n,a,l),s.flags|=262144}function Sc(n){for(n=n.firstContext;n!==null;){if(!ii(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function oa(n){aa=n,Rs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function fn(n){return cv(aa,n)}function Ac(n,s){return aa===null&&oa(n),cv(n,s)}function cv(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Rs===null){if(n===null)throw Error(r(308));Rs=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Rs=Rs.next=s;return a}var Tw=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Ew=e.unstable_scheduleCallback,xw=e.unstable_NormalPriority,Be={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ud(){return{controller:new Tw,data:new Map,refCount:0}}function El(n){n.refCount--,n.refCount===0&&Ew(xw,function(){n.controller.abort()})}var xl=null,cd=0,to=0,eo=null;function Sw(n,s){if(xl===null){var a=xl=[];cd=0,to=dm(),eo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cd++,s.then(hv,hv),s}function hv(){if(--cd===0&&xl!==null){eo!==null&&(eo.status="fulfilled");var n=xl;xl=null,to=0,eo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function Aw(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var fv=tt.S;tt.S=function(n,s){Q0=je(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Sw(n,s),fv!==null&&fv(n,s)};var la=F(null);function hd(){var n=la.current;return n!==null?n:ce.pooledCache}function wc(n,s){s===null?ut(la,la.current):ut(la,s.pool)}function dv(){var n=hd();return n===null?null:{parent:Be._currentValue,pool:n}}var no=Error(r(460)),fd=Error(r(474)),Cc=Error(r(542)),Rc={then:function(){}};function mv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pv(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Mi,Mi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,yv(n),n;default:if(typeof s.status=="string")s.then(Mi,Mi);else{if(n=ce,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,yv(n),n}throw ca=s,no}}function ua(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ca=a,no):a}}var ca=null;function gv(){if(ca===null)throw Error(r(459));var n=ca;return ca=null,n}function yv(n){if(n===no||n===Cc)throw Error(r(483))}var io=null,Sl=0;function Dc(n){var s=Sl;return Sl+=1,io===null&&(io=[]),pv(io,n,s)}function Al(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Nc(n,s){throw s.$$typeof===T?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function vv(n){function s(G,q){if(n){var Q=G.deletions;Q===null?(G.deletions=[q],G.flags|=16):Q.push(q)}}function a(G,q){if(!n)return null;for(;q!==null;)s(G,q),q=q.sibling;return null}function l(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function f(G,q){return G=ws(G,q),G.index=0,G.sibling=null,G}function p(G,q,Q){return G.index=Q,n?(Q=G.alternate,Q!==null?(Q=Q.index,Q<q?(G.flags|=67108866,q):Q):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function _(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function C(G,q,Q,it){return q===null||q.tag!==6?(q=td(Q,G.mode,it),q.return=G,q):(q=f(q,Q),q.return=G,q)}function k(G,q,Q,it){var Et=Q.type;return Et===O?nt(G,q,Q.props.children,it,Q.key):q!==null&&(q.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===x&&ua(Et)===q.type)?(q=f(q,Q.props),Al(q,Q),q.return=G,q):(q=Ec(Q.type,Q.key,Q.props,null,G.mode,it),Al(q,Q),q.return=G,q)}function $(G,q,Q,it){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=ed(Q,G.mode,it),q.return=G,q):(q=f(q,Q.children||[]),q.return=G,q)}function nt(G,q,Q,it,Et){return q===null||q.tag!==7?(q=sa(Q,G.mode,it,Et),q.return=G,q):(q=f(q,Q),q.return=G,q)}function rt(G,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=td(""+q,G.mode,Q),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return Q=Ec(q.type,q.key,q.props,null,G.mode,Q),Al(Q,q),Q.return=G,Q;case z:return q=ed(q,G.mode,Q),q.return=G,q;case x:return q=ua(q),rt(G,q,Q)}if(Lt(q)||H(q))return q=sa(q,G.mode,Q,null),q.return=G,q;if(typeof q.then=="function")return rt(G,Dc(q),Q);if(q.$$typeof===U)return rt(G,Ac(G,q),Q);Nc(G,q)}return null}function Z(G,q,Q,it){var Et=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Et!==null?null:C(G,q,""+Q,it);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return Q.key===Et?k(G,q,Q,it):null;case z:return Q.key===Et?$(G,q,Q,it):null;case x:return Q=ua(Q),Z(G,q,Q,it)}if(Lt(Q)||H(Q))return Et!==null?null:nt(G,q,Q,it,null);if(typeof Q.then=="function")return Z(G,q,Dc(Q),it);if(Q.$$typeof===U)return Z(G,q,Ac(G,Q),it);Nc(G,Q)}return null}function W(G,q,Q,it,Et){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return G=G.get(Q)||null,C(q,G,""+it,Et);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case w:return G=G.get(it.key===null?Q:it.key)||null,k(q,G,it,Et);case z:return G=G.get(it.key===null?Q:it.key)||null,$(q,G,it,Et);case x:return it=ua(it),W(G,q,Q,it,Et)}if(Lt(it)||H(it))return G=G.get(Q)||null,nt(q,G,it,Et,null);if(typeof it.then=="function")return W(G,q,Q,Dc(it),Et);if(it.$$typeof===U)return W(G,q,Q,Ac(q,it),Et);Nc(q,it)}return null}function mt(G,q,Q,it){for(var Et=null,$t=null,gt=q,jt=q=0,Bt=null;gt!==null&&jt<Q.length;jt++){gt.index>jt?(Bt=gt,gt=null):Bt=gt.sibling;var Zt=Z(G,gt,Q[jt],it);if(Zt===null){gt===null&&(gt=Bt);break}n&&gt&&Zt.alternate===null&&s(G,gt),q=p(Zt,q,jt),$t===null?Et=Zt:$t.sibling=Zt,$t=Zt,gt=Bt}if(jt===Q.length)return a(G,gt),Ht&&Cs(G,jt),Et;if(gt===null){for(;jt<Q.length;jt++)gt=rt(G,Q[jt],it),gt!==null&&(q=p(gt,q,jt),$t===null?Et=gt:$t.sibling=gt,$t=gt);return Ht&&Cs(G,jt),Et}for(gt=l(gt);jt<Q.length;jt++)Bt=W(gt,G,jt,Q[jt],it),Bt!==null&&(n&&Bt.alternate!==null&&gt.delete(Bt.key===null?jt:Bt.key),q=p(Bt,q,jt),$t===null?Et=Bt:$t.sibling=Bt,$t=Bt);return n&&gt.forEach(function(xr){return s(G,xr)}),Ht&&Cs(G,jt),Et}function St(G,q,Q,it){if(Q==null)throw Error(r(151));for(var Et=null,$t=null,gt=q,jt=q=0,Bt=null,Zt=Q.next();gt!==null&&!Zt.done;jt++,Zt=Q.next()){gt.index>jt?(Bt=gt,gt=null):Bt=gt.sibling;var xr=Z(G,gt,Zt.value,it);if(xr===null){gt===null&&(gt=Bt);break}n&&gt&&xr.alternate===null&&s(G,gt),q=p(xr,q,jt),$t===null?Et=xr:$t.sibling=xr,$t=xr,gt=Bt}if(Zt.done)return a(G,gt),Ht&&Cs(G,jt),Et;if(gt===null){for(;!Zt.done;jt++,Zt=Q.next())Zt=rt(G,Zt.value,it),Zt!==null&&(q=p(Zt,q,jt),$t===null?Et=Zt:$t.sibling=Zt,$t=Zt);return Ht&&Cs(G,jt),Et}for(gt=l(gt);!Zt.done;jt++,Zt=Q.next())Zt=W(gt,G,jt,Zt.value,it),Zt!==null&&(n&&Zt.alternate!==null&&gt.delete(Zt.key===null?jt:Zt.key),q=p(Zt,q,jt),$t===null?Et=Zt:$t.sibling=Zt,$t=Zt);return n&&gt.forEach(function(L2){return s(G,L2)}),Ht&&Cs(G,jt),Et}function ue(G,q,Q,it){if(typeof Q=="object"&&Q!==null&&Q.type===O&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:t:{for(var Et=Q.key;q!==null;){if(q.key===Et){if(Et=Q.type,Et===O){if(q.tag===7){a(G,q.sibling),it=f(q,Q.props.children),it.return=G,G=it;break t}}else if(q.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===x&&ua(Et)===q.type){a(G,q.sibling),it=f(q,Q.props),Al(it,Q),it.return=G,G=it;break t}a(G,q);break}else s(G,q);q=q.sibling}Q.type===O?(it=sa(Q.props.children,G.mode,it,Q.key),it.return=G,G=it):(it=Ec(Q.type,Q.key,Q.props,null,G.mode,it),Al(it,Q),it.return=G,G=it)}return _(G);case z:t:{for(Et=Q.key;q!==null;){if(q.key===Et)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){a(G,q.sibling),it=f(q,Q.children||[]),it.return=G,G=it;break t}else{a(G,q);break}else s(G,q);q=q.sibling}it=ed(Q,G.mode,it),it.return=G,G=it}return _(G);case x:return Q=ua(Q),ue(G,q,Q,it)}if(Lt(Q))return mt(G,q,Q,it);if(H(Q)){if(Et=H(Q),typeof Et!="function")throw Error(r(150));return Q=Et.call(Q),St(G,q,Q,it)}if(typeof Q.then=="function")return ue(G,q,Dc(Q),it);if(Q.$$typeof===U)return ue(G,q,Ac(G,Q),it);Nc(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,q!==null&&q.tag===6?(a(G,q.sibling),it=f(q,Q),it.return=G,G=it):(a(G,q),it=td(Q,G.mode,it),it.return=G,G=it),_(G)):a(G,q)}return function(G,q,Q,it){try{Sl=0;var Et=ue(G,q,Q,it);return io=null,Et}catch(gt){if(gt===no||gt===Cc)throw gt;var $t=si(29,gt,null,G.mode);return $t.lanes=it,$t.return=G,$t}}}var ha=vv(!0),bv=vv(!1),ar=!1;function dd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function or(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function lr(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Wt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Tc(n),nv(n,null,a),s}return _c(n,l,s,a),Tc(n)}function wl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Sn(n,a)}}function pd(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var gd=!1;function Cl(){if(gd){var n=eo;if(n!==null)throw n}}function Rl(n,s,a,l){gd=!1;var f=n.updateQueue;ar=!1;var p=f.firstBaseUpdate,_=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var k=C,$=k.next;k.next=null,_===null?p=$:_.next=$,_=k;var nt=n.alternate;nt!==null&&(nt=nt.updateQueue,C=nt.lastBaseUpdate,C!==_&&(C===null?nt.firstBaseUpdate=$:C.next=$,nt.lastBaseUpdate=k))}if(p!==null){var rt=f.baseState;_=0,nt=$=k=null,C=p;do{var Z=C.lane&-536870913,W=Z!==C.lane;if(W?(zt&Z)===Z:(l&Z)===Z){Z!==0&&Z===to&&(gd=!0),nt!==null&&(nt=nt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var mt=n,St=C;Z=s;var ue=a;switch(St.tag){case 1:if(mt=St.payload,typeof mt=="function"){rt=mt.call(ue,rt,Z);break t}rt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=St.payload,Z=typeof mt=="function"?mt.call(ue,rt,Z):mt,Z==null)break t;rt=v({},rt,Z);break t;case 2:ar=!0}}Z=C.callback,Z!==null&&(n.flags|=64,W&&(n.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Z]:W.push(Z))}else W={lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},nt===null?($=nt=W,k=rt):nt=nt.next=W,_|=Z;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;W=C,C=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);nt===null&&(k=rt),f.baseState=k,f.firstBaseUpdate=$,f.lastBaseUpdate=nt,p===null&&(f.shared.lanes=0),dr|=_,n.lanes=_,n.memoizedState=rt}}function _v(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Tv(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)_v(a[n],s)}var so=F(null),Mc=F(0);function Ev(n,s){n=Ps,ut(Mc,n),ut(so,s),Ps=n|s.baseLanes}function yd(){ut(Mc,Ps),ut(so,so.current)}function vd(){Ps=Mc.current,et(so),et(Mc)}var ri=F(null),_i=null;function ur(n){var s=n.alternate;ut(Ve,Ve.current&1),ut(ri,n),_i===null&&(s===null||so.current!==null||s.memoizedState!==null)&&(_i=n)}function bd(n){ut(Ve,Ve.current),ut(ri,n),_i===null&&(_i=n)}function xv(n){n.tag===22?(ut(Ve,Ve.current),ut(ri,n),_i===null&&(_i=n)):cr()}function cr(){ut(Ve,Ve.current),ut(ri,ri.current)}function ai(n){et(ri),_i===n&&(_i=null),et(Ve)}var Ve=F(0);function Vc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Am(a)||wm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ns=0,Ot=null,oe=null,Fe=null,Ic=!1,ro=!1,fa=!1,Oc=0,Dl=0,ao=null,ww=0;function we(){throw Error(r(321))}function _d(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!ii(n[a],s[a]))return!1;return!0}function Td(n,s,a,l,f,p){return Ns=p,Ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,tt.H=n===null||n.memoizedState===null?a0:Ld,fa=!1,p=a(l,f),fa=!1,ro&&(p=Av(s,a,l,f)),Sv(n),p}function Sv(n){tt.H=Vl;var s=oe!==null&&oe.next!==null;if(Ns=0,Fe=oe=Ot=null,Ic=!1,Dl=0,ao=null,s)throw Error(r(300));n===null||qe||(n=n.dependencies,n!==null&&Sc(n)&&(qe=!0))}function Av(n,s,a,l){Ot=n;var f=0;do{if(ro&&(ao=null),Dl=0,ro=!1,25<=f)throw Error(r(301));if(f+=1,Fe=oe=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}tt.H=o0,p=s(a,l)}while(ro);return p}function Cw(){var n=tt.H,s=n.useState()[0];return s=typeof s.then=="function"?Nl(s):s,n=n.useState()[0],(oe!==null?oe.memoizedState:null)!==n&&(Ot.flags|=1024),s}function Ed(){var n=Oc!==0;return Oc=0,n}function xd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Sd(n){if(Ic){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ic=!1}Ns=0,Fe=oe=Ot=null,ro=!1,Dl=Oc=0,ao=null}function kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Ot.memoizedState=Fe=n:Fe=Fe.next=n,Fe}function Ie(){if(oe===null){var n=Ot.alternate;n=n!==null?n.memoizedState:null}else n=oe.next;var s=Fe===null?Ot.memoizedState:Fe.next;if(s!==null)Fe=s,oe=n;else{if(n===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));oe=n,n={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Fe===null?Ot.memoizedState=Fe=n:Fe=Fe.next=n}return Fe}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(n){var s=Dl;return Dl+=1,ao===null&&(ao=[]),n=pv(ao,n,s),s=Ot,(Fe===null?s.memoizedState:Fe.next)===null&&(s=s.alternate,tt.H=s===null||s.memoizedState===null?a0:Ld),n}function Lc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Nl(n);if(n.$$typeof===U)return fn(n)}throw Error(r(438,String(n)))}function Ad(n){var s=null,a=Ot.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=jc(),Ot.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=j;return s.index++,a}function Ms(n,s){return typeof s=="function"?s(n):s}function kc(n){var s=Ie();return wd(s,oe,n)}function wd(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var _=f.next;f.next=p.next,p.next=_}s.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var C=_=null,k=null,$=s,nt=!1;do{var rt=$.lane&-536870913;if(rt!==$.lane?(zt&rt)===rt:(Ns&rt)===rt){var Z=$.revertLane;if(Z===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),rt===to&&(nt=!0);else if((Ns&Z)===Z){$=$.next,Z===to&&(nt=!0);continue}else rt={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},k===null?(C=k=rt,_=p):k=k.next=rt,Ot.lanes|=Z,dr|=Z;rt=$.action,fa&&a(p,rt),p=$.hasEagerState?$.eagerState:a(p,rt)}else Z={lane:rt,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},k===null?(C=k=Z,_=p):k=k.next=Z,Ot.lanes|=rt,dr|=rt;$=$.next}while($!==null&&$!==s);if(k===null?_=p:k.next=C,!ii(p,n.memoizedState)&&(qe=!0,nt&&(a=eo,a!==null)))throw a;n.memoizedState=p,n.baseState=_,n.baseQueue=k,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Cd(n){var s=Ie(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do p=n(p,_.action),_=_.next;while(_!==f);ii(p,s.memoizedState)||(qe=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function wv(n,s,a){var l=Ot,f=Ie(),p=Ht;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!ii((oe||f).memoizedState,a);if(_&&(f.memoizedState=a,qe=!0),f=f.queue,Nd(Dv.bind(null,l,f,n),[n]),f.getSnapshot!==s||_||Fe!==null&&Fe.memoizedState.tag&1){if(l.flags|=2048,oo(9,{destroy:void 0},Rv.bind(null,l,f,a,s),null),ce===null)throw Error(r(349));p||(Ns&127)!==0||Cv(l,s,a)}return a}function Cv(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ot.updateQueue,s===null?(s=jc(),Ot.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Rv(n,s,a,l){s.value=a,s.getSnapshot=l,Nv(s)&&Mv(n)}function Dv(n,s,a){return a(function(){Nv(s)&&Mv(n)})}function Nv(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!ii(n,a)}catch{return!0}}function Mv(n){var s=ia(n,2);s!==null&&Xn(s,n,2)}function Rd(n){var s=kn();if(typeof n=="function"){var a=n;if(n=a(),fa){Tn(!0);try{a()}finally{Tn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:n},s}function Vv(n,s,a,l){return n.baseState=a,wd(n,oe,typeof l=="function"?l:Ms)}function Rw(n,s,a,l,f){if(zc(n))throw Error(r(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};tt.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,Iv(s,p)):(p.next=a.next,s.pending=a.next=p)}}function Iv(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var p=tt.T,_={};tt.T=_;try{var C=a(f,l),k=tt.S;k!==null&&k(_,C),Ov(n,s,C)}catch($){Dd(n,s,$)}finally{p!==null&&_.types!==null&&(p.types=_.types),tt.T=p}}else try{p=a(f,l),Ov(n,s,p)}catch($){Dd(n,s,$)}}function Ov(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jv(n,s,l)},function(l){return Dd(n,s,l)}):jv(n,s,a)}function jv(n,s,a){s.status="fulfilled",s.value=a,Lv(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Iv(n,a)))}function Dd(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Lv(s),s=s.next;while(s!==l)}n.action=null}function Lv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function kv(n,s){return s}function Pv(n,s){if(Ht){var a=ce.formState;if(a!==null){t:{var l=Ot;if(Ht){if(fe){e:{for(var f=fe,p=bi;f.nodeType!==8;){if(!p){f=null;break e}if(f=Ti(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){fe=Ti(f.nextSibling),l=f.data==="F!";break t}}sr(l)}l=!1}l&&(s=a[0])}}return a=kn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kv,lastRenderedState:s},a.queue=l,a=i0.bind(null,Ot,l),l.dispatch=a,l=Rd(!1),p=jd.bind(null,Ot,!1,l.queue),l=kn(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=Rw.bind(null,Ot,f,p,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function Uv(n){var s=Ie();return zv(s,oe,n)}function zv(n,s,a){if(s=wd(n,s,kv)[0],n=kc(Ms)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Nl(s)}catch(_){throw _===no?Cc:_}else l=s;s=Ie();var f=s.queue,p=f.dispatch;return a!==s.memoizedState&&(Ot.flags|=2048,oo(9,{destroy:void 0},Dw.bind(null,f,a),null)),[l,p,n]}function Dw(n,s){n.action=s}function Bv(n){var s=Ie(),a=oe;if(a!==null)return zv(s,a,n);Ie(),s=s.memoizedState,a=Ie();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function oo(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Ot.updateQueue,s===null&&(s=jc(),Ot.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function Fv(){return Ie().memoizedState}function Pc(n,s,a,l){var f=kn();Ot.flags|=n,f.memoizedState=oo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Uc(n,s,a,l){var f=Ie();l=l===void 0?null:l;var p=f.memoizedState.inst;oe!==null&&l!==null&&_d(l,oe.memoizedState.deps)?f.memoizedState=oo(s,p,a,l):(Ot.flags|=n,f.memoizedState=oo(1|s,p,a,l))}function qv(n,s){Pc(8390656,8,n,s)}function Nd(n,s){Uc(2048,8,n,s)}function Nw(n){Ot.flags|=4;var s=Ot.updateQueue;if(s===null)s=jc(),Ot.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function Hv(n){var s=Ie().memoizedState;return Nw({ref:s,nextImpl:n}),function(){if((Wt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Gv(n,s){return Uc(4,2,n,s)}function Kv(n,s){return Uc(4,4,n,s)}function Yv(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Xv(n,s,a){a=a!=null?a.concat([n]):null,Uc(4,4,Yv.bind(null,s,n),a)}function Md(){}function Qv(n,s){var a=Ie();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&_d(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function $v(n,s){var a=Ie();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&_d(s,l[1]))return l[0];if(l=n(),fa){Tn(!0);try{n()}finally{Tn(!1)}}return a.memoizedState=[l,s],l}function Vd(n,s,a){return a===void 0||(Ns&1073741824)!==0&&(zt&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=Z0(),Ot.lanes|=n,dr|=n,a)}function Zv(n,s,a,l){return ii(a,s)?a:so.current!==null?(n=Vd(n,a,l),ii(n,s)||(qe=!0),n):(Ns&42)===0||(Ns&1073741824)!==0&&(zt&261930)===0?(qe=!0,n.memoizedState=a):(n=Z0(),Ot.lanes|=n,dr|=n,s)}function Jv(n,s,a,l,f){var p=st.p;st.p=p!==0&&8>p?p:8;var _=tt.T,C={};tt.T=C,jd(n,!1,s,a);try{var k=f(),$=tt.S;if($!==null&&$(C,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var nt=Aw(k,l);Ml(n,s,nt,ui(n))}else Ml(n,s,l,ui(n))}catch(rt){Ml(n,s,{then:function(){},status:"rejected",reason:rt},ui())}finally{st.p=p,_!==null&&C.types!==null&&(_.types=C.types),tt.T=_}}function Mw(){}function Id(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=Wv(n).queue;Jv(n,f,s,ft,a===null?Mw:function(){return t0(n),a(l)})}function Wv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function t0(n){var s=Wv(n);s.next===null&&(s=n.alternate.memoizedState),Ml(n,s.next.queue,{},ui())}function Od(){return fn(Xl)}function e0(){return Ie().memoizedState}function n0(){return Ie().memoizedState}function Vw(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=ui();n=or(a);var l=lr(s,n,a);l!==null&&(Xn(l,s,a),wl(l,s,a)),s={cache:ud()},n.payload=s;return}s=s.return}}function Iw(n,s,a){var l=ui();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zc(n)?s0(s,a):(a=Jf(n,s,a,l),a!==null&&(Xn(a,n,l),r0(a,s,l)))}function i0(n,s,a){var l=ui();Ml(n,s,a,l)}function Ml(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zc(n))s0(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var _=s.lastRenderedState,C=p(_,a);if(f.hasEagerState=!0,f.eagerState=C,ii(C,_))return _c(n,s,f,0),ce===null&&bc(),!1}catch{}if(a=Jf(n,s,f,l),a!==null)return Xn(a,n,l),r0(a,s,l),!0}return!1}function jd(n,s,a,l){if(l={lane:2,revertLane:dm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zc(n)){if(s)throw Error(r(479))}else s=Jf(n,a,l,2),s!==null&&Xn(s,n,2)}function zc(n){var s=n.alternate;return n===Ot||s!==null&&s===Ot}function s0(n,s){ro=Ic=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function r0(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Sn(n,a)}}var Vl={readContext:fn,use:Lc,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};Vl.useEffectEvent=we;var a0={readContext:fn,use:Lc,useCallback:function(n,s){return kn().memoizedState=[n,s===void 0?null:s],n},useContext:fn,useEffect:qv,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Pc(4194308,4,Yv.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Pc(4194308,4,n,s)},useInsertionEffect:function(n,s){Pc(4,2,n,s)},useMemo:function(n,s){var a=kn();s=s===void 0?null:s;var l=n();if(fa){Tn(!0);try{n()}finally{Tn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=kn();if(a!==void 0){var f=a(s);if(fa){Tn(!0);try{a(s)}finally{Tn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Iw.bind(null,Ot,n),[l.memoizedState,n]},useRef:function(n){var s=kn();return n={current:n},s.memoizedState=n},useState:function(n){n=Rd(n);var s=n.queue,a=i0.bind(null,Ot,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Md,useDeferredValue:function(n,s){var a=kn();return Vd(a,n,s)},useTransition:function(){var n=Rd(!1);return n=Jv.bind(null,Ot,n.queue,!0,!1),kn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Ot,f=kn();if(Ht){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ce===null)throw Error(r(349));(zt&127)!==0||Cv(l,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,qv(Dv.bind(null,l,p,n),[n]),l.flags|=2048,oo(9,{destroy:void 0},Rv.bind(null,l,p,a,s),null),a},useId:function(){var n=kn(),s=ce.identifierPrefix;if(Ht){var a=os,l=as;a=(l&~(1<<32-pe(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Oc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=ww++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Od,useFormState:Pv,useActionState:Pv,useOptimistic:function(n){var s=kn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=jd.bind(null,Ot,!0,a),a.dispatch=s,[n,s]},useMemoCache:Ad,useCacheRefresh:function(){return kn().memoizedState=Vw.bind(null,Ot)},useEffectEvent:function(n){var s=kn(),a={impl:n};return s.memoizedState=a,function(){if((Wt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ld={readContext:fn,use:Lc,useCallback:Qv,useContext:fn,useEffect:Nd,useImperativeHandle:Xv,useInsertionEffect:Gv,useLayoutEffect:Kv,useMemo:$v,useReducer:kc,useRef:Fv,useState:function(){return kc(Ms)},useDebugValue:Md,useDeferredValue:function(n,s){var a=Ie();return Zv(a,oe.memoizedState,n,s)},useTransition:function(){var n=kc(Ms)[0],s=Ie().memoizedState;return[typeof n=="boolean"?n:Nl(n),s]},useSyncExternalStore:wv,useId:e0,useHostTransitionStatus:Od,useFormState:Uv,useActionState:Uv,useOptimistic:function(n,s){var a=Ie();return Vv(a,oe,n,s)},useMemoCache:Ad,useCacheRefresh:n0};Ld.useEffectEvent=Hv;var o0={readContext:fn,use:Lc,useCallback:Qv,useContext:fn,useEffect:Nd,useImperativeHandle:Xv,useInsertionEffect:Gv,useLayoutEffect:Kv,useMemo:$v,useReducer:Cd,useRef:Fv,useState:function(){return Cd(Ms)},useDebugValue:Md,useDeferredValue:function(n,s){var a=Ie();return oe===null?Vd(a,n,s):Zv(a,oe.memoizedState,n,s)},useTransition:function(){var n=Cd(Ms)[0],s=Ie().memoizedState;return[typeof n=="boolean"?n:Nl(n),s]},useSyncExternalStore:wv,useId:e0,useHostTransitionStatus:Od,useFormState:Bv,useActionState:Bv,useOptimistic:function(n,s){var a=Ie();return oe!==null?Vv(a,oe,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:n0};o0.useEffectEvent=Hv;function kd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Pd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=ui(),f=or(l);f.payload=s,a!=null&&(f.callback=a),s=lr(n,f,l),s!==null&&(Xn(s,n,l),wl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=ui(),f=or(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=lr(n,f,l),s!==null&&(Xn(s,n,l),wl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=ui(),l=or(a);l.tag=2,s!=null&&(l.callback=s),s=lr(n,l,a),s!==null&&(Xn(s,n,a),wl(s,n,a))}};function l0(n,s,a,l,f,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,_):s.prototype&&s.prototype.isPureReactComponent?!vl(a,l)||!vl(f,p):!0}function u0(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Pd.enqueueReplaceState(s,s.state,null)}function da(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function c0(n){vc(n)}function h0(n){console.error(n)}function f0(n){vc(n)}function Bc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function d0(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ud(n,s,a){return a=or(a),a.tag=3,a.payload={element:null},a.callback=function(){Bc(n,s)},a}function m0(n){return n=or(n),n.tag=3,n}function p0(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){d0(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){d0(s,a,l),typeof f!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function Ow(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Wa(s,a,f,!0),a=ri.current,a!==null){switch(a.tag){case 31:case 13:return _i===null?Wc():a.alternate===null&&Ce===0&&(Ce=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Rc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),cm(n,l,f)),!1;case 22:return a.flags|=65536,l===Rc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),cm(n,l,f)),!1}throw Error(r(435,a.tag))}return cm(n,l,f),Wc(),!1}if(Ht)return s=ri.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==sd&&(n=Error(r(422),{cause:l}),Tl(gi(n,a)))):(l!==sd&&(s=Error(r(423),{cause:l}),Tl(gi(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=gi(l,a),f=Ud(n.stateNode,l,f),pd(n,f),Ce!==4&&(Ce=2)),!1;var p=Error(r(520),{cause:l});if(p=gi(p,a),zl===null?zl=[p]:zl.push(p),Ce!==4&&(Ce=2),s===null)return!0;l=gi(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ud(a.stateNode,l,n),pd(a,n),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(mr===null||!mr.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=m0(f),p0(f,n,a,l),pd(a,f),!1}a=a.return}while(a!==null);return!1}var zd=Error(r(461)),qe=!1;function dn(n,s,a,l){s.child=n===null?bv(s,null,a,l):ha(s,n.child,a,l)}function g0(n,s,a,l,f){a=a.render;var p=s.ref;if("ref"in l){var _={};for(var C in l)C!=="ref"&&(_[C]=l[C])}else _=l;return oa(s),l=Td(n,s,a,_,p,f),C=Ed(),n!==null&&!qe?(xd(n,s,f),Vs(n,s,f)):(Ht&&C&&nd(s),s.flags|=1,dn(n,s,l,f),s.child)}function y0(n,s,a,l,f){if(n===null){var p=a.type;return typeof p=="function"&&!Wf(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,v0(n,s,p,l,f)):(n=Ec(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!Xd(n,f)){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(_,l)&&n.ref===s.ref)return Vs(n,s,f)}return s.flags|=1,n=ws(p,l),n.ref=s.ref,n.return=s,s.child=n}function v0(n,s,a,l,f){if(n!==null){var p=n.memoizedProps;if(vl(p,l)&&n.ref===s.ref)if(qe=!1,s.pendingProps=l=p,Xd(n,f))(n.flags&131072)!==0&&(qe=!0);else return s.lanes=n.lanes,Vs(n,s,f)}return Bd(n,s,a,l,f)}function b0(n,s,a,l){var f=l.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~p}else l=0,s.child=null;return _0(n,s,p,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&wc(s,p!==null?p.cachePool:null),p!==null?Ev(s,p):yd(),xv(s);else return l=s.lanes=536870912,_0(n,s,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(wc(s,p.cachePool),Ev(s,p),cr(),s.memoizedState=null):(n!==null&&wc(s,null),yd(),cr());return dn(n,s,f,a),s.child}function Il(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function _0(n,s,a,l,f){var p=hd();return p=p===null?null:{parent:Be._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},n!==null&&wc(s,null),yd(),xv(s),n!==null&&Wa(n,s,l,!0),s.childLanes=f,null}function Fc(n,s){return s=Hc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function T0(n,s,a){return ha(s,n.child,null,a),n=Fc(s,s.pendingProps),n.flags|=2,ai(s),s.memoizedState=null,n}function jw(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ht){if(l.mode==="hidden")return n=Fc(s,l),s.lanes=536870912,Il(null,n);if(bd(s),(n=fe)?(n=Ib(n,bi),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:nr!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},a=sv(n),a.return=s,s.child=a,hn=s,fe=null)):n=null,n===null)throw sr(s);return s.lanes=536870912,null}return Fc(s,l)}var p=n.memoizedState;if(p!==null){var _=p.dehydrated;if(bd(s),f)if(s.flags&256)s.flags&=-257,s=T0(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(qe||Wa(n,s,a,!1),f=(a&n.childLanes)!==0,qe||f){if(l=ce,l!==null&&(_=In(l,a),_!==0&&_!==p.retryLane))throw p.retryLane=_,ia(n,_),Xn(l,n,_),zd;Wc(),s=T0(n,s,a)}else n=p.treeContext,fe=Ti(_.nextSibling),hn=s,Ht=!0,ir=null,bi=!1,n!==null&&ov(s,n),s=Fc(s,l),s.flags|=4096;return s}return n=ws(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function qc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Bd(n,s,a,l,f){return oa(s),a=Td(n,s,a,l,void 0,f),l=Ed(),n!==null&&!qe?(xd(n,s,f),Vs(n,s,f)):(Ht&&l&&nd(s),s.flags|=1,dn(n,s,a,f),s.child)}function E0(n,s,a,l,f,p){return oa(s),s.updateQueue=null,a=Av(s,l,a,f),Sv(n),l=Ed(),n!==null&&!qe?(xd(n,s,p),Vs(n,s,p)):(Ht&&l&&nd(s),s.flags|=1,dn(n,s,a,p),s.child)}function x0(n,s,a,l,f){if(oa(s),s.stateNode===null){var p=Qa,_=a.contextType;typeof _=="object"&&_!==null&&(p=fn(_)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Pd,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},dd(s),_=a.contextType,p.context=typeof _=="object"&&_!==null?fn(_):Qa,p.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(kd(s,a,_,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&Pd.enqueueReplaceState(p,p.state,null),Rl(s,l,p,f),Cl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){p=s.stateNode;var C=s.memoizedProps,k=da(a,C);p.props=k;var $=p.context,nt=a.contextType;_=Qa,typeof nt=="object"&&nt!==null&&(_=fn(nt));var rt=a.getDerivedStateFromProps;nt=typeof rt=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,nt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||$!==_)&&u0(s,p,l,_),ar=!1;var Z=s.memoizedState;p.state=Z,Rl(s,l,p,f),Cl(),$=s.memoizedState,C||Z!==$||ar?(typeof rt=="function"&&(kd(s,a,rt,l),$=s.memoizedState),(k=ar||l0(s,a,k,l,Z,$,_))?(nt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=$),p.props=l,p.state=$,p.context=_,l=k):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,md(n,s),_=s.memoizedProps,nt=da(a,_),p.props=nt,rt=s.pendingProps,Z=p.context,$=a.contextType,k=Qa,typeof $=="object"&&$!==null&&(k=fn($)),C=a.getDerivedStateFromProps,($=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==rt||Z!==k)&&u0(s,p,l,k),ar=!1,Z=s.memoizedState,p.state=Z,Rl(s,l,p,f),Cl();var W=s.memoizedState;_!==rt||Z!==W||ar||n!==null&&n.dependencies!==null&&Sc(n.dependencies)?(typeof C=="function"&&(kd(s,a,C,l),W=s.memoizedState),(nt=ar||l0(s,a,nt,l,Z,W,k)||n!==null&&n.dependencies!==null&&Sc(n.dependencies))?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,W,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,W,k)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&Z===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Z===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=W),p.props=l,p.state=W,p.context=k,l=nt):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&Z===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Z===n.memoizedState||(s.flags|=1024),l=!1)}return p=l,qc(n,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&l?(s.child=ha(s,n.child,null,f),s.child=ha(s,null,a,f)):dn(n,s,a,f),s.memoizedState=p.state,n=s.child):n=Vs(n,s,f),n}function S0(n,s,a,l){return ra(),s.flags|=256,dn(n,s,a,l),s.child}var Fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qd(n){return{baseLanes:n,cachePool:dv()}}function Hd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=li),n}function A0(n,s,a){var l=s.pendingProps,f=!1,p=(s.flags&128)!==0,_;if((_=p)||(_=n!==null&&n.memoizedState===null?!1:(Ve.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ht){if(f?ur(s):cr(),(n=fe)?(n=Ib(n,bi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:nr!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},a=sv(n),a.return=s,s.child=a,hn=s,fe=null)):n=null,n===null)throw sr(s);return wm(n)?s.lanes=32:s.lanes=536870912,null}var C=l.children;return l=l.fallback,f?(cr(),f=s.mode,C=Hc({mode:"hidden",children:C},f),l=sa(l,f,a,null),C.return=s,l.return=s,C.sibling=l,s.child=C,l=s.child,l.memoizedState=qd(a),l.childLanes=Hd(n,_,a),s.memoizedState=Fd,Il(null,l)):(ur(s),Gd(s,C))}var k=n.memoizedState;if(k!==null&&(C=k.dehydrated,C!==null)){if(p)s.flags&256?(ur(s),s.flags&=-257,s=Kd(n,s,a)):s.memoizedState!==null?(cr(),s.child=n.child,s.flags|=128,s=null):(cr(),C=l.fallback,f=s.mode,l=Hc({mode:"visible",children:l.children},f),C=sa(C,f,a,null),C.flags|=2,l.return=s,C.return=s,l.sibling=C,s.child=l,ha(s,n.child,null,a),l=s.child,l.memoizedState=qd(a),l.childLanes=Hd(n,_,a),s.memoizedState=Fd,s=Il(null,l));else if(ur(s),wm(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var $=_.dgst;_=$,l=Error(r(419)),l.stack="",l.digest=_,Tl({value:l,source:null,stack:null}),s=Kd(n,s,a)}else if(qe||Wa(n,s,a,!1),_=(a&n.childLanes)!==0,qe||_){if(_=ce,_!==null&&(l=In(_,a),l!==0&&l!==k.retryLane))throw k.retryLane=l,ia(n,l),Xn(_,n,l),zd;Am(C)||Wc(),s=Kd(n,s,a)}else Am(C)?(s.flags|=192,s.child=n.child,s=null):(n=k.treeContext,fe=Ti(C.nextSibling),hn=s,Ht=!0,ir=null,bi=!1,n!==null&&ov(s,n),s=Gd(s,l.children),s.flags|=4096);return s}return f?(cr(),C=l.fallback,f=s.mode,k=n.child,$=k.sibling,l=ws(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,$!==null?C=ws($,C):(C=sa(C,f,a,null),C.flags|=2),C.return=s,l.return=s,l.sibling=C,s.child=l,Il(null,l),l=s.child,C=n.child.memoizedState,C===null?C=qd(a):(f=C.cachePool,f!==null?(k=Be._currentValue,f=f.parent!==k?{parent:k,pool:k}:f):f=dv(),C={baseLanes:C.baseLanes|a,cachePool:f}),l.memoizedState=C,l.childLanes=Hd(n,_,a),s.memoizedState=Fd,Il(n.child,l)):(ur(s),a=n.child,n=a.sibling,a=ws(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=a,s.memoizedState=null,a)}function Gd(n,s){return s=Hc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Hc(n,s){return n=si(22,n,null,s),n.lanes=0,n}function Kd(n,s,a){return ha(s,n.child,null,a),n=Gd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function w0(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),od(n.return,s,a)}function Yd(n,s,a,l,f,p){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:p}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=p)}function C0(n,s,a){var l=s.pendingProps,f=l.revealOrder,p=l.tail;l=l.children;var _=Ve.current,C=(_&2)!==0;if(C?(_=_&1|2,s.flags|=128):_&=1,ut(Ve,_),dn(n,s,l,a),l=Ht?_l:0,!C&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&w0(n,a,s);else if(n.tag===19)w0(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Vc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Yd(s,!1,f,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Vc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Yd(s,!0,a,null,p,l);break;case"together":Yd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Vs(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),dr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Wa(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=ws(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ws(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Xd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Sc(n)))}function Lw(n,s,a){switch(s.tag){case 3:Vt(s,s.stateNode.containerInfo),rr(s,Be,n.memoizedState.cache),ra();break;case 27:case 5:At(s);break;case 4:Vt(s,s.stateNode.containerInfo);break;case 10:rr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,bd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ur(s),s.flags|=128,null):(a&s.child.childLanes)!==0?A0(n,s,a):(ur(s),n=Vs(n,s,a),n!==null?n.sibling:null);ur(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Wa(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return C0(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(Ve,Ve.current),l)break;return null;case 22:return s.lanes=0,b0(n,s,a,s.pendingProps);case 24:rr(s,Be,n.memoizedState.cache)}return Vs(n,s,a)}function R0(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)qe=!0;else{if(!Xd(n,a)&&(s.flags&128)===0)return qe=!1,Lw(n,s,a);qe=(n.flags&131072)!==0}else qe=!1,Ht&&(s.flags&1048576)!==0&&av(s,_l,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(n=ua(s.elementType),s.type=n,typeof n=="function")Wf(n)?(l=da(n,l),s.tag=1,s=x0(null,s,n,l,a)):(s.tag=0,s=Bd(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===K){s.tag=11,s=g0(null,s,n,l,a);break t}else if(f===A){s.tag=14,s=y0(null,s,n,l,a);break t}}throw s=Ct(n)||n,Error(r(306,s,""))}}return s;case 0:return Bd(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=da(l,s.pendingProps),x0(n,s,l,f,a);case 3:t:{if(Vt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var p=s.memoizedState;f=p.element,md(n,s),Rl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,rr(s,Be,l),l!==p.cache&&ld(s,[Be],a,!0),Cl(),l=_.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=S0(n,s,l,a);break t}else if(l!==f){f=gi(Error(r(424)),s),Tl(f),s=S0(n,s,l,a);break t}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,fe=Ti(n.firstChild),hn=s,Ht=!0,ir=null,bi=!0,a=bv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ra(),l===f){s=Vs(n,s,a);break t}dn(n,s,l,a)}s=s.child}return s;case 26:return qc(n,s),n===null?(a=Ub(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ht||(a=s.type,n=s.pendingProps,l=ah(vt.current).createElement(a),l[Pe]=s,l[sn]=n,mn(l,a,n),Ue(l),s.stateNode=l):s.memoizedState=Ub(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return At(s),n===null&&Ht&&(l=s.stateNode=Lb(s.type,s.pendingProps,vt.current),hn=s,bi=!0,f=fe,vr(s.type)?(Cm=f,fe=Ti(l.firstChild)):fe=f),dn(n,s,s.pendingProps.children,a),qc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ht&&((f=l=fe)&&(l=f2(l,s.type,s.pendingProps,bi),l!==null?(s.stateNode=l,hn=s,fe=Ti(l.firstChild),bi=!1,f=!0):f=!1),f||sr(s)),At(s),f=s.type,p=s.pendingProps,_=n!==null?n.memoizedProps:null,l=p.children,Em(f,p)?l=null:_!==null&&Em(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Td(n,s,Cw,null,null,a),Xl._currentValue=f),qc(n,s),dn(n,s,l,a),s.child;case 6:return n===null&&Ht&&((n=a=fe)&&(a=d2(a,s.pendingProps,bi),a!==null?(s.stateNode=a,hn=s,fe=null,n=!0):n=!1),n||sr(s)),null;case 13:return A0(n,s,a);case 4:return Vt(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=ha(s,null,l,a):dn(n,s,l,a),s.child;case 11:return g0(n,s,s.type,s.pendingProps,a);case 7:return dn(n,s,s.pendingProps,a),s.child;case 8:return dn(n,s,s.pendingProps.children,a),s.child;case 12:return dn(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,rr(s,s.type,l.value),dn(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,oa(s),f=fn(f),l=l(f),s.flags|=1,dn(n,s,l,a),s.child;case 14:return y0(n,s,s.type,s.pendingProps,a);case 15:return v0(n,s,s.type,s.pendingProps,a);case 19:return C0(n,s,a);case 31:return jw(n,s,a);case 22:return b0(n,s,a,s.pendingProps);case 24:return oa(s),l=fn(Be),n===null?(f=hd(),f===null&&(f=ce,p=ud(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),s.memoizedState={parent:l,cache:f},dd(s),rr(s,Be,f)):((n.lanes&a)!==0&&(md(n,s),Rl(s,null,null,a),Cl()),f=n.memoizedState,p=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),rr(s,Be,l)):(l=p.cache,rr(s,Be,l),l!==f.cache&&ld(s,[Be],a,!0))),dn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Is(n){n.flags|=4}function Qd(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(eb())n.flags|=8192;else throw ca=Rc,fd}else n.flags&=-16777217}function D0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Hb(s))if(eb())n.flags|=8192;else throw ca=Rc,fd}function Gc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?nn():536870912,n.lanes|=s,ho|=s)}function Ol(n,s){if(!Ht)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function de(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function kw(n,s,a){var l=s.pendingProps;switch(id(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(s),null;case 1:return de(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ds(Be),Tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ja(s)?Is(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rd())),de(s),null;case 26:var f=s.type,p=s.memoizedState;return n===null?(Is(s),p!==null?(de(s),D0(s,p)):(de(s),Qd(s,f,null,l,a))):p?p!==n.memoizedState?(Is(s),de(s),D0(s,p)):(de(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&Is(s),de(s),Qd(s,f,n,l,a)),null;case 27:if(Mn(s),a=vt.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return de(s),null}n=ht.current,Ja(s)?lv(s):(n=Lb(f,l,a),s.stateNode=n,Is(s))}return de(s),null;case 5:if(Mn(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return de(s),null}if(p=ht.current,Ja(s))lv(s);else{var _=ah(vt.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}p[Pe]=s,p[sn]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=p;t:switch(mn(p,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Is(s)}}return de(s),Qd(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&Is(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=vt.current,Ja(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=hn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Pe]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ab(n.nodeValue,a)),n||sr(s,!0)}else n=ah(n).createTextNode(l),n[Pe]=s,s.stateNode=n}return de(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=Ja(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Pe]=s}else ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;de(s),n=!1}else a=rd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(ai(s),s):(ai(s),null);if((s.flags&128)!==0)throw Error(r(558))}return de(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ja(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Pe]=s}else ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;de(s),f=!1}else f=rd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ai(s),s):(ai(s),null)}return ai(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Gc(s,s.updateQueue),de(s),null);case 4:return Tt(),n===null&&ym(s.stateNode.containerInfo),de(s),null;case 10:return Ds(s.type),de(s),null;case 19:if(et(Ve),l=s.memoizedState,l===null)return de(s),null;if(f=(s.flags&128)!==0,p=l.rendering,p===null)if(f)Ol(l,!1);else{if(Ce!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=Vc(n),p!==null){for(s.flags|=128,Ol(l,!1),n=p.updateQueue,s.updateQueue=n,Gc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)iv(a,n),a=a.sibling;return ut(Ve,Ve.current&1|2),Ht&&Cs(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&je()>$c&&(s.flags|=128,f=!0,Ol(l,!1),s.lanes=4194304)}else{if(!f)if(n=Vc(p),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Gc(s,n),Ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Ht)return de(s),null}else 2*je()-l.renderingStartTime>$c&&a!==536870912&&(s.flags|=128,f=!0,Ol(l,!1),s.lanes=4194304);l.isBackwards?(p.sibling=s.child,s.child=p):(n=l.last,n!==null?n.sibling=p:s.child=p,l.last=p)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=je(),n.sibling=null,a=Ve.current,ut(Ve,f?a&1|2:a&1),Ht&&Cs(s,l.treeForkCount),n):(de(s),null);case 22:case 23:return ai(s),vd(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(de(s),s.subtreeFlags&6&&(s.flags|=8192)):de(s),a=s.updateQueue,a!==null&&Gc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&et(la),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ds(Be),de(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Pw(n,s){switch(id(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ds(Be),Tt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Mn(s),null;case 31:if(s.memoizedState!==null){if(ai(s),s.alternate===null)throw Error(r(340));ra()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(ai(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ra()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return et(Ve),null;case 4:return Tt(),null;case 10:return Ds(s.type),null;case 22:case 23:return ai(s),vd(),n!==null&&et(la),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Ds(Be),null;case 25:return null;default:return null}}function N0(n,s){switch(id(s),s.tag){case 3:Ds(Be),Tt();break;case 26:case 27:case 5:Mn(s);break;case 4:Tt();break;case 31:s.memoizedState!==null&&ai(s);break;case 13:ai(s);break;case 19:et(Ve);break;case 10:Ds(s.type);break;case 22:case 23:ai(s),vd(),n!==null&&et(la);break;case 24:Ds(Be)}}function jl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var p=a.create,_=a.inst;l=p(),_.destroy=l}a=a.next}while(a!==f)}}catch(C){re(s,s.return,C)}}function hr(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var _=l.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,f=s;var k=a,$=C;try{$()}catch(nt){re(f,k,nt)}}}l=l.next}while(l!==p)}}catch(nt){re(s,s.return,nt)}}function M0(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Tv(s,a)}catch(l){re(n,n.return,l)}}}function V0(n,s,a){a.props=da(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){re(n,s,l)}}function Ll(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){re(n,s,f)}}function ls(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){re(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){re(n,s,f)}else a.current=null}function I0(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){re(n,n.return,f)}}function $d(n,s,a){try{var l=n.stateNode;a2(l,n.type,a,s),l[sn]=s}catch(f){re(n,n.return,f)}}function O0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&vr(n.type)||n.tag===4}function Zd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||O0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&vr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jd(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Mi));else if(l!==4&&(l===27&&vr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Jd(n,s,a),n=n.sibling;n!==null;)Jd(n,s,a),n=n.sibling}function Kc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&vr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Kc(n,s,a),n=n.sibling;n!==null;)Kc(n,s,a),n=n.sibling}function j0(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);mn(s,l,a),s[Pe]=n,s[sn]=a}catch(p){re(n,n.return,p)}}var Os=!1,He=!1,Wd=!1,L0=typeof WeakSet=="function"?WeakSet:Set,an=null;function Uw(n,s){if(n=n.containerInfo,_m=dh,n=Xy(n),Kf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var _=0,C=-1,k=-1,$=0,nt=0,rt=n,Z=null;e:for(;;){for(var W;rt!==a||f!==0&&rt.nodeType!==3||(C=_+f),rt!==p||l!==0&&rt.nodeType!==3||(k=_+l),rt.nodeType===3&&(_+=rt.nodeValue.length),(W=rt.firstChild)!==null;)Z=rt,rt=W;for(;;){if(rt===n)break e;if(Z===a&&++$===f&&(C=_),Z===p&&++nt===l&&(k=_),(W=rt.nextSibling)!==null)break;rt=Z,Z=rt.parentNode}rt=W}a=C===-1||k===-1?null:{start:C,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tm={focusedElem:n,selectionRange:a},dh=!1,an=s;an!==null;)if(s=an,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,an=n;else for(;an!==null;){switch(s=an,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=s,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var mt=da(a.type,f);n=l.getSnapshotBeforeUpdate(mt,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(St){re(a,a.return,St)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Sm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Sm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,an=n;break}an=s.return}}function k0(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ls(n,a),l&4&&jl(5,a);break;case 1:if(Ls(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(_){re(a,a.return,_)}else{var f=da(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){re(a,a.return,_)}}l&64&&M0(a),l&512&&Ll(a,a.return);break;case 3:if(Ls(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Tv(n,s)}catch(_){re(a,a.return,_)}}break;case 27:s===null&&l&4&&j0(a);case 26:case 5:Ls(n,a),s===null&&l&4&&I0(a),l&512&&Ll(a,a.return);break;case 12:Ls(n,a);break;case 31:Ls(n,a),l&4&&z0(n,a);break;case 13:Ls(n,a),l&4&&B0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Xw.bind(null,a),m2(n,a))));break;case 22:if(l=a.memoizedState!==null||Os,!l){s=s!==null&&s.memoizedState!==null||He,f=Os;var p=He;Os=l,(He=s)&&!p?ks(n,a,(a.subtreeFlags&8772)!==0):Ls(n,a),Os=f,He=p}break;case 30:break;default:Ls(n,a)}}function P0(n){var s=n.alternate;s!==null&&(n.alternate=null,P0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&ja(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var be=null,Hn=!1;function js(n,s,a){for(a=a.child;a!==null;)U0(n,s,a),a=a.sibling}function U0(n,s,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Jn,a)}catch{}switch(a.tag){case 26:He||ls(a,s),js(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:He||ls(a,s);var l=be,f=Hn;vr(a.type)&&(be=a.stateNode,Hn=!1),js(n,s,a),Gl(a.stateNode),be=l,Hn=f;break;case 5:He||ls(a,s);case 6:if(l=be,f=Hn,be=null,js(n,s,a),be=l,Hn=f,be!==null)if(Hn)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(a.stateNode)}catch(p){re(a,s,p)}else try{be.removeChild(a.stateNode)}catch(p){re(a,s,p)}break;case 18:be!==null&&(Hn?(n=be,Mb(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),_o(n)):Mb(be,a.stateNode));break;case 4:l=be,f=Hn,be=a.stateNode.containerInfo,Hn=!0,js(n,s,a),be=l,Hn=f;break;case 0:case 11:case 14:case 15:hr(2,a,s),He||hr(4,a,s),js(n,s,a);break;case 1:He||(ls(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&V0(a,s,l)),js(n,s,a);break;case 21:js(n,s,a);break;case 22:He=(l=He)||a.memoizedState!==null,js(n,s,a),He=l;break;default:js(n,s,a)}}function z0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{_o(n)}catch(a){re(s,s.return,a)}}}function B0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{_o(n)}catch(a){re(s,s.return,a)}}function zw(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new L0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new L0),s;default:throw Error(r(435,n.tag))}}function Yc(n,s){var a=zw(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=Qw.bind(null,n,l);l.then(f,f)}})}function Gn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=n,_=s,C=_;t:for(;C!==null;){switch(C.tag){case 27:if(vr(C.type)){be=C.stateNode,Hn=!1;break t}break;case 5:be=C.stateNode,Hn=!1;break t;case 3:case 4:be=C.stateNode.containerInfo,Hn=!0;break t}C=C.return}if(be===null)throw Error(r(160));U0(p,_,f),be=null,Hn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)F0(s,n),s=s.sibling}var ki=null;function F0(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gn(s,n),Kn(n),l&4&&(hr(3,n,n.return),jl(3,n),hr(5,n,n.return));break;case 1:Gn(s,n),Kn(n),l&512&&(He||a===null||ls(a,a.return)),l&64&&Os&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ki;if(Gn(s,n),Kn(n),l&512&&(He||a===null||ls(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Xi]||p[Pe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),mn(p,l,a),p[Pe]=n,Ue(p),l=p;break t;case"link":var _=Fb("link","href",f).get(l+(a.href||""));if(_){for(var C=0;C<_.length;C++)if(p=_[C],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(C,1);break e}}p=f.createElement(l),mn(p,l,a),f.head.appendChild(p);break;case"meta":if(_=Fb("meta","content",f).get(l+(a.content||""))){for(C=0;C<_.length;C++)if(p=_[C],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(C,1);break e}}p=f.createElement(l),mn(p,l,a),f.head.appendChild(p);break;default:throw Error(r(468,l))}p[Pe]=n,Ue(p),l=p}n.stateNode=l}else qb(f,n.type,n.stateNode);else n.stateNode=Bb(f,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?qb(f,n.type,n.stateNode):Bb(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&$d(n,n.memoizedProps,a.memoizedProps)}break;case 27:Gn(s,n),Kn(n),l&512&&(He||a===null||ls(a,a.return)),a!==null&&l&4&&$d(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Gn(s,n),Kn(n),l&512&&(He||a===null||ls(a,a.return)),n.flags&32){f=n.stateNode;try{qn(f,"")}catch(mt){re(n,n.return,mt)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,$d(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Wd=!0);break;case 6:if(Gn(s,n),Kn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(mt){re(n,n.return,mt)}}break;case 3:if(uh=null,f=ki,ki=oh(s.containerInfo),Gn(s,n),ki=f,Kn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_o(s.containerInfo)}catch(mt){re(n,n.return,mt)}Wd&&(Wd=!1,q0(n));break;case 4:l=ki,ki=oh(n.stateNode.containerInfo),Gn(s,n),Kn(n),ki=l;break;case 12:Gn(s,n),Kn(n);break;case 31:Gn(s,n),Kn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yc(n,l)));break;case 13:Gn(s,n),Kn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qc=je()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yc(n,l)));break;case 22:f=n.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,$=Os,nt=He;if(Os=$||f,He=nt||k,Gn(s,n),He=nt,Os=$,Kn(n),l&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||k||Os||He||ma(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){k=a=s;try{if(p=k.stateNode,f)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=k.stateNode;var rt=k.memoizedProps.style,Z=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;C.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(mt){re(k,k.return,mt)}}}else if(s.tag===6){if(a===null){k=s;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(mt){re(k,k.return,mt)}}}else if(s.tag===18){if(a===null){k=s;try{var W=k.stateNode;f?Vb(W,!0):Vb(k.stateNode,!1)}catch(mt){re(k,k.return,mt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Yc(n,a))));break;case 19:Gn(s,n),Kn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yc(n,l)));break;case 30:break;case 21:break;default:Gn(s,n),Kn(n)}}function Kn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(O0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,p=Zd(n);Kc(n,p,f);break;case 5:var _=a.stateNode;a.flags&32&&(qn(_,""),a.flags&=-33);var C=Zd(n);Kc(n,C,_);break;case 3:case 4:var k=a.stateNode.containerInfo,$=Zd(n);Jd(n,$,k);break;default:throw Error(r(161))}}catch(nt){re(n,n.return,nt)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function q0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;q0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ls(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)k0(n,s.alternate,s),s=s.sibling}function ma(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:hr(4,s,s.return),ma(s);break;case 1:ls(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&V0(s,s.return,a),ma(s);break;case 27:Gl(s.stateNode);case 26:case 5:ls(s,s.return),ma(s);break;case 22:s.memoizedState===null&&ma(s);break;case 30:ma(s);break;default:ma(s)}n=n.sibling}}function ks(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,p=s,_=p.flags;switch(p.tag){case 0:case 11:case 15:ks(f,p,a),jl(4,p);break;case 1:if(ks(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){re(l,l.return,$)}if(l=p,f=l.updateQueue,f!==null){var C=l.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)_v(k[f],C)}catch($){re(l,l.return,$)}}a&&_&64&&M0(p),Ll(p,p.return);break;case 27:j0(p);case 26:case 5:ks(f,p,a),a&&l===null&&_&4&&I0(p),Ll(p,p.return);break;case 12:ks(f,p,a);break;case 31:ks(f,p,a),a&&_&4&&z0(f,p);break;case 13:ks(f,p,a),a&&_&4&&B0(f,p);break;case 22:p.memoizedState===null&&ks(f,p,a),Ll(p,p.return);break;case 30:break;default:ks(f,p,a)}s=s.sibling}}function tm(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&El(a))}function em(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&El(n))}function Pi(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)H0(n,s,a,l),s=s.sibling}function H0(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Pi(n,s,a,l),f&2048&&jl(9,s);break;case 1:Pi(n,s,a,l);break;case 3:Pi(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&El(n)));break;case 12:if(f&2048){Pi(n,s,a,l),n=s.stateNode;try{var p=s.memoizedProps,_=p.id,C=p.onPostCommit;typeof C=="function"&&C(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){re(s,s.return,k)}}else Pi(n,s,a,l);break;case 31:Pi(n,s,a,l);break;case 13:Pi(n,s,a,l);break;case 23:break;case 22:p=s.stateNode,_=s.alternate,s.memoizedState!==null?p._visibility&2?Pi(n,s,a,l):kl(n,s):p._visibility&2?Pi(n,s,a,l):(p._visibility|=2,lo(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&tm(_,s);break;case 24:Pi(n,s,a,l),f&2048&&em(s.alternate,s);break;default:Pi(n,s,a,l)}}function lo(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,_=s,C=a,k=l,$=_.flags;switch(_.tag){case 0:case 11:case 15:lo(p,_,C,k,f),jl(8,_);break;case 23:break;case 22:var nt=_.stateNode;_.memoizedState!==null?nt._visibility&2?lo(p,_,C,k,f):kl(p,_):(nt._visibility|=2,lo(p,_,C,k,f)),f&&$&2048&&tm(_.alternate,_);break;case 24:lo(p,_,C,k,f),f&&$&2048&&em(_.alternate,_);break;default:lo(p,_,C,k,f)}s=s.sibling}}function kl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:kl(a,l),f&2048&&tm(l.alternate,l);break;case 24:kl(a,l),f&2048&&em(l.alternate,l);break;default:kl(a,l)}s=s.sibling}}var Pl=8192;function uo(n,s,a){if(n.subtreeFlags&Pl)for(n=n.child;n!==null;)G0(n,s,a),n=n.sibling}function G0(n,s,a){switch(n.tag){case 26:uo(n,s,a),n.flags&Pl&&n.memoizedState!==null&&w2(a,ki,n.memoizedState,n.memoizedProps);break;case 5:uo(n,s,a);break;case 3:case 4:var l=ki;ki=oh(n.stateNode.containerInfo),uo(n,s,a),ki=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Pl,Pl=16777216,uo(n,s,a),Pl=l):uo(n,s,a));break;default:uo(n,s,a)}}function K0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ul(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];an=l,X0(l,n)}K0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Y0(n),n=n.sibling}function Y0(n){switch(n.tag){case 0:case 11:case 15:Ul(n),n.flags&2048&&hr(9,n,n.return);break;case 3:Ul(n);break;case 12:Ul(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Xc(n)):Ul(n);break;default:Ul(n)}}function Xc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];an=l,X0(l,n)}K0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:hr(8,s,s.return),Xc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Xc(s));break;default:Xc(s)}n=n.sibling}}function X0(n,s){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:hr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,an=l;else t:for(a=n;an!==null;){l=an;var f=l.sibling,p=l.return;if(P0(l),l===a){an=null;break t}if(f!==null){f.return=p,an=f;break t}an=p}}}var Bw={getCacheForType:function(n){var s=fn(Be),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return fn(Be).controller.signal}},Fw=typeof WeakMap=="function"?WeakMap:Map,Wt=0,ce=null,Pt=null,zt=0,se=0,oi=null,fr=!1,co=!1,nm=!1,Ps=0,Ce=0,dr=0,pa=0,im=0,li=0,ho=0,zl=null,Yn=null,sm=!1,Qc=0,Q0=0,$c=1/0,Zc=null,mr=null,$e=0,pr=null,fo=null,Us=0,rm=0,am=null,$0=null,Bl=0,om=null;function ui(){return(Wt&2)!==0&&zt!==0?zt&-zt:tt.T!==null?dm():ti()}function Z0(){if(li===0)if((zt&536870912)===0||Ht){var n=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),li=n}else li=536870912;return n=ri.current,n!==null&&(n.flags|=32),li}function Xn(n,s,a){(n===ce&&(se===2||se===9)||n.cancelPendingCommit!==null)&&(mo(n,0),gr(n,zt,li,!1)),Bn(n,a),((Wt&2)===0||n!==ce)&&(n===ce&&((Wt&2)===0&&(pa|=a),Ce===4&&gr(n,zt,li,!1)),us(n))}function J0(n,s,a){if((Wt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||ke(n,s),f=l?Gw(n,s):um(n,s,!0),p=l;do{if(f===0){co&&!l&&gr(n,s,0,!1);break}else{if(a=n.current.alternate,p&&!qw(a)){f=um(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var C=n;f=zl;var k=C.current.memoizedState.isDehydrated;if(k&&(mo(C,_).flags|=256),_=um(C,_,!1),_!==2){if(nm&&!k){C.errorRecoveryDisabledLanes|=p,pa|=p,f=4;break t}p=Yn,Yn=f,p!==null&&(Yn===null?Yn=p:Yn.push.apply(Yn,p))}f=_}if(p=!1,f!==2)continue}}if(f===1){mo(n,0),gr(n,s,0,!0);break}t:{switch(l=n,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:gr(l,s,li,!fr);break t;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Qc+300-je(),10<f)){if(gr(l,s,li,!fr),ye(l,0,!0)!==0)break t;Us=s,l.timeoutHandle=Db(W0.bind(null,l,a,Yn,Zc,sm,s,li,pa,ho,fr,p,"Throttled",-0,0),f);break t}W0(l,a,Yn,Zc,sm,s,li,pa,ho,fr,p,null,-0,0)}}break}while(!0);us(n)}function W0(n,s,a,l,f,p,_,C,k,$,nt,rt,Z,W){if(n.timeoutHandle=-1,rt=s.subtreeFlags,rt&8192||(rt&16785408)===16785408){rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mi},G0(s,p,rt);var mt=(p&62914560)===p?Qc-je():(p&4194048)===p?Q0-je():0;if(mt=C2(rt,mt),mt!==null){Us=p,n.cancelPendingCommit=mt(ob.bind(null,n,s,p,a,l,f,_,C,k,nt,rt,null,Z,W)),gr(n,p,_,!$);return}}ob(n,s,p,a,l,f,_,C,k)}function qw(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!ii(p(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gr(n,s,a,l){s&=~im,s&=~pa,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var p=31-pe(f),_=1<<p;l[p]=-1,f&=~_}a!==0&&xn(n,a,s)}function Jc(){return(Wt&6)===0?(Fl(0),!1):!0}function lm(){if(Pt!==null){if(se===0)var n=Pt.return;else n=Pt,Rs=aa=null,Sd(n),io=null,Sl=0,n=Pt;for(;n!==null;)N0(n.alternate,n),n=n.return;Pt=null}}function mo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,u2(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Us=0,lm(),ce=n,Pt=a=ws(n.current,null),zt=s,se=0,oi=null,fr=!1,co=ke(n,s),nm=!1,ho=li=im=pa=dr=Ce=0,Yn=zl=null,sm=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-pe(l),p=1<<f;s|=n[f],l&=~p}return Ps=s,bc(),a}function tb(n,s){Ot=null,tt.H=Vl,s===no||s===Cc?(s=gv(),se=3):s===fd?(s=gv(),se=4):se=s===zd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,oi=s,Pt===null&&(Ce=1,Bc(n,gi(s,n.current)))}function eb(){var n=ri.current;return n===null?!0:(zt&4194048)===zt?_i===null:(zt&62914560)===zt||(zt&536870912)!==0?n===_i:!1}function nb(){var n=tt.H;return tt.H=Vl,n===null?Vl:n}function ib(){var n=tt.A;return tt.A=Bw,n}function Wc(){Ce=4,fr||(zt&4194048)!==zt&&ri.current!==null||(co=!0),(dr&134217727)===0&&(pa&134217727)===0||ce===null||gr(ce,zt,li,!1)}function um(n,s,a){var l=Wt;Wt|=2;var f=nb(),p=ib();(ce!==n||zt!==s)&&(Zc=null,mo(n,s)),s=!1;var _=Ce;t:do try{if(se!==0&&Pt!==null){var C=Pt,k=oi;switch(se){case 8:lm(),_=6;break t;case 3:case 2:case 9:case 6:ri.current===null&&(s=!0);var $=se;if(se=0,oi=null,po(n,C,k,$),a&&co){_=0;break t}break;default:$=se,se=0,oi=null,po(n,C,k,$)}}Hw(),_=Ce;break}catch(nt){tb(n,nt)}while(!0);return s&&n.shellSuspendCounter++,Rs=aa=null,Wt=l,tt.H=f,tt.A=p,Pt===null&&(ce=null,zt=0,bc()),_}function Hw(){for(;Pt!==null;)sb(Pt)}function Gw(n,s){var a=Wt;Wt|=2;var l=nb(),f=ib();ce!==n||zt!==s?(Zc=null,$c=je()+500,mo(n,s)):co=ke(n,s);t:do try{if(se!==0&&Pt!==null){s=Pt;var p=oi;e:switch(se){case 1:se=0,oi=null,po(n,s,p,1);break;case 2:case 9:if(mv(p)){se=0,oi=null,rb(s);break}s=function(){se!==2&&se!==9||ce!==n||(se=7),us(n)},p.then(s,s);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:mv(p)?(se=0,oi=null,rb(s)):(se=0,oi=null,po(n,s,p,7));break;case 5:var _=null;switch(Pt.tag){case 26:_=Pt.memoizedState;case 5:case 27:var C=Pt;if(_?Hb(_):C.stateNode.complete){se=0,oi=null;var k=C.sibling;if(k!==null)Pt=k;else{var $=C.return;$!==null?(Pt=$,th($)):Pt=null}break e}}se=0,oi=null,po(n,s,p,5);break;case 6:se=0,oi=null,po(n,s,p,6);break;case 8:lm(),Ce=6;break t;default:throw Error(r(462))}}Kw();break}catch(nt){tb(n,nt)}while(!0);return Rs=aa=null,tt.H=l,tt.A=f,Wt=a,Pt!==null?0:(ce=null,zt=0,bc(),Ce)}function Kw(){for(;Pt!==null&&!Ki();)sb(Pt)}function sb(n){var s=R0(n.alternate,n,Ps);n.memoizedProps=n.pendingProps,s===null?th(n):Pt=s}function rb(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=E0(a,s,s.pendingProps,s.type,void 0,zt);break;case 11:s=E0(a,s,s.pendingProps,s.type.render,s.ref,zt);break;case 5:Sd(s);default:N0(a,s),s=Pt=iv(s,Ps),s=R0(a,s,Ps)}n.memoizedProps=n.pendingProps,s===null?th(n):Pt=s}function po(n,s,a,l){Rs=aa=null,Sd(s),io=null,Sl=0;var f=s.return;try{if(Ow(n,f,s,a,zt)){Ce=1,Bc(n,gi(a,n.current)),Pt=null;return}}catch(p){if(f!==null)throw Pt=f,p;Ce=1,Bc(n,gi(a,n.current)),Pt=null;return}s.flags&32768?(Ht||l===1?n=!0:co||(zt&536870912)!==0?n=!1:(fr=n=!0,(l===2||l===9||l===3||l===6)&&(l=ri.current,l!==null&&l.tag===13&&(l.flags|=16384))),ab(s,n)):th(s)}function th(n){var s=n;do{if((s.flags&32768)!==0){ab(s,fr);return}n=s.return;var a=kw(s.alternate,s,Ps);if(a!==null){Pt=a;return}if(s=s.sibling,s!==null){Pt=s;return}Pt=s=n}while(s!==null);Ce===0&&(Ce=5)}function ab(n,s){do{var a=Pw(n.alternate,n);if(a!==null){a.flags&=32767,Pt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Pt=n;return}Pt=n=a}while(n!==null);Ce=6,Pt=null}function ob(n,s,a,l,f,p,_,C,k){n.cancelPendingCommit=null;do eh();while($e!==0);if((Wt&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Zf,Ne(n,a,p,_,C,k),n===ce&&(Pt=ce=null,zt=0),fo=s,pr=n,Us=a,rm=p,am=f,$0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,$w(Le,function(){return fb(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=tt.T,tt.T=null,f=st.p,st.p=2,_=Wt,Wt|=4;try{Uw(n,s,a)}finally{Wt=_,st.p=f,tt.T=l}}$e=1,lb(),ub(),cb()}}function lb(){if($e===1){$e=0;var n=pr,s=fo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=tt.T,tt.T=null;var l=st.p;st.p=2;var f=Wt;Wt|=4;try{F0(s,n);var p=Tm,_=Xy(n.containerInfo),C=p.focusedElem,k=p.selectionRange;if(_!==C&&C&&C.ownerDocument&&Yy(C.ownerDocument.documentElement,C)){if(k!==null&&Kf(C)){var $=k.start,nt=k.end;if(nt===void 0&&(nt=$),"selectionStart"in C)C.selectionStart=$,C.selectionEnd=Math.min(nt,C.value.length);else{var rt=C.ownerDocument||document,Z=rt&&rt.defaultView||window;if(Z.getSelection){var W=Z.getSelection(),mt=C.textContent.length,St=Math.min(k.start,mt),ue=k.end===void 0?St:Math.min(k.end,mt);!W.extend&&St>ue&&(_=ue,ue=St,St=_);var G=Ky(C,St),q=Ky(C,ue);if(G&&q&&(W.rangeCount!==1||W.anchorNode!==G.node||W.anchorOffset!==G.offset||W.focusNode!==q.node||W.focusOffset!==q.offset)){var Q=rt.createRange();Q.setStart(G.node,G.offset),W.removeAllRanges(),St>ue?(W.addRange(Q),W.extend(q.node,q.offset)):(Q.setEnd(q.node,q.offset),W.addRange(Q))}}}}for(rt=[],W=C;W=W.parentNode;)W.nodeType===1&&rt.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<rt.length;C++){var it=rt[C];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}dh=!!_m,Tm=_m=null}finally{Wt=f,st.p=l,tt.T=a}}n.current=s,$e=2}}function ub(){if($e===2){$e=0;var n=pr,s=fo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=tt.T,tt.T=null;var l=st.p;st.p=2;var f=Wt;Wt|=4;try{k0(n,s.alternate,s)}finally{Wt=f,st.p=l,tt.T=a}}$e=3}}function cb(){if($e===4||$e===3){$e=0,bs();var n=pr,s=fo,a=Us,l=$0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?$e=5:($e=0,fo=pr=null,hb(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(mr=null),On(a),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Jn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=tt.T,f=st.p,st.p=2,tt.T=null;try{for(var p=n.onRecoverableError,_=0;_<l.length;_++){var C=l[_];p(C.value,{componentStack:C.stack})}}finally{tt.T=s,st.p=f}}(Us&3)!==0&&eh(),us(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===om?Bl++:(Bl=0,om=n):Bl=0,Fl(0)}}function hb(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,El(s)))}function eh(){return lb(),ub(),cb(),fb()}function fb(){if($e!==5)return!1;var n=pr,s=rm;rm=0;var a=On(Us),l=tt.T,f=st.p;try{st.p=32>a?32:a,tt.T=null,a=am,am=null;var p=pr,_=Us;if($e=0,fo=pr=null,Us=0,(Wt&6)!==0)throw Error(r(331));var C=Wt;if(Wt|=4,Y0(p.current),H0(p,p.current,_,a),Wt=C,Fl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Jn,p)}catch{}return!0}finally{st.p=f,tt.T=l,hb(n,s)}}function db(n,s,a){s=gi(a,s),s=Ud(n.stateNode,s,2),n=lr(n,s,2),n!==null&&(Bn(n,2),us(n))}function re(n,s,a){if(n.tag===3)db(n,n,a);else for(;s!==null;){if(s.tag===3){db(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(mr===null||!mr.has(l))){n=gi(a,n),a=m0(2),l=lr(s,a,2),l!==null&&(p0(a,l,s,n),Bn(l,2),us(l));break}}s=s.return}}function cm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Fw;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(nm=!0,f.add(a),n=Yw.bind(null,n,s,a),s.then(n,n))}function Yw(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ce===n&&(zt&a)===a&&(Ce===4||Ce===3&&(zt&62914560)===zt&&300>je()-Qc?(Wt&2)===0&&mo(n,0):im|=a,ho===zt&&(ho=0)),us(n)}function mb(n,s){s===0&&(s=nn()),n=ia(n,s),n!==null&&(Bn(n,s),us(n))}function Xw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),mb(n,a)}function Qw(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),mb(n,a)}function $w(n,s){return te(n,s)}var nh=null,go=null,hm=!1,ih=!1,fm=!1,yr=0;function us(n){n!==go&&n.next===null&&(go===null?nh=go=n:go=go.next=n),ih=!0,hm||(hm=!0,Jw())}function Fl(n,s){if(!fm&&ih){fm=!0;do for(var a=!1,l=nh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var _=l.suspendedLanes,C=l.pingedLanes;p=(1<<31-pe(42|n)+1)-1,p&=f&~(_&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,vb(l,p))}else p=zt,p=ye(l,l===ce?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||ke(l,p)||(a=!0,vb(l,p));l=l.next}while(a);fm=!1}}function Zw(){pb()}function pb(){ih=hm=!1;var n=0;yr!==0&&l2()&&(n=yr);for(var s=je(),a=null,l=nh;l!==null;){var f=l.next,p=gb(l,s);p===0?(l.next=null,a===null?nh=f:a.next=f,f===null&&(go=a)):(a=l,(n!==0||(p&3)!==0)&&(ih=!0)),l=f}$e!==0&&$e!==5||Fl(n),yr!==0&&(yr=0)}function gb(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var _=31-pe(p),C=1<<_,k=f[_];k===-1?((C&a)===0||(C&l)!==0)&&(f[_]=En(C,s)):k<=s&&(n.expiredLanes|=C),p&=~C}if(s=ce,a=zt,a=ye(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(se===2||se===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Vn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ke(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Vn(l),On(a)){case 2:case 8:a=ne;break;case 32:a=Le;break;case 268435456:a=Hr;break;default:a=Le}return l=yb.bind(null,n),a=te(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Vn(l),n.callbackPriority=2,n.callbackNode=null,2}function yb(n,s){if($e!==0&&$e!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(eh()&&n.callbackNode!==a)return null;var l=zt;return l=ye(n,n===ce?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(J0(n,l,s),gb(n,je()),n.callbackNode!=null&&n.callbackNode===a?yb.bind(null,n):null)}function vb(n,s){if(eh())return null;J0(n,s,!0)}function Jw(){c2(function(){(Wt&6)!==0?te(Qt,Zw):pb()})}function dm(){if(yr===0){var n=to;n===0&&(n=ci,ci<<=1,(ci&261888)===0&&(ci=256)),yr=n}return yr}function bb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ua(""+n)}function _b(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function Ww(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var p=bb((f[sn]||null).action),_=l.submitter;_&&(s=(s=_[sn]||null)?bb(s.formAction):_.getAttribute("formAction"),s!==null&&(p=s,_=null));var C=new ns("action","action",null,l,f);n.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yr!==0){var k=_?_b(f,_):new FormData(f);Id(a,{pending:!0,data:k,method:f.method,action:p},null,k)}}else typeof p=="function"&&(C.preventDefault(),k=_?_b(f,_):new FormData(f),Id(a,{pending:!0,data:k,method:f.method,action:p},p,k))},currentTarget:f}]})}}for(var mm=0;mm<$f.length;mm++){var pm=$f[mm],t2=pm.toLowerCase(),e2=pm[0].toUpperCase()+pm.slice(1);Li(t2,"on"+e2)}Li(Zy,"onAnimationEnd"),Li(Jy,"onAnimationIteration"),Li(Wy,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(yw,"onTransitionRun"),Li(vw,"onTransitionStart"),Li(bw,"onTransitionCancel"),Li(tv,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Tb(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var p=void 0;if(s)for(var _=l.length-1;0<=_;_--){var C=l[_],k=C.instance,$=C.currentTarget;if(C=C.listener,k!==p&&f.isPropagationStopped())break t;p=C,f.currentTarget=$;try{p(f)}catch(nt){vc(nt)}f.currentTarget=null,p=k}else for(_=0;_<l.length;_++){if(C=l[_],k=C.instance,$=C.currentTarget,C=C.listener,k!==p&&f.isPropagationStopped())break t;p=C,f.currentTarget=$;try{p(f)}catch(nt){vc(nt)}f.currentTarget=null,p=k}}}}function Ut(n,s){var a=s[Oa];a===void 0&&(a=s[Oa]=new Set);var l=n+"__bubble";a.has(l)||(Eb(s,n,2,!1),a.add(l))}function gm(n,s,a){var l=0;s&&(l|=4),Eb(a,n,l,s)}var sh="_reactListening"+Math.random().toString(36).slice(2);function ym(n){if(!n[sh]){n[sh]=!0,el.forEach(function(a){a!=="selectionchange"&&(n2.has(a)||gm(a,!1,n),gm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[sh]||(s[sh]=!0,gm("selectionchange",!1,s))}}function Eb(n,s,a,l){switch(Zb(s)){case 2:var f=N2;break;case 8:f=M2;break;default:f=Vm}a=f.bind(null,s,a,n),f=void 0,!Qr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function vm(n,s,a,l,f){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var C=l.stateNode.containerInfo;if(C===f)break;if(_===4)for(_=l.return;_!==null;){var k=_.tag;if((k===3||k===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;C!==null;){if(_=Qi(C),_===null)return;if(k=_.tag,k===5||k===6||k===26||k===27){l=p=_;continue t}C=C.parentNode}}l=l.return}Js(function(){var $=p,nt=fi(a),rt=[];t:{var Z=ev.get(n);if(Z!==void 0){var W=ns,mt=n;switch(n){case"keypress":if(Zr(a)===0)break t;case"keydown":case"keyup":W=pc;break;case"focusin":mt="focus",W=Wr;break;case"focusout":mt="blur",W=Wr;break;case"beforeblur":case"afterblur":W=Wr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=b;break;case Zy:case Jy:case Wy:W=lc;break;case tv:W=R;break;case"scroll":case"scrollend":W=dl;break;case"wheel":W=J;break;case"copy":case"cut":case"paste":W=uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=As;break;case"toggle":case"beforetoggle":W=It}var St=(s&4)!==0,ue=!St&&(n==="scroll"||n==="scrollend"),G=St?Z!==null?Z+"Capture":null:Z;St=[];for(var q=$,Q;q!==null;){var it=q;if(Q=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Q===null||G===null||(it=Vi(q,G),it!=null&&St.push(Hl(q,it,Q))),ue)break;q=q.return}0<St.length&&(Z=new W(Z,mt,null,a,nt),rt.push({event:Z,listeners:St}))}}if((s&7)===0){t:{if(Z=n==="mouseover"||n==="pointerover",W=n==="mouseout"||n==="pointerout",Z&&a!==cl&&(mt=a.relatedTarget||a.fromElement)&&(Qi(mt)||mt[Yi]))break t;if((W||Z)&&(Z=nt.window===nt?nt:(Z=nt.ownerDocument)?Z.defaultView||Z.parentWindow:window,W?(mt=a.relatedTarget||a.toElement,W=$,mt=mt?Qi(mt):null,mt!==null&&(ue=u(mt),St=mt.tag,mt!==ue||St!==5&&St!==27&&St!==6)&&(mt=null)):(W=null,mt=$),W!==mt)){if(St=ml,it="onMouseLeave",G="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(St=As,it="onPointerLeave",G="onPointerEnter",q="pointer"),ue=W==null?Z:ei(W),Q=mt==null?Z:ei(mt),Z=new St(it,q+"leave",W,a,nt),Z.target=ue,Z.relatedTarget=Q,it=null,Qi(nt)===$&&(St=new St(G,q+"enter",mt,a,nt),St.target=Q,St.relatedTarget=ue,it=St),ue=it,W&&mt)e:{for(St=i2,G=W,q=mt,Q=0,it=G;it;it=St(it))Q++;it=0;for(var Et=q;Et;Et=St(Et))it++;for(;0<Q-it;)G=St(G),Q--;for(;0<it-Q;)q=St(q),it--;for(;Q--;){if(G===q||q!==null&&G===q.alternate){St=G;break e}G=St(G),q=St(q)}St=null}else St=null;W!==null&&xb(rt,Z,W,St,!1),mt!==null&&ue!==null&&xb(rt,ue,mt,St,!0)}}t:{if(Z=$?ei($):window,W=Z.nodeName&&Z.nodeName.toLowerCase(),W==="select"||W==="input"&&Z.type==="file")var $t=zy;else if(Py(Z))if(By)$t=mw;else{$t=fw;var gt=hw}else W=Z.nodeName,!W||W.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?$&&Pa($.elementType)&&($t=zy):$t=dw;if($t&&($t=$t(n,$))){Uy(rt,$t,a,nt);break t}gt&&gt(n,Z,$),n==="focusout"&&$&&Z.type==="number"&&$.memoizedProps.value!=null&&ol(Z,"number",Z.value)}switch(gt=$?ei($):window,n){case"focusin":(Py(gt)||gt.contentEditable==="true")&&(Ka=gt,Yf=$,bl=null);break;case"focusout":bl=Yf=Ka=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,Qy(rt,a,nt);break;case"selectionchange":if(gw)break;case"keydown":case"keyup":Qy(rt,a,nt)}var jt;if(Jt)t:{switch(n){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else Ga?ta(n,a)&&(Bt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Bt="onCompositionStart");Bt&&(rs&&a.locale!=="ko"&&(Ga||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Ga&&(jt=fl()):(es=nt,hl="value"in es?es.value:es.textContent,Ga=!0)),gt=rh($,Bt),0<gt.length&&(Bt=new ss(Bt,n,null,a,nt),rt.push({event:Bt,listeners:gt}),jt?Bt.data=jt:(jt=Ha(a),jt!==null&&(Bt.data=jt)))),(jt=mi?ow(n,a):lw(n,a))&&(Bt=rh($,"onBeforeInput"),0<Bt.length&&(gt=new ss("onBeforeInput","beforeinput",null,a,nt),rt.push({event:gt,listeners:Bt}),gt.data=jt)),Ww(rt,n,$,a,nt)}Tb(rt,s)})}function Hl(n,s,a){return{instance:n,listener:s,currentTarget:a}}function rh(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Vi(n,a),f!=null&&l.unshift(Hl(n,f,p)),f=Vi(n,s),f!=null&&l.push(Hl(n,f,p))),n.tag===3)return l;n=n.return}return[]}function i2(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function xb(n,s,a,l,f){for(var p=s._reactName,_=[];a!==null&&a!==l;){var C=a,k=C.alternate,$=C.stateNode;if(C=C.tag,k!==null&&k===l)break;C!==5&&C!==26&&C!==27||$===null||(k=$,f?($=Vi(a,p),$!=null&&_.unshift(Hl(a,$,k))):f||($=Vi(a,p),$!=null&&_.push(Hl(a,$,k)))),a=a.return}_.length!==0&&n.push({event:s,listeners:_})}var s2=/\r\n?/g,r2=/\u0000|\uFFFD/g;function Sb(n){return(typeof n=="string"?n:""+n).replace(s2,`
`).replace(r2,"")}function Ab(n,s){return s=Sb(s),Sb(n)===s}function le(n,s,a,l,f,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||qn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&qn(n,""+l);break;case"className":ni(n,"class",l);break;case"tabIndex":ni(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(n,a,l);break;case"style":ul(n,l,p);break;case"data":if(s!=="object"){ni(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ua(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&le(n,s,"name",f.name,f,null),le(n,s,"formEncType",f.formEncType,f,null),le(n,s,"formMethod",f.formMethod,f,null),le(n,s,"formTarget",f.formTarget,f,null)):(le(n,s,"encType",f.encType,f,null),le(n,s,"method",f.method,f,null),le(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ua(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Mi);break;case"onScroll":l!=null&&Ut("scroll",n);break;case"onScrollEnd":l!=null&&Ut("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ua(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ut("beforetoggle",n),Ut("toggle",n),La(n,"popover",l);break;case"xlinkActuate":ze(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":La(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rc.get(a)||a,La(n,a,l))}}function bm(n,s,a,l,f,p){switch(a){case"style":ul(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?qn(n,l):(typeof l=="number"||typeof l=="bigint")&&qn(n,""+l);break;case"onScroll":l!=null&&Ut("scroll",n);break;case"onScrollEnd":l!=null&&Ut("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),p=n[sn]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):La(n,a,l)}}}function mn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",n),Ut("load",n);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var _=a[p];if(_!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:le(n,s,p,_,a,null)}}f&&le(n,s,"srcSet",a.srcSet,a,null),l&&le(n,s,"src",a.src,a,null);return;case"input":Ut("invalid",n);var C=p=_=f=null,k=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var nt=a[l];if(nt!=null)switch(l){case"name":f=nt;break;case"type":_=nt;break;case"checked":k=nt;break;case"defaultChecked":$=nt;break;case"value":p=nt;break;case"defaultValue":C=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,s));break;default:le(n,s,l,nt,a,null)}}nc(n,p,C,k,$,_,f,!1);return;case"select":Ut("invalid",n),l=_=p=null;for(f in a)if(a.hasOwnProperty(f)&&(C=a[f],C!=null))switch(f){case"value":p=C;break;case"defaultValue":_=C;break;case"multiple":l=C;default:le(n,s,f,C,a,null)}s=p,a=_,n.multiple=!!l,s!=null?Xs(n,!!l,s,!1):a!=null&&Xs(n,!!l,a,!0);return;case"textarea":Ut("invalid",n),p=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(C=a[_],C!=null))switch(_){case"value":l=C;break;case"defaultValue":f=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:le(n,s,_,C,a,null)}Qs(n,l,f,p);return;case"option":for(k in a)a.hasOwnProperty(k)&&(l=a[k],l!=null)&&(k==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":le(n,s,k,l,a,null));return;case"dialog":Ut("beforetoggle",n),Ut("toggle",n),Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":Ut("load",n);break;case"video":case"audio":for(l=0;l<ql.length;l++)Ut(ql[l],n);break;case"image":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"embed":case"source":case"link":Ut("error",n),Ut("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:le(n,s,$,l,a,null)}return;default:if(Pa(s)){for(nt in a)a.hasOwnProperty(nt)&&(l=a[nt],l!==void 0&&bm(n,s,nt,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&le(n,s,C,l,a,null))}function a2(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,_=null,C=null,k=null,$=null,nt=null;for(W in a){var rt=a[W];if(a.hasOwnProperty(W)&&rt!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":k=rt;default:l.hasOwnProperty(W)||le(n,s,W,null,l,rt)}}for(var Z in l){var W=l[Z];if(rt=a[Z],l.hasOwnProperty(Z)&&(W!=null||rt!=null))switch(Z){case"type":p=W;break;case"name":f=W;break;case"checked":$=W;break;case"defaultChecked":nt=W;break;case"value":_=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:W!==rt&&le(n,s,Z,W,l,rt)}}ka(n,_,C,k,$,nt,p,f);return;case"select":W=_=C=Z=null;for(p in a)if(k=a[p],a.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":W=k;default:l.hasOwnProperty(p)||le(n,s,p,null,l,k)}for(f in l)if(p=l[f],k=a[f],l.hasOwnProperty(f)&&(p!=null||k!=null))switch(f){case"value":Z=p;break;case"defaultValue":C=p;break;case"multiple":_=p;default:p!==k&&le(n,s,f,p,l,k)}s=C,a=_,l=W,Z!=null?Xs(n,!!a,Z,!1):!!l!=!!a&&(s!=null?Xs(n,!!a,s,!0):Xs(n,!!a,a?[]:"",!1));return;case"textarea":W=Z=null;for(C in a)if(f=a[C],a.hasOwnProperty(C)&&f!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:le(n,s,C,null,l,f)}for(_ in l)if(f=l[_],p=a[_],l.hasOwnProperty(_)&&(f!=null||p!=null))switch(_){case"value":Z=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&le(n,s,_,f,l,p)}ic(n,Z,W);return;case"option":for(var mt in a)Z=a[mt],a.hasOwnProperty(mt)&&Z!=null&&!l.hasOwnProperty(mt)&&(mt==="selected"?n.selected=!1:le(n,s,mt,null,l,Z));for(k in l)Z=l[k],W=a[k],l.hasOwnProperty(k)&&Z!==W&&(Z!=null||W!=null)&&(k==="selected"?n.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":le(n,s,k,Z,l,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)Z=a[St],a.hasOwnProperty(St)&&Z!=null&&!l.hasOwnProperty(St)&&le(n,s,St,null,l,Z);for($ in l)if(Z=l[$],W=a[$],l.hasOwnProperty($)&&Z!==W&&(Z!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:le(n,s,$,Z,l,W)}return;default:if(Pa(s)){for(var ue in a)Z=a[ue],a.hasOwnProperty(ue)&&Z!==void 0&&!l.hasOwnProperty(ue)&&bm(n,s,ue,void 0,l,Z);for(nt in l)Z=l[nt],W=a[nt],!l.hasOwnProperty(nt)||Z===W||Z===void 0&&W===void 0||bm(n,s,nt,Z,l,W);return}}for(var G in a)Z=a[G],a.hasOwnProperty(G)&&Z!=null&&!l.hasOwnProperty(G)&&le(n,s,G,null,l,Z);for(rt in l)Z=l[rt],W=a[rt],!l.hasOwnProperty(rt)||Z===W||Z==null&&W==null||le(n,s,rt,Z,l,W)}function wb(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o2(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],p=f.transferSize,_=f.initiatorType,C=f.duration;if(p&&C&&wb(_)){for(_=0,C=f.responseEnd,l+=1;l<a.length;l++){var k=a[l],$=k.startTime;if($>C)break;var nt=k.transferSize,rt=k.initiatorType;nt&&wb(rt)&&(k=k.responseEnd,_+=nt*(k<C?1:(C-$)/(k-$)))}if(--l,s+=8*(p+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var _m=null,Tm=null;function ah(n){return n.nodeType===9?n:n.ownerDocument}function Cb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rb(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Em(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xm=null;function l2(){var n=window.event;return n&&n.type==="popstate"?n===xm?!1:(xm=n,!0):(xm=null,!1)}var Db=typeof setTimeout=="function"?setTimeout:void 0,u2=typeof clearTimeout=="function"?clearTimeout:void 0,Nb=typeof Promise=="function"?Promise:void 0,c2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nb<"u"?function(n){return Nb.resolve(null).then(n).catch(h2)}:Db;function h2(n){setTimeout(function(){throw n})}function vr(n){return n==="head"}function Mb(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),_o(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Gl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Gl(a);for(var p=a.firstChild;p;){var _=p.nextSibling,C=p.nodeName;p[Xi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=_}}else a==="body"&&Gl(n.ownerDocument.body);a=f}while(a);_o(s)}function Vb(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Sm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sm(a),ja(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function f2(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Xi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Ti(n.nextSibling),n===null)break}return null}function d2(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Ti(n.nextSibling),n===null))return null;return n}function Ib(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Ti(n.nextSibling),n===null))return null;return n}function Am(n){return n.data==="$?"||n.data==="$~"}function wm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function m2(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Ti(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Cm=null;function Ob(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return Ti(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function jb(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function Lb(n,s,a){switch(s=ah(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Gl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);ja(n)}var Ei=new Map,kb=new Set;function oh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var zs=st.d;st.d={f:p2,r:g2,D:y2,C:v2,L:b2,m:_2,X:E2,S:T2,M:x2};function p2(){var n=zs.f(),s=Jc();return n||s}function g2(n){var s=hi(n);s!==null&&s.tag===5&&s.type==="form"?t0(s):zs.r(n)}var yo=typeof document>"u"?null:document;function Pb(n,s,a){var l=yo;if(l&&typeof s=="string"&&s){var f=Fn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),kb.has(f)||(kb.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),mn(s,"link",n),Ue(s),l.head.appendChild(s)))}}function y2(n){zs.D(n),Pb("dns-prefetch",n,null)}function v2(n,s){zs.C(n,s),Pb("preconnect",n,s)}function b2(n,s,a){zs.L(n,s,a);var l=yo;if(l&&n&&s){var f='link[rel="preload"][as="'+Fn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Fn(a.imageSizes)+'"]')):f+='[href="'+Fn(n)+'"]';var p=f;switch(s){case"style":p=vo(n);break;case"script":p=bo(n)}Ei.has(p)||(n=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Ei.set(p,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Kl(p))||s==="script"&&l.querySelector(Yl(p))||(s=l.createElement("link"),mn(s,"link",n),Ue(s),l.head.appendChild(s)))}}function _2(n,s){zs.m(n,s);var a=yo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Fn(l)+'"][href="'+Fn(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=bo(n)}if(!Ei.has(p)&&(n=v({rel:"modulepreload",href:n},s),Ei.set(p,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(p)))return}l=a.createElement("link"),mn(l,"link",n),Ue(l),a.head.appendChild(l)}}}function T2(n,s,a){zs.S(n,s,a);var l=yo;if(l&&n){var f=$i(l).hoistableStyles,p=vo(n);s=s||"default";var _=f.get(p);if(!_){var C={loading:0,preload:null};if(_=l.querySelector(Kl(p)))C.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Ei.get(p))&&Rm(n,a);var k=_=l.createElement("link");Ue(k),mn(k,"link",n),k._p=new Promise(function($,nt){k.onload=$,k.onerror=nt}),k.addEventListener("load",function(){C.loading|=1}),k.addEventListener("error",function(){C.loading|=2}),C.loading|=4,lh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:C},f.set(p,_)}}}function E2(n,s){zs.X(n,s);var a=yo;if(a&&n){var l=$i(a).hoistableScripts,f=bo(n),p=l.get(f);p||(p=a.querySelector(Yl(f)),p||(n=v({src:n,async:!0},s),(s=Ei.get(f))&&Dm(n,s),p=a.createElement("script"),Ue(p),mn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function x2(n,s){zs.M(n,s);var a=yo;if(a&&n){var l=$i(a).hoistableScripts,f=bo(n),p=l.get(f);p||(p=a.querySelector(Yl(f)),p||(n=v({src:n,async:!0,type:"module"},s),(s=Ei.get(f))&&Dm(n,s),p=a.createElement("script"),Ue(p),mn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Ub(n,s,a,l){var f=(f=vt.current)?oh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=vo(a.href),a=$i(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=vo(a.href);var p=$i(f).hoistableStyles,_=p.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,_),(p=f.querySelector(Kl(n)))&&!p._p&&(_.instance=p,_.state.loading=5),Ei.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ei.set(n,a),p||S2(f,n,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=bo(a),a=$i(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function vo(n){return'href="'+Fn(n)+'"'}function Kl(n){return'link[rel="stylesheet"]['+n+"]"}function zb(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function S2(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),mn(s,"link",a),Ue(s),n.head.appendChild(s))}function bo(n){return'[src="'+Fn(n)+'"]'}function Yl(n){return"script[async]"+n}function Bb(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Fn(a.href)+'"]');if(l)return s.instance=l,Ue(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ue(l),mn(l,"style",f),lh(l,a.precedence,n),s.instance=l;case"stylesheet":f=vo(a.href);var p=n.querySelector(Kl(f));if(p)return s.state.loading|=4,s.instance=p,Ue(p),p;l=zb(a),(f=Ei.get(f))&&Rm(l,f),p=(n.ownerDocument||n).createElement("link"),Ue(p);var _=p;return _._p=new Promise(function(C,k){_.onload=C,_.onerror=k}),mn(p,"link",l),s.state.loading|=4,lh(p,a.precedence,n),s.instance=p;case"script":return p=bo(a.src),(f=n.querySelector(Yl(p)))?(s.instance=f,Ue(f),f):(l=a,(f=Ei.get(p))&&(l=v({},a),Dm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ue(f),mn(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,lh(l,a.precedence,n));return s.instance}function lh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,_=0;_<l.length;_++){var C=l[_];if(C.dataset.precedence===s)p=C;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Rm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Dm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var uh=null;function Fb(n,s,a){if(uh===null){var l=new Map,f=uh=new Map;f.set(a,l)}else f=uh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[Xi]||p[Pe]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(s)||"";_=n+_;var C=l.get(_);C?C.push(p):l.set(_,[p])}}return l}function qb(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function A2(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Hb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function w2(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=vo(l.href),p=s.querySelector(Kl(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=ch.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=p,Ue(p);return}p=s.ownerDocument||s,l=zb(l),(f=Ei.get(f))&&Rm(l,f),p=p.createElement("link"),Ue(p);var _=p;_._p=new Promise(function(C,k){_.onload=C,_.onerror=k}),mn(p,"link",l),a.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=ch.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Nm=0;function C2(n,s){return n.stylesheets&&n.count===0&&fh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&fh(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&Nm===0&&(Nm=62500*o2());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&fh(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Nm?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ch(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hh=null;function fh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hh=new Map,s.forEach(R2,n),hh=null,ch.call(n))}function R2(n,s){if(!(s.state.loading&4)){var a=hh.get(n);if(a)var l=a.get(null);else{a=new Map,hh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var _=f[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),p=a.get(_)||l,p===l&&a.set(null,f),a.set(_,f),this.count++,l=ch.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Xl={$$typeof:U,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function D2(n,s,a,l,f,p,_,C,k){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Gb(n,s,a,l,f,p,_,C,k,$,nt,rt){return n=new D2(n,s,a,_,k,$,nt,rt,C),s=1,p===!0&&(s|=24),p=si(3,null,null,s),n.current=p,p.stateNode=n,s=ud(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},dd(p),n}function Kb(n){return n?(n=Qa,n):Qa}function Yb(n,s,a,l,f,p){f=Kb(f),l.context===null?l.context=f:l.pendingContext=f,l=or(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=lr(n,l,s),a!==null&&(Xn(a,n,s),wl(a,n,s))}function Xb(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Mm(n,s){Xb(n,s),(n=n.alternate)&&Xb(n,s)}function Qb(n){if(n.tag===13||n.tag===31){var s=ia(n,67108864);s!==null&&Xn(s,n,67108864),Mm(n,67108864)}}function $b(n){if(n.tag===13||n.tag===31){var s=ui();s=Wn(s);var a=ia(n,s);a!==null&&Xn(a,n,s),Mm(n,s)}}var dh=!0;function N2(n,s,a,l){var f=tt.T;tt.T=null;var p=st.p;try{st.p=2,Vm(n,s,a,l)}finally{st.p=p,tt.T=f}}function M2(n,s,a,l){var f=tt.T;tt.T=null;var p=st.p;try{st.p=8,Vm(n,s,a,l)}finally{st.p=p,tt.T=f}}function Vm(n,s,a,l){if(dh){var f=Im(l);if(f===null)vm(n,s,l,mh,a),Jb(n,l);else if(I2(f,n,s,a,l))l.stopPropagation();else if(Jb(n,l),s&4&&-1<V2.indexOf(n)){for(;f!==null;){var p=hi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=ge(p.pendingLanes);if(_!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var k=1<<31-pe(_);C.entanglements[1]|=k,_&=~k}us(p),(Wt&6)===0&&($c=je()+500,Fl(0))}}break;case 31:case 13:C=ia(p,2),C!==null&&Xn(C,p,2),Jc(),Mm(p,2)}if(p=Im(l),p===null&&vm(n,s,l,mh,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else vm(n,s,l,null,a)}}function Im(n){return n=fi(n),Om(n)}var mh=null;function Om(n){if(mh=null,n=Qi(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=d(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return mh=n,null}function Zb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ni()){case Qt:return 2;case ne:return 8;case Le:case _s:return 32;case Hr:return 268435456;default:return 32}default:return 32}}var jm=!1,br=null,_r=null,Tr=null,Ql=new Map,$l=new Map,Er=[],V2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jb(n,s){switch(n){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(s.pointerId)}}function Zl(n,s,a,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},s!==null&&(s=hi(s),s!==null&&Qb(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function I2(n,s,a,l,f){switch(s){case"focusin":return br=Zl(br,n,s,a,l,f),!0;case"dragenter":return _r=Zl(_r,n,s,a,l,f),!0;case"mouseover":return Tr=Zl(Tr,n,s,a,l,f),!0;case"pointerover":var p=f.pointerId;return Ql.set(p,Zl(Ql.get(p)||null,n,s,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,$l.set(p,Zl($l.get(p)||null,n,s,a,l,f)),!0}return!1}function Wb(n){var s=Qi(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,un(n.priority,function(){$b(a)});return}}else if(s===31){if(s=d(a),s!==null){n.blockedOn=s,un(n.priority,function(){$b(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ph(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Im(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);cl=l,a.target.dispatchEvent(l),cl=null}else return s=hi(a),s!==null&&Qb(s),n.blockedOn=a,!1;s.shift()}return!0}function t_(n,s,a){ph(n)&&a.delete(s)}function O2(){jm=!1,br!==null&&ph(br)&&(br=null),_r!==null&&ph(_r)&&(_r=null),Tr!==null&&ph(Tr)&&(Tr=null),Ql.forEach(t_),$l.forEach(t_)}function gh(n,s){n.blockedOn===s&&(n.blockedOn=null,jm||(jm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,O2)))}var yh=null;function e_(n){yh!==n&&(yh=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){yh===n&&(yh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Om(l||a)===null)continue;break}var p=hi(a);p!==null&&(n.splice(s,3),s-=3,Id(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function _o(n){function s(k){return gh(k,n)}br!==null&&gh(br,n),_r!==null&&gh(_r,n),Tr!==null&&gh(Tr,n),Ql.forEach(s),$l.forEach(s);for(var a=0;a<Er.length;a++){var l=Er[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Er.length&&(a=Er[0],a.blockedOn===null);)Wb(a),a.blockedOn===null&&Er.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],_=f[sn]||null;if(typeof p=="function")_||e_(a);else if(_){var C=null;if(p&&p.hasAttribute("formAction")){if(f=p,_=p[sn]||null)C=_.formAction;else if(Om(f)!==null)continue}else C=_.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),e_(a)}}}function n_(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Lm(n){this._internalRoot=n}vh.prototype.render=Lm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=ui();Yb(a,l,n,s,null,null)},vh.prototype.unmount=Lm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Yb(n.current,2,null,n,null,null),Jc(),s[Yi]=null}};function vh(n){this._internalRoot=n}vh.prototype.unstable_scheduleHydration=function(n){if(n){var s=ti();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Er.length&&s!==0&&s<Er[a].priority;a++);Er.splice(a,0,n),a===0&&Wb(n)}};var i_=t.version;if(i_!=="19.2.3")throw Error(r(527,i_,"19.2.3"));st.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var j2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{Jn=bh.inject(j2),Qe=bh}catch{}}return Wl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=c0,p=h0,_=f0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Gb(n,1,!1,null,null,a,l,null,f,p,_,n_),n[Yi]=s.current,ym(n),new Lm(s)},Wl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",p=c0,_=h0,C=f0,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),s=Gb(n,1,!0,s,a??null,l,f,k,p,_,C,n_),s.context=Kb(null),a=s.current,l=ui(),l=Wn(l),f=or(l),f.callback=null,lr(a,f,l),a=l,s.current.lanes=a,Bn(s,a),us(s),n[Yi]=s.current,ym(n),new vh(s)},Wl.version="19.2.3",Wl}var d_;function H2(){if(d_)return Um.exports;d_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Um.exports=q2(),Um.exports}var G2=H2();const m_="url-dashboard-data",p_={categories:[],teams:[],theme:"theme-white",pattern:"dots",linkLayout:"list"};function K2(){const[e,t]=V.useState(()=>{try{const M=localStorage.getItem(m_);return M?JSON.parse(M):p_}catch{return p_}});V.useEffect(()=>{const M=setTimeout(()=>{localStorage.setItem(m_,JSON.stringify(e))},500);return()=>clearTimeout(M)},[e]);const i=M=>{t(L=>({...L,...M}))},r=(M,L="neutral")=>{const B={id:crypto.randomUUID(),name:M,mode:L,urls:[]};t(U=>({...U,categories:[...U.categories,B]}))},o=(M,L,B="neutral")=>{t(U=>({...U,categories:U.categories.map(K=>K.id===M?{...K,name:L,mode:B}:K)}))},u=M=>{t(L=>({...L,categories:L.categories.filter(B=>B.id!==M)}))},c=M=>{t(L=>({...L,categories:L.categories.map(B=>B.id===M?{...B,pinned:!B.pinned}:B)}))},d=M=>{t(L=>({...L,categories:L.categories.map(B=>B.id===M?{...B,isCollapsed:!B.isCollapsed}:B)}))},m=(M,L)=>{t(B=>{const U=B.categories||[],K=U.find(N=>N.id===M),Y=U.find(N=>N.id===L);if(!K||!Y||K.pinned||Y.pinned)return B;const P=U.findIndex(N=>N.id===M),A=U.findIndex(N=>N.id===L);if(P===-1||A===-1||P===A)return B;[...U];const x=U.map((N,Ct)=>N.pinned?Ct:-1).filter(N=>N!==-1),D=x.map(N=>U[N]),j=U.filter(N=>!N.pinned),I=j.findIndex(N=>N.id===M),H=j.findIndex(N=>N.id===L);if(I!==-1&&H!==-1){const N=[...j],[Ct]=N.splice(I,1);N.splice(H,0,Ct);const Lt=[];let tt=0;for(let st=0;st<U.length;st++){const ft=D.find((yt,pt)=>x[pt]===st);ft?Lt.push(ft):Lt.push(N[tt++])}return{...B,categories:Lt}}return B})},g=(M,L,B,U=null)=>{const K={id:crypto.randomUUID(),title:L,url:B,customFavicon:U};t(Y=>({...Y,categories:Y.categories.map(P=>P.id===M?{...P,urls:[...P.urls,K]}:P)}))},y=(M,L,B,U,K=null)=>{t(Y=>({...Y,categories:Y.categories.map(P=>P.id===M?{...P,urls:P.urls.map(A=>A.id===L?{...A,title:B,url:U,customFavicon:K}:A)}:P)}))},v=(M,L)=>{t(B=>({...B,categories:B.categories.map(U=>U.id===M?{...U,urls:U.urls.filter(K=>K.id!==L)}:U)}))},T=(M,L)=>{t(B=>({...B,categories:B.categories.map(U=>U.id===M?{...U,urls:U.urls.map(K=>K.id===L?{...K,clickCount:(K.clickCount||0)+1}:K)}:U)}))},w=M=>{const L={id:crypto.randomUUID(),name:M.name,categories:M.categories.map(B=>({...B,id:crypto.randomUUID(),urls:B.urls.map(U=>({...U,id:crypto.randomUUID()}))})),joinedAt:new Date().toISOString()};t(B=>({...B,teams:[...B.teams||[],L]}))},z=M=>{t(L=>({...L,teams:(L.teams||[]).filter(B=>B.id!==M)}))},O=M=>M&&Array.isArray(M.categories)?(t({categories:M.categories,teams:M.teams||[],linkLayout:M.linkLayout||e.linkLayout||"list",theme:M.theme||e.theme||"theme-white",pattern:M.pattern||e.pattern||"dots"}),!0):!1;return{categories:e.categories,teams:e.teams||[],data:e,addCategory:r,updateCategory:o,deleteCategory:u,addUrl:g,updateUrl:y,deleteUrl:v,incrementUrlClick:T,joinTeam:w,deleteTeam:z,importData:O,updateTheme:i,reorderCategories:m,togglePinCategory:c,toggleCategoryCollapse:d,theme:e.theme||"theme-white",pattern:e.pattern||"dots"}}const Y2=()=>crypto.randomUUID()+"-"+Array.from(crypto.getRandomValues(new Uint8Array(4))).map(e=>e.toString(16).padStart(2,"0")).join(""),qm=async e=>{const i=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")},rE=async e=>{const i=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",i);return await crypto.subtle.importKey("raw",r,{name:"AES-GCM"},!1,["encrypt","decrypt"])},X2=async(e,t)=>{try{const i=await rE(t),r=crypto.getRandomValues(new Uint8Array(12)),u=new TextEncoder().encode(JSON.stringify(e)),c=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,u),d=new Uint8Array(c),m=new Uint8Array(r.length+d.length);return m.set(r),m.set(d,r.length),btoa(String.fromCharCode(...m))}catch(i){throw console.error("Encryption failed:",i),new Error("Failed to encrypt data")}},g_=async(e,t)=>{try{const i=await rE(t),r=new Uint8Array(atob(e).split("").map(m=>m.charCodeAt(0))),o=r.slice(0,12),u=r.slice(12),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:o},i,u),d=new TextDecoder;return JSON.parse(d.decode(c))}catch(i){throw console.error("Decryption failed:",i),new Error("Invalid Key or Corrupted Data")}},Q2=()=>{};var y_={};const aE=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},$2=function(e){const t=[];let i=0,r=0;for(;i<e.length;){const o=e[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[i++],c=e[i++],d=e[i++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const u=e[i++],c=e[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},oE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,d=c?e[o+1]:0,m=o+2<e.length,g=m?e[o+2]:0,y=u>>2,v=(u&3)<<4|d>>4;let T=(d&15)<<2|g>>6,w=g&63;m||(w=64,c||(T=64)),r.push(i[y],i[v],i[T],i[w])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(aE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):$2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const u=i[e.charAt(o++)],d=o<e.length?i[e.charAt(o)]:0;++o;const g=o<e.length?i[e.charAt(o)]:64;++o;const v=o<e.length?i[e.charAt(o)]:64;if(++o,u==null||d==null||g==null||v==null)throw new Z2;const T=u<<2|d>>4;if(r.push(T),g!==64){const w=d<<4&240|g>>2;if(r.push(w),v!==64){const z=g<<6&192|v;r.push(z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Z2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J2=function(e){const t=aE(e);return oE.encodeByteArray(t,!0)},Fh=function(e){return J2(e).replace(/\./g,"")},W2=function(e){try{return oE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function tC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eC=()=>tC().__FIREBASE_DEFAULTS__,nC=()=>{if(typeof process>"u"||typeof y_>"u")return;const e=y_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},iC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&W2(e[1]);return t&&JSON.parse(t)},vg=()=>{try{return Q2()||eC()||nC()||iC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},sC=e=>vg()?.emulatorHosts?.[e],rC=e=>{const t=sC(e);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},lE=()=>vg()?.config;class aC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function bg(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oC(e){return(await fetch(e,{credentials:"include"})).ok}function lC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Fh(JSON.stringify(i)),Fh(JSON.stringify(c)),""].join(".")}const lu={};function uC(){const e={prod:[],emulator:[]};for(const t of Object.keys(lu))lu[t]?e.emulator.push(t):e.prod.push(t);return e}function cC(e){let t=document.getElementById(e),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),i=!0),{created:i,element:t}}let v_=!1;function hC(e,t){if(typeof window>"u"||typeof document>"u"||!bg(window.location.host)||lu[e]===t||lu[e]||v_)return;lu[e]=t;function i(T){return`__firebase__banner__${T}`}const r="__firebase__banner",u=uC().prod.length>0;function c(){const T=document.getElementById(r);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,w){T.setAttribute("width","24"),T.setAttribute("id",w),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{v_=!0,c()},T}function y(T,w){T.setAttribute("id",w),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=cC(r),w=i("text"),z=document.getElementById(w)||document.createElement("span"),O=i("learnmore"),M=document.getElementById(O)||document.createElement("a"),L=i("preprendIcon"),B=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const U=T.element;d(U),y(M,O);const K=g();m(B,L),U.append(B,z,M,K),document.body.appendChild(U)}u?(z.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function fC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){const e=vg()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mC(){return!dC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pC(){try{return typeof indexedDB=="object"}catch{return!1}}function gC(){return new Promise((e,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const yC="FirebaseError";class Ho extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=yC,Object.setPrototypeOf(this,Ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uE.prototype.create)}}class uE{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?vC(u,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Ho(o,d,r)}}function vC(e,t){return e.replace(bC,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const bC=/\{\$([^}]+)}/g;function qh(e,t){if(e===t)return!0;const i=Object.keys(e),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=e[o],c=t[o];if(b_(u)&&b_(c)){if(!qh(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function b_(e){return e!==null&&typeof e=="object"}function _u(e){return e&&e._delegate?e._delegate:e}class Tu{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const va="[DEFAULT]";class _C{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new aC;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(EC(t))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=va){return this.instances.has(t)}getOptions(t=va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&c.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TC(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=va){return this.component?this.component.multipleInstances?t:va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TC(e){return e===va?void 0:e}function EC(e){return e.instantiationMode==="EAGER"}class xC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new _C(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Yt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Yt||(Yt={}));const SC={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},AC=Yt.INFO,wC={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},CC=(e,t,...i)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=wC[t];if(o)console[o](`[${r}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cE{constructor(t){this.name=t,this._logLevel=AC,this._logHandler=CC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Yt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...t),this._logHandler(this,Yt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...t),this._logHandler(this,Yt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...t),this._logHandler(this,Yt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...t),this._logHandler(this,Yt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...t),this._logHandler(this,Yt.ERROR,...t)}}const RC=(e,t)=>t.some(i=>e instanceof i);let __,T_;function DC(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NC(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,Tp=new WeakMap,fE=new WeakMap,Hm=new WeakMap,_g=new WeakMap;function MC(e){const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{i(Rr(e.result)),o()},c=()=>{r(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&hE.set(i,e)}).catch(()=>{}),_g.set(t,e),t}function VC(e){if(Tp.has(e))return;const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});Tp.set(e,t)}let Ep={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return Tp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||fE.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Rr(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function IC(e){Ep=e(Ep)}function OC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=e.call(Gm(this),t,...i);return fE.set(r,t.sort?t.sort():[t]),Rr(r)}:NC().includes(e)?function(...t){return e.apply(Gm(this),t),Rr(hE.get(this))}:function(...t){return Rr(e.apply(Gm(this),t))}}function jC(e){return typeof e=="function"?OC(e):(e instanceof IDBTransaction&&VC(e),RC(e,DC())?new Proxy(e,Ep):e)}function Rr(e){if(e instanceof IDBRequest)return MC(e);if(Hm.has(e))return Hm.get(e);const t=jC(e);return t!==e&&(Hm.set(e,t),_g.set(t,e)),t}const Gm=e=>_g.get(e);function LC(e,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),d=Rr(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Rr(c.result),m.oldVersion,m.newVersion,Rr(c.transaction),m)}),i&&c.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const kC=["get","getKey","getAll","getAllKeys","count"],PC=["put","add","delete","clear"],Km=new Map;function E_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Km.get(t))return Km.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=PC.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||kC.includes(i)))return;const u=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&m.done]))[0]};return Km.set(t,u),u}IC(e=>({...e,get:(t,i,r)=>E_(t,i)||e.get(t,i,r),has:(t,i)=>!!E_(t,i)||e.has(t,i)}));class UC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zC(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function zC(e){return e.getComponent()?.type==="VERSION"}const xp="@firebase/app",x_="0.14.6";const Fs=new cE("@firebase/app"),BC="@firebase/app-compat",FC="@firebase/analytics-compat",qC="@firebase/analytics",HC="@firebase/app-check-compat",GC="@firebase/app-check",KC="@firebase/auth",YC="@firebase/auth-compat",XC="@firebase/database",QC="@firebase/data-connect",$C="@firebase/database-compat",ZC="@firebase/functions",JC="@firebase/functions-compat",WC="@firebase/installations",tR="@firebase/installations-compat",eR="@firebase/messaging",nR="@firebase/messaging-compat",iR="@firebase/performance",sR="@firebase/performance-compat",rR="@firebase/remote-config",aR="@firebase/remote-config-compat",oR="@firebase/storage",lR="@firebase/storage-compat",uR="@firebase/firestore",cR="@firebase/ai",hR="@firebase/firestore-compat",fR="firebase",dR="12.6.0";const Sp="[DEFAULT]",mR={[xp]:"fire-core",[BC]:"fire-core-compat",[qC]:"fire-analytics",[FC]:"fire-analytics-compat",[GC]:"fire-app-check",[HC]:"fire-app-check-compat",[KC]:"fire-auth",[YC]:"fire-auth-compat",[XC]:"fire-rtdb",[QC]:"fire-data-connect",[$C]:"fire-rtdb-compat",[ZC]:"fire-fn",[JC]:"fire-fn-compat",[WC]:"fire-iid",[tR]:"fire-iid-compat",[eR]:"fire-fcm",[nR]:"fire-fcm-compat",[iR]:"fire-perf",[sR]:"fire-perf-compat",[rR]:"fire-rc",[aR]:"fire-rc-compat",[oR]:"fire-gcs",[lR]:"fire-gcs-compat",[uR]:"fire-fst",[hR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[fR]:"fire-js-all"};const Hh=new Map,pR=new Map,Ap=new Map;function S_(e,t){try{e.container.addComponent(t)}catch(i){Fs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function Gh(e){const t=e.name;if(Ap.has(t))return Fs.debug(`There were multiple attempts to register component ${t}.`),!1;Ap.set(t,e);for(const i of Hh.values())S_(i,e);for(const i of pR.values())S_(i,e);return!0}function gR(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function yR(e){return e==null?!1:e.settings!==void 0}const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new uE("app","Firebase",vR);class bR{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}const _R=dR;function dE(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const r={name:Sp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Dr.create("bad-app-name",{appName:String(o)});if(i||(i=lE()),!i)throw Dr.create("no-options");const u=Hh.get(o);if(u){if(qh(i,u.options)&&qh(r,u.config))return u;throw Dr.create("duplicate-app",{appName:o})}const c=new xC(o);for(const m of Ap.values())c.addComponent(m);const d=new bR(i,r,c);return Hh.set(o,d),d}function TR(e=Sp){const t=Hh.get(e);if(!t&&e===Sp&&lE())return dE();if(!t)throw Dr.create("no-app",{appName:e});return t}function No(e,t,i){let r=mR[e]??e;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fs.warn(c.join(" "));return}Gh(new Tu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const ER="firebase-heartbeat-database",xR=1,Eu="firebase-heartbeat-store";let Ym=null;function mE(){return Ym||(Ym=LC(ER,xR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Eu)}catch(i){console.warn(i)}}}}).catch(e=>{throw Dr.create("idb-open",{originalErrorMessage:e.message})})),Ym}async function SR(e){try{const i=(await mE()).transaction(Eu),r=await i.objectStore(Eu).get(pE(e));return await i.done,r}catch(t){if(t instanceof Ho)Fs.warn(t.message);else{const i=Dr.create("idb-get",{originalErrorMessage:t?.message});Fs.warn(i.message)}}}async function A_(e,t){try{const r=(await mE()).transaction(Eu,"readwrite");await r.objectStore(Eu).put(t,pE(e)),await r.done}catch(i){if(i instanceof Ho)Fs.warn(i.message);else{const r=Dr.create("idb-set",{originalErrorMessage:i?.message});Fs.warn(r.message)}}}function pE(e){return`${e.name}!${e.options.appId}`}const AR=1024,wR=30;class CR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new DR(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=w_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>wR){const o=NR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=w_(),{heartbeatsToSend:i,unsentEntries:r}=RR(this._heartbeatsCache.heartbeats),o=Fh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fs.warn(t),""}}}function w_(){return new Date().toISOString().substring(0,10)}function RR(e,t=AR){const i=[];let r=e.slice();for(const o of e){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),C_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),C_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class DR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pC()?gC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await SR(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return A_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return A_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function C_(e){return Fh(JSON.stringify({version:2,heartbeats:e})).length}function NR(e){if(e.length===0)return-1;let t=0,i=e[0].date;for(let r=1;r<e.length;r++)e[r].date<i&&(i=e[r].date,t=r);return t}function MR(e){Gh(new Tu("platform-logger",t=>new UC(t),"PRIVATE")),Gh(new Tu("heartbeat",t=>new CR(t),"PRIVATE")),No(xp,x_,e),No(xp,x_,"esm2020"),No("fire-js","")}MR("");var VR="firebase",IR="12.7.0";No(VR,IR,"app");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nr,gE;(function(){var e;function t(A,x){function D(){}D.prototype=x.prototype,A.F=x.prototype,A.prototype=new D,A.prototype.constructor=A,A.D=function(j,I,H){for(var N=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)N[Ct-2]=arguments[Ct];return x.prototype[I].apply(j,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,x,D){D||(D=0);const j=Array(16);if(typeof x=="string")for(var I=0;I<16;++I)j[I]=x.charCodeAt(D++)|x.charCodeAt(D++)<<8|x.charCodeAt(D++)<<16|x.charCodeAt(D++)<<24;else for(I=0;I<16;++I)j[I]=x[D++]|x[D++]<<8|x[D++]<<16|x[D++]<<24;x=A.g[0],D=A.g[1],I=A.g[2];let H=A.g[3],N;N=x+(H^D&(I^H))+j[0]+3614090360&4294967295,x=D+(N<<7&4294967295|N>>>25),N=H+(I^x&(D^I))+j[1]+3905402710&4294967295,H=x+(N<<12&4294967295|N>>>20),N=I+(D^H&(x^D))+j[2]+606105819&4294967295,I=H+(N<<17&4294967295|N>>>15),N=D+(x^I&(H^x))+j[3]+3250441966&4294967295,D=I+(N<<22&4294967295|N>>>10),N=x+(H^D&(I^H))+j[4]+4118548399&4294967295,x=D+(N<<7&4294967295|N>>>25),N=H+(I^x&(D^I))+j[5]+1200080426&4294967295,H=x+(N<<12&4294967295|N>>>20),N=I+(D^H&(x^D))+j[6]+2821735955&4294967295,I=H+(N<<17&4294967295|N>>>15),N=D+(x^I&(H^x))+j[7]+4249261313&4294967295,D=I+(N<<22&4294967295|N>>>10),N=x+(H^D&(I^H))+j[8]+1770035416&4294967295,x=D+(N<<7&4294967295|N>>>25),N=H+(I^x&(D^I))+j[9]+2336552879&4294967295,H=x+(N<<12&4294967295|N>>>20),N=I+(D^H&(x^D))+j[10]+4294925233&4294967295,I=H+(N<<17&4294967295|N>>>15),N=D+(x^I&(H^x))+j[11]+2304563134&4294967295,D=I+(N<<22&4294967295|N>>>10),N=x+(H^D&(I^H))+j[12]+1804603682&4294967295,x=D+(N<<7&4294967295|N>>>25),N=H+(I^x&(D^I))+j[13]+4254626195&4294967295,H=x+(N<<12&4294967295|N>>>20),N=I+(D^H&(x^D))+j[14]+2792965006&4294967295,I=H+(N<<17&4294967295|N>>>15),N=D+(x^I&(H^x))+j[15]+1236535329&4294967295,D=I+(N<<22&4294967295|N>>>10),N=x+(I^H&(D^I))+j[1]+4129170786&4294967295,x=D+(N<<5&4294967295|N>>>27),N=H+(D^I&(x^D))+j[6]+3225465664&4294967295,H=x+(N<<9&4294967295|N>>>23),N=I+(x^D&(H^x))+j[11]+643717713&4294967295,I=H+(N<<14&4294967295|N>>>18),N=D+(H^x&(I^H))+j[0]+3921069994&4294967295,D=I+(N<<20&4294967295|N>>>12),N=x+(I^H&(D^I))+j[5]+3593408605&4294967295,x=D+(N<<5&4294967295|N>>>27),N=H+(D^I&(x^D))+j[10]+38016083&4294967295,H=x+(N<<9&4294967295|N>>>23),N=I+(x^D&(H^x))+j[15]+3634488961&4294967295,I=H+(N<<14&4294967295|N>>>18),N=D+(H^x&(I^H))+j[4]+3889429448&4294967295,D=I+(N<<20&4294967295|N>>>12),N=x+(I^H&(D^I))+j[9]+568446438&4294967295,x=D+(N<<5&4294967295|N>>>27),N=H+(D^I&(x^D))+j[14]+3275163606&4294967295,H=x+(N<<9&4294967295|N>>>23),N=I+(x^D&(H^x))+j[3]+4107603335&4294967295,I=H+(N<<14&4294967295|N>>>18),N=D+(H^x&(I^H))+j[8]+1163531501&4294967295,D=I+(N<<20&4294967295|N>>>12),N=x+(I^H&(D^I))+j[13]+2850285829&4294967295,x=D+(N<<5&4294967295|N>>>27),N=H+(D^I&(x^D))+j[2]+4243563512&4294967295,H=x+(N<<9&4294967295|N>>>23),N=I+(x^D&(H^x))+j[7]+1735328473&4294967295,I=H+(N<<14&4294967295|N>>>18),N=D+(H^x&(I^H))+j[12]+2368359562&4294967295,D=I+(N<<20&4294967295|N>>>12),N=x+(D^I^H)+j[5]+4294588738&4294967295,x=D+(N<<4&4294967295|N>>>28),N=H+(x^D^I)+j[8]+2272392833&4294967295,H=x+(N<<11&4294967295|N>>>21),N=I+(H^x^D)+j[11]+1839030562&4294967295,I=H+(N<<16&4294967295|N>>>16),N=D+(I^H^x)+j[14]+4259657740&4294967295,D=I+(N<<23&4294967295|N>>>9),N=x+(D^I^H)+j[1]+2763975236&4294967295,x=D+(N<<4&4294967295|N>>>28),N=H+(x^D^I)+j[4]+1272893353&4294967295,H=x+(N<<11&4294967295|N>>>21),N=I+(H^x^D)+j[7]+4139469664&4294967295,I=H+(N<<16&4294967295|N>>>16),N=D+(I^H^x)+j[10]+3200236656&4294967295,D=I+(N<<23&4294967295|N>>>9),N=x+(D^I^H)+j[13]+681279174&4294967295,x=D+(N<<4&4294967295|N>>>28),N=H+(x^D^I)+j[0]+3936430074&4294967295,H=x+(N<<11&4294967295|N>>>21),N=I+(H^x^D)+j[3]+3572445317&4294967295,I=H+(N<<16&4294967295|N>>>16),N=D+(I^H^x)+j[6]+76029189&4294967295,D=I+(N<<23&4294967295|N>>>9),N=x+(D^I^H)+j[9]+3654602809&4294967295,x=D+(N<<4&4294967295|N>>>28),N=H+(x^D^I)+j[12]+3873151461&4294967295,H=x+(N<<11&4294967295|N>>>21),N=I+(H^x^D)+j[15]+530742520&4294967295,I=H+(N<<16&4294967295|N>>>16),N=D+(I^H^x)+j[2]+3299628645&4294967295,D=I+(N<<23&4294967295|N>>>9),N=x+(I^(D|~H))+j[0]+4096336452&4294967295,x=D+(N<<6&4294967295|N>>>26),N=H+(D^(x|~I))+j[7]+1126891415&4294967295,H=x+(N<<10&4294967295|N>>>22),N=I+(x^(H|~D))+j[14]+2878612391&4294967295,I=H+(N<<15&4294967295|N>>>17),N=D+(H^(I|~x))+j[5]+4237533241&4294967295,D=I+(N<<21&4294967295|N>>>11),N=x+(I^(D|~H))+j[12]+1700485571&4294967295,x=D+(N<<6&4294967295|N>>>26),N=H+(D^(x|~I))+j[3]+2399980690&4294967295,H=x+(N<<10&4294967295|N>>>22),N=I+(x^(H|~D))+j[10]+4293915773&4294967295,I=H+(N<<15&4294967295|N>>>17),N=D+(H^(I|~x))+j[1]+2240044497&4294967295,D=I+(N<<21&4294967295|N>>>11),N=x+(I^(D|~H))+j[8]+1873313359&4294967295,x=D+(N<<6&4294967295|N>>>26),N=H+(D^(x|~I))+j[15]+4264355552&4294967295,H=x+(N<<10&4294967295|N>>>22),N=I+(x^(H|~D))+j[6]+2734768916&4294967295,I=H+(N<<15&4294967295|N>>>17),N=D+(H^(I|~x))+j[13]+1309151649&4294967295,D=I+(N<<21&4294967295|N>>>11),N=x+(I^(D|~H))+j[4]+4149444226&4294967295,x=D+(N<<6&4294967295|N>>>26),N=H+(D^(x|~I))+j[11]+3174756917&4294967295,H=x+(N<<10&4294967295|N>>>22),N=I+(x^(H|~D))+j[2]+718787259&4294967295,I=H+(N<<15&4294967295|N>>>17),N=D+(H^(I|~x))+j[9]+3951481745&4294967295,A.g[0]=A.g[0]+x&4294967295,A.g[1]=A.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+I&4294967295,A.g[3]=A.g[3]+H&4294967295}r.prototype.v=function(A,x){x===void 0&&(x=A.length);const D=x-this.blockSize,j=this.C;let I=this.h,H=0;for(;H<x;){if(I==0)for(;H<=D;)o(this,A,H),H+=this.blockSize;if(typeof A=="string"){for(;H<x;)if(j[I++]=A.charCodeAt(H++),I==this.blockSize){o(this,j),I=0;break}}else for(;H<x;)if(j[I++]=A[H++],I==this.blockSize){o(this,j),I=0;break}}this.h=I,this.o+=x},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var x=1;x<A.length-8;++x)A[x]=0;x=this.o*8;for(var D=A.length-8;D<A.length;++D)A[D]=x&255,x/=256;for(this.v(A),A=Array(16),x=0,D=0;D<4;++D)for(let j=0;j<32;j+=8)A[x++]=this.g[D]>>>j&255;return A};function u(A,x){var D=d;return Object.prototype.hasOwnProperty.call(D,A)?D[A]:D[A]=x(A)}function c(A,x){this.h=x;const D=[];let j=!0;for(let I=A.length-1;I>=0;I--){const H=A[I]|0;j&&H==x||(D[I]=H,j=!1)}this.g=D}var d={};function m(A){return-128<=A&&A<128?u(A,function(x){return new c([x|0],x<0?-1:0)}):new c([A|0],A<0?-1:0)}function g(A){if(isNaN(A)||!isFinite(A))return v;if(A<0)return M(g(-A));const x=[];let D=1;for(let j=0;A>=D;j++)x[j]=A/D|0,D*=4294967296;return new c(x,0)}function y(A,x){if(A.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(A.charAt(0)=="-")return M(y(A.substring(1),x));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(x,8));let j=v;for(let H=0;H<A.length;H+=8){var I=Math.min(8,A.length-H);const N=parseInt(A.substring(H,H+I),x);I<8?(I=g(Math.pow(x,I)),j=j.j(I).add(g(N))):(j=j.j(D),j=j.add(g(N)))}return j}var v=m(0),T=m(1),w=m(16777216);e=c.prototype,e.m=function(){if(O(this))return-M(this).m();let A=0,x=1;for(let D=0;D<this.g.length;D++){const j=this.i(D);A+=(j>=0?j:4294967296+j)*x,x*=4294967296}return A},e.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(z(this))return"0";if(O(this))return"-"+M(this).toString(A);const x=g(Math.pow(A,6));var D=this;let j="";for(;;){const I=K(D,x).g;D=L(D,I.j(x));let H=((D.g.length>0?D.g[0]:D.h)>>>0).toString(A);if(D=I,z(D))return H+j;for(;H.length<6;)H="0"+H;j=H+j}},e.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function z(A){if(A.h!=0)return!1;for(let x=0;x<A.g.length;x++)if(A.g[x]!=0)return!1;return!0}function O(A){return A.h==-1}e.l=function(A){return A=L(this,A),O(A)?-1:z(A)?0:1};function M(A){const x=A.g.length,D=[];for(let j=0;j<x;j++)D[j]=~A.g[j];return new c(D,~A.h).add(T)}e.abs=function(){return O(this)?M(this):this},e.add=function(A){const x=Math.max(this.g.length,A.g.length),D=[];let j=0;for(let I=0;I<=x;I++){let H=j+(this.i(I)&65535)+(A.i(I)&65535),N=(H>>>16)+(this.i(I)>>>16)+(A.i(I)>>>16);j=N>>>16,H&=65535,N&=65535,D[I]=N<<16|H}return new c(D,D[D.length-1]&-2147483648?-1:0)};function L(A,x){return A.add(M(x))}e.j=function(A){if(z(this)||z(A))return v;if(O(this))return O(A)?M(this).j(M(A)):M(M(this).j(A));if(O(A))return M(this.j(M(A)));if(this.l(w)<0&&A.l(w)<0)return g(this.m()*A.m());const x=this.g.length+A.g.length,D=[];for(var j=0;j<2*x;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(let I=0;I<A.g.length;I++){const H=this.i(j)>>>16,N=this.i(j)&65535,Ct=A.i(I)>>>16,Lt=A.i(I)&65535;D[2*j+2*I]+=N*Lt,B(D,2*j+2*I),D[2*j+2*I+1]+=H*Lt,B(D,2*j+2*I+1),D[2*j+2*I+1]+=N*Ct,B(D,2*j+2*I+1),D[2*j+2*I+2]+=H*Ct,B(D,2*j+2*I+2)}for(A=0;A<x;A++)D[A]=D[2*A+1]<<16|D[2*A];for(A=x;A<2*x;A++)D[A]=0;return new c(D,0)};function B(A,x){for(;(A[x]&65535)!=A[x];)A[x+1]+=A[x]>>>16,A[x]&=65535,x++}function U(A,x){this.g=A,this.h=x}function K(A,x){if(z(x))throw Error("division by zero");if(z(A))return new U(v,v);if(O(A))return x=K(M(A),x),new U(M(x.g),M(x.h));if(O(x))return x=K(A,M(x)),new U(M(x.g),x.h);if(A.g.length>30){if(O(A)||O(x))throw Error("slowDivide_ only works with positive integers.");for(var D=T,j=x;j.l(A)<=0;)D=Y(D),j=Y(j);var I=P(D,1),H=P(j,1);for(j=P(j,2),D=P(D,2);!z(j);){var N=H.add(j);N.l(A)<=0&&(I=I.add(D),H=N),j=P(j,1),D=P(D,1)}return x=L(A,I.j(x)),new U(I,x)}for(I=v;A.l(x)>=0;){for(D=Math.max(1,Math.floor(A.m()/x.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),H=g(D),N=H.j(x);O(N)||N.l(A)>0;)D-=j,H=g(D),N=H.j(x);z(H)&&(H=T),I=I.add(H),A=L(A,N)}return new U(I,A)}e.B=function(A){return K(this,A).h},e.and=function(A){const x=Math.max(this.g.length,A.g.length),D=[];for(let j=0;j<x;j++)D[j]=this.i(j)&A.i(j);return new c(D,this.h&A.h)},e.or=function(A){const x=Math.max(this.g.length,A.g.length),D=[];for(let j=0;j<x;j++)D[j]=this.i(j)|A.i(j);return new c(D,this.h|A.h)},e.xor=function(A){const x=Math.max(this.g.length,A.g.length),D=[];for(let j=0;j<x;j++)D[j]=this.i(j)^A.i(j);return new c(D,this.h^A.h)};function Y(A){const x=A.g.length+1,D=[];for(let j=0;j<x;j++)D[j]=A.i(j)<<1|A.i(j-1)>>>31;return new c(D,A.h)}function P(A,x){const D=x>>5;x%=32;const j=A.g.length-D,I=[];for(let H=0;H<j;H++)I[H]=x>0?A.i(H+D)>>>x|A.i(H+D+1)<<32-x:A.i(H+D);return new c(I,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gE=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Nr=c}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yE,eu,vE,Nh,wp,bE,_E,TE;(function(){var e,t=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var b=0;b<h.length;++b){var E=h[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=i(this);function o(h,b){if(b)t:{var E=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var X=h[R];if(!(X in E))break t;E=E[X]}h=h[h.length-1],R=E[h],b=b(R),b!=R&&b!=null&&t(E,h,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(b){var E=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&E.push([R,b[R]]);return E}});var u=u||{},c=this||self;function d(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,E){return h.call.apply(h.bind,arguments)}function g(h,b,E){return g=m,g.apply(null,arguments)}function y(h,b){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function v(h,b){function E(){}E.prototype=b.prototype,h.Z=b.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(R,X,J){for(var ct=Array(arguments.length-2),It=2;It<arguments.length;It++)ct[It-2]=arguments[It];return b.prototype[X].apply(R,ct)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const b=h.length;if(b>0){const E=Array(b);for(let R=0;R<b;R++)E[R]=h[R];return E}return[]}function z(h,b){for(let R=1;R<arguments.length;R++){const X=arguments[R];var E=typeof X;if(E=E!="object"?E:X?Array.isArray(X)?"array":E:"null",E=="array"||E=="object"&&typeof X.length=="number"){E=h.length||0;const J=X.length||0;h.length=E+J;for(let ct=0;ct<J;ct++)h[E+ct]=X[ct]}else h.push(X)}}class O{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(h){c.setTimeout(()=>{throw h},0)}function L(){var h=A;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class B{constructor(){this.h=this.g=null}add(b,E){const R=U.get();R.set(b,E),this.h?this.h.next=R:this.g=R,this.h=R}}var U=new O(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,P=!1,A=new B,x=()=>{const h=Promise.resolve(void 0);Y=()=>{h.then(D)}};function D(){for(var h;h=L();){try{h.h.call(h.g)}catch(E){M(E)}var b=U;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}P=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,b),c.removeEventListener("test",E,b)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Ct(h,b){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}v(Ct,I),Ct.prototype.init=function(h,b){const E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(E=="mouseover"?b=h.fromElement:E=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ct.Z.h.call(this)},Ct.prototype.h=function(){Ct.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Lt="closure_listenable_"+(Math.random()*1e6|0),tt=0;function st(h,b,E,R,X){this.listener=h,this.proxy=null,this.src=b,this.type=E,this.capture=!!R,this.ha=X,this.key=++tt,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function yt(h,b,E){for(const R in h)b.call(E,h[R],R,h)}function pt(h,b){for(const E in h)b.call(void 0,h[E],E,h)}function F(h){const b={};for(const E in h)b[E]=h[E];return b}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,b){let E,R;for(let X=1;X<arguments.length;X++){R=arguments[X];for(E in R)h[E]=R[E];for(let J=0;J<et.length;J++)E=et[J],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,b,E,R,X){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const ct=vt(h,b,R,X);return ct>-1?(b=h[ct],E||(b.fa=!1)):(b=new st(b,this.src,J,!!R,X),b.fa=E,h.push(b)),b};function _t(h,b){const E=b.type;if(E in h.g){var R=h.g[E],X=Array.prototype.indexOf.call(R,b,void 0),J;(J=X>=0)&&Array.prototype.splice.call(R,X,1),J&&(ft(b),h.g[E].length==0&&(delete h.g[E],h.h--))}}function vt(h,b,E,R){for(let X=0;X<h.length;++X){const J=h[X];if(!J.da&&J.listener==b&&J.capture==!!E&&J.ha==R)return X}return-1}var lt="closure_lm_"+(Math.random()*1e6|0),Vt={};function Tt(h,b,E,R,X){if(Array.isArray(b)){for(let J=0;J<b.length;J++)Tt(h,b[J],E,R,X);return null}return E=Gi(E),h&&h[Lt]?h.J(b,E,d(R)?!!R.capture:!1,X):At(h,b,E,!1,R,X)}function At(h,b,E,R,X,J){if(!b)throw Error("Invalid event type");const ct=d(X)?!!X.capture:!!X;let It=_n(h);if(It||(h[lt]=It=new ht(h)),E=It.add(b,E,R,ct,J),E.proxy)return E;if(R=Mn(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)H||(X=ct),X===void 0&&(X=!1),h.addEventListener(b.toString(),R,X);else if(h.attachEvent)h.attachEvent(Ae(b.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Mn(){function h(E){return b.call(h.src,h.listener,E)}const b=zn;return h}function Xe(h,b,E,R,X){if(Array.isArray(b))for(var J=0;J<b.length;J++)Xe(h,b[J],E,R,X);else R=d(R)?!!R.capture:!!R,E=Gi(E),h&&h[Lt]?(h=h.i,J=String(b).toString(),J in h.g&&(b=h.g[J],E=vt(b,E,R,X),E>-1&&(ft(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete h.g[J],h.h--)))):h&&(h=_n(h))&&(b=h.g[b.toString()],h=-1,b&&(h=vt(b,E,R,X)),(E=h>-1?b[h]:null)&&bn(E))}function bn(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[Lt])_t(b.i,h);else{var E=h.type,R=h.proxy;b.removeEventListener?b.removeEventListener(E,R,h.capture):b.detachEvent?b.detachEvent(Ae(E),R):b.addListener&&b.removeListener&&b.removeListener(R),(E=_n(b))?(_t(E,h),E.h==0&&(E.src=null,b[lt]=null)):ft(h)}}}function Ae(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function zn(h,b){if(h.da)h=!0;else{b=new Ct(b,this);const E=h.listener,R=h.ha||h.src;h.fa&&bn(h),h=E.call(R,b)}return h}function _n(h){return h=h[lt],h instanceof ht?h:null}var Hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gi(h){return typeof h=="function"?h:(h[Hi]||(h[Hi]=function(b){return h.handleEvent(b)}),h[Hi])}function he(){j.call(this),this.i=new ht(this),this.M=this,this.G=null}v(he,j),he.prototype[Lt]=!0,he.prototype.removeEventListener=function(h,b,E,R){Xe(this,h,b,E,R)};function te(h,b){var E,R=h.G;if(R)for(E=[];R;R=R.G)E.push(R);if(h=h.M,R=b.type||b,typeof b=="string")b=new I(b,h);else if(b instanceof I)b.target=b.target||h;else{var X=b;b=new I(R,h),ut(b,X)}X=!0;let J,ct;if(E)for(ct=E.length-1;ct>=0;ct--)J=b.g=E[ct],X=Vn(J,R,!0,b)&&X;if(J=b.g=h,X=Vn(J,R,!0,b)&&X,X=Vn(J,R,!1,b)&&X,E)for(ct=0;ct<E.length;ct++)J=b.g=E[ct],X=Vn(J,R,!1,b)&&X}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const E=h.g[b];for(let R=0;R<E.length;R++)ft(E[R]);delete h.g[b],h.h--}}this.G=null},he.prototype.J=function(h,b,E,R){return this.i.add(String(h),b,!1,E,R)},he.prototype.K=function(h,b,E,R){return this.i.add(String(h),b,!0,E,R)};function Vn(h,b,E,R){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let X=!0;for(let J=0;J<b.length;++J){const ct=b[J];if(ct&&!ct.da&&ct.capture==E){const It=ct.listener,Me=ct.ha||ct.src;ct.fa&&_t(h.i,ct),X=It.call(Me,R)!==!1&&X}}return X&&!R.defaultPrevented}function Ki(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(h,b||0)}function bs(h){h.g=Ki(()=>{h.g=null,h.i&&(h.i=!1,bs(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class je extends j{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:bs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(h){j.call(this),this.h=h,this.g={}}v(Ni,j);var Qt=[];function ne(h){yt(h.g,function(b,E){this.g.hasOwnProperty(E)&&bn(b)},h),h.g={}}Ni.prototype.N=function(){Ni.Z.N.call(this),ne(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Le=c.JSON.stringify,_s=c.JSON.parse,Hr=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Zn(){}function Gr(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){I.call(this,"d")}v(Qe,I);function Tn(){I.call(this,"c")}v(Tn,I);var pe={},Va=null;function Ts(){return Va=Va||new he}pe.Ia="serverreachability";function Ia(h){I.call(this,pe.Ia,h)}v(Ia,I);function ci(h){const b=Ts();te(b,new Ia(b))}pe.STAT_EVENT="statevent";function Es(h,b){I.call(this,pe.STAT_EVENT,h),this.stat=b}v(Es,I);function kt(h){const b=Ts();te(b,new Es(b,h))}pe.Ja="timingevent";function ge(h,b){I.call(this,pe.Ja,h),this.size=b}v(ge,I);function ye(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},b)}function ke(){this.g=!0}ke.prototype.ua=function(){this.g=!1};function En(h,b,E,R,X,J){h.info(function(){if(h.g)if(J){var ct="",It=J.split("&");for(let Jt=0;Jt<It.length;Jt++){var Me=It[Jt].split("=");if(Me.length>1){const ve=Me[0];Me=Me[1];const mi=ve.split("_");ct=mi.length>=2&&mi[1]=="type"?ct+(ve+"="+Me+"&"):ct+(ve+"=redacted&")}}}else ct=null;else ct=J;return"XMLHTTP REQ ("+R+") [attempt "+X+"]: "+b+`
`+E+`
`+ct})}function nn(h,b,E,R,X,J,ct){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+X+"]: "+b+`
`+E+`
`+J+" "+ct})}function De(h,b,E,R){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ne(h,E)+(R?" "+R:"")})}function Bn(h,b){h.info(function(){return"TIMEOUT: "+b})}ke.prototype.info=function(){};function Ne(h,b){if(!h.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var E=J[h];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var X=R[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ct=1;ct<R.length;ct++)R[ct]=""}}}}return Le(J)}catch{return b}}var xn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},In;function Wn(){}v(Wn,Zn),Wn.prototype.g=function(){return new XMLHttpRequest},In=new Wn;function On(h){return encodeURIComponent(String(h))}function ti(h){var b=1;h=h.split(":");const E=[];for(;b>0&&h.length;)E.push(h.shift()),b--;return h.length&&E.push(h.join(":")),E}function un(h,b,E,R){this.j=h,this.i=b,this.l=E,this.S=R||1,this.V=new Ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var Pe={},sn={};function Yi(h,b,E){h.M=1,h.A=Kr(ze(b)),h.u=E,h.R=!0,Oa(h,null)}function Oa(h,b){h.F=Date.now(),Xi(h),h.B=ze(h.A);var E=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Pa(E.i,"t",R),h.C=0,E=h.j.L,h.h=new jn,h.g=dc(h.j,E?b:null,!h.u),h.P>0&&(h.O=new je(g(h.Y,h,h.g),h.P)),b=h.V,E=h.g,R=h.ba;var X="readystatechange";Array.isArray(X)||(X&&(Qt[0]=X.toString()),X=Qt);for(let J=0;J<X.length;J++){const ct=Tt(E,X[J],R||b.handleEvent,!1,b.h||b);if(!ct)break;b.g[ct.key]=ct}b=h.J?F(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),ci(),En(h.i,h.v,h.B,h.l,h.S,h.u)}un.prototype.ba=function(h){h=h.target;const b=this.O;b&&Ii(h)==3?b.j():this.Y(h)},un.prototype.Y=function(h){try{if(h==this.g)t:{const It=Ii(this.g),Me=this.g.ya(),Jt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||It!=4||Me==7||(Me==8||Jt<=0?ci(3):ci(2)),Qi(this);var b=this.g.ca();this.X=b;var E=qf(this);if(this.o=b==200,nn(this.i,this.v,this.B,this.l,this.S,It,b),this.o){if(this.U&&!this.L){e:{if(this.g){var R,X=this.g;if((R=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(R)){var J=R;break e}}J=null}if(h=J)De(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$i(this,h);else{this.o=!1,this.m=3,kt(12),ei(this),hi(this);break t}}if(this.R){h=!0;let ve;for(;!this.K&&this.C<E.length;)if(ve=tc(this,E),ve==sn){It==4&&(this.m=4,kt(14),h=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==Pe){this.m=4,kt(15),De(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else De(this.i,this.l,ve,null),$i(this,ve);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||E.length!=0||this.h.h||(this.m=1,kt(16),h=!1),this.o=this.o&&h,!h)De(this.i,this.l,E,"[Invalid Chunked Response]"),ei(this),hi(this);else if(E.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),pl(ct),ct.P=!0,kt(11))}}else De(this.i,this.l,E,null),$i(this,E);It==4&&ei(this),this.o&&!this.K&&(It==4?uc(this.j,this):(this.o=!1,Xi(this)))}else Ss(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),ei(this),hi(this)}}}catch{}};function qf(h){if(!Wu(h))return h.g.la();const b=cn(h.g);if(b==="")return"";let E="";const R=b.length,X=Ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ei(h),hi(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<R;J++)h.h.h=!0,E+=h.h.i.decode(b[J],{stream:!(X&&J==R-1)});return b.length=0,h.h.g+=E,h.C=0,h.h.g}function Wu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function tc(h,b){var E=h.C,R=b.indexOf(`
`,E);return R==-1?sn:(E=Number(b.substring(E,R)),isNaN(E)?Pe:(R+=1,R+E>b.length?sn:(b=b.slice(R,R+E),h.C=R+E,b)))}un.prototype.cancel=function(){this.K=!0,ei(this)};function Xi(h){h.T=Date.now()+h.H,ja(h,h.H)}function ja(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ye(g(h.aa,h),b)}function Qi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}un.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Bn(this.i,this.B),this.M!=2&&(ci(),kt(17)),ei(this),this.m=2,hi(this)):ja(this,this.T-h)};function hi(h){h.j.I==0||h.K||uc(h.j,h)}function ei(h){Qi(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,ne(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function $i(h,b){try{var E=h.j;if(E.I!=0&&(E.g==h||Ji(E.h,h))){if(!h.L&&Ji(E.h,h)&&E.I==3){try{var R=E.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var X=R;if(X[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)qa(E),tr(E);else break t;Wr(E),kt(18)}}else E.xa=X[1],0<E.xa-E.K&&X[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ye(g(E.Va,E),6e3));Zi(E.h)<=1&&E.ta&&(E.ta=void 0)}else ss(E,11)}else if((h.L||E.g==h)&&qa(E),!N(b))for(X=E.Ba.g.parse(b),b=0;b<X.length;b++){let Jt=X[b];const ve=Jt[0];if(!(ve<=E.K))if(E.K=ve,Jt=Jt[1],E.I==2)if(Jt[0]=="c"){E.M=Jt[1],E.ba=Jt[2];const mi=Jt[3];mi!=null&&(E.ka=mi,E.j.info("VER="+E.ka));const rs=Jt[4];rs!=null&&(E.za=rs,E.j.info("SVER="+E.za));const Oi=Jt[5];Oi!=null&&typeof Oi=="number"&&Oi>0&&(R=1.5*Oi,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const ji=h.g;if(ji){const ta=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var J=R.h;J.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(il(J,J.h),J.h=null))}if(R.G){const Ha=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(R.wa=Ha,ie(R.J,R.G,Ha))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ct=h;if(R.na=fc(R,R.L?R.ba:null,R.W),ct.L){sl(R.h,ct);var It=ct,Me=R.O;Me&&(It.H=Me),It.D&&(Qi(It),Xi(It)),R.g=ct}else oc(R);E.i.length>0&&is(E)}else Jt[0]!="stop"&&Jt[0]!="close"||ss(E,7);else E.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?ss(E,7):dl(E):Jt[0]!="noop"&&E.l&&E.l.qa(Jt),E.A=0)}}ci(4)}catch{}}var Ue=class{constructor(h,b){this.g=h,this.map=b}};function el(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Zi(h){return h.h?1:h.g?h.g.size:0}function Ji(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function il(h,b){h.g?h.g.add(b):h.h=b}function sl(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}el.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const E of h.g.values())b=b.concat(E.G);return b}return w(h.i)}var ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(h,b){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const R=h[E].indexOf("=");let X,J=null;R>=0?(X=h[E].substring(0,R),J=h[E].substring(R+1)):X=h[E],b(X,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ni(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof ni?(this.l=h.l,rn(this,h.j),this.o=h.o,this.g=h.g,Ys(this,h.u),this.h=h.h,al(this,rc(h.i)),this.m=h.m):h&&(b=String(h).match(ec))?(this.l=!1,rn(this,b[1]||"",!0),this.o=Wi(b[2]||""),this.g=Wi(b[3]||"",!0),Ys(this,b[4]),this.h=Wi(b[5]||"",!0),al(this,b[6]||"",!0),this.m=Wi(b[7]||"")):(this.l=!1,this.i=new Qs(null,this.l))}ni.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(Yr(b,ka,!0),":");var E=this.g;return(E||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Yr(b,ka,!0),"@"),h.push(On(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Yr(E,E.charAt(0)=="/"?ol:nc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Yr(E,ic)),h.join("")},ni.prototype.resolve=function(h){const b=ze(this);let E=!!h.j;E?rn(b,h.j):E=!!h.o,E?b.o=h.o:E=!!h.g,E?b.g=h.g:E=h.u!=null;var R=h.h;if(E)Ys(b,h.u);else if(E=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var X=b.h.lastIndexOf("/");X!=-1&&(R=b.h.slice(0,X+1)+R)}if(X=R,X==".."||X==".")R="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){R=X.lastIndexOf("/",0)==0,X=X.split("/");const J=[];for(let ct=0;ct<X.length;){const It=X[ct++];It=="."?R&&ct==X.length&&J.push(""):It==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&ct==X.length&&J.push("")):(J.push(It),R=!0)}R=J.join("/")}else R=X}return E?b.h=R:E=h.i.toString()!=="",E?al(b,rc(h.i)):E=!!h.m,E&&(b.m=h.m),b};function ze(h){return new ni(h)}function rn(h,b,E){h.j=E?Wi(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Ys(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function al(h,b,E){b instanceof Qs?(h.i=b,Ua(h.i,h.l)):(E||(b=Yr(b,Xs)),h.i=new Qs(b,h.l))}function ie(h,b,E){h.i.set(b,E)}function Kr(h){return ie(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Wi(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yr(h,b,E){return typeof h=="string"?(h=encodeURI(h).replace(b,Fn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ka=/[#\/\?@]/g,nc=/[#\?:]/g,ol=/[#\?]/g,Xs=/[#\?@]/g,ic=/#/g;function Qs(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function qn(h){h.g||(h.g=new Map,h.h=0,h.i&&La(h.i,function(b,E){h.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}e=Qs.prototype,e.add=function(h,b){qn(this),this.i=null,h=$s(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(b),this.h+=1,this};function sc(h,b){qn(h),b=$s(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function ll(h,b){return qn(h),b=$s(h,b),h.g.has(b)}e.forEach=function(h,b){qn(this),this.g.forEach(function(E,R){E.forEach(function(X){h.call(b,X,R,this)},this)},this)};function ul(h,b){qn(h);let E=[];if(typeof b=="string")ll(h,b)&&(E=E.concat(h.g.get($s(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)E=E.concat(h[b]);return E}e.set=function(h,b){return qn(this),this.i=null,h=$s(this,h),ll(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},e.get=function(h,b){return h?(h=ul(this,h),h.length>0?String(h[0]):b):b};function Pa(h,b,E){sc(h,b),E.length>0&&(h.i=null,h.g.set($s(h,b),w(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var E=b[R];const X=On(E);E=ul(this,E);for(let J=0;J<E.length;J++){let ct=X;E[J]!==""&&(ct+="="+On(E[J])),h.push(ct)}}return this.i=h.join("&")};function rc(h){const b=new Qs;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function $s(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function Ua(h,b){b&&!h.j&&(qn(h),h.i=null,h.g.forEach(function(E,R){const X=R.toLowerCase();R!=X&&(sc(this,R),Pa(this,X,E))},h)),h.j=b}function Mi(h,b){const E=new ke;if(c.Image){const R=new Image;R.onload=y(fi,E,"TestLoadImage: loaded",!0,b,R),R.onerror=y(fi,E,"TestLoadImage: error",!1,b,R),R.onabort=y(fi,E,"TestLoadImage: abort",!1,b,R),R.ontimeout=y(fi,E,"TestLoadImage: timeout",!1,b,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else b(!1)}function cl(h,b){const E=new ke,R=new AbortController,X=setTimeout(()=>{R.abort(),fi(E,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:R.signal}).then(J=>{clearTimeout(X),J.ok?fi(E,"TestPingServer: ok",!0,b):fi(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),fi(E,"TestPingServer: error",!1,b)})}function fi(h,b,E,R,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),R(E)}catch{}}function Zs(){this.g=new Hr}function ts(h){this.i=h.Sb||null,this.h=h.ab||!1}v(ts,Zn),ts.prototype.g=function(){return new Xr(this.i,this.h)};function Xr(h,b){he.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Xr,he),e=Xr.prototype,e.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,Vi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Js(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;za(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function za(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Js(this):Vi(this),this.readyState==3&&za(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Js(this))},e.Na=function(h){this.g&&(this.response=h,Js(this))},e.ga=function(){this.g&&Js(this)};function Js(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Vi(h)}e.setRequestHeader=function(h,b){this.A.append(h,b)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=b.next();return h.join(`\r
`)};function Vi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function di(h){let b="";return yt(h,function(E,R){b+=R,b+=":",b+=E,b+=`\r
`}),b}function Qr(h,b,E){t:{for(R in E){var R=!1;break t}R=!0}R||(E=di(E),typeof h=="string"?E!=null&&On(E):ie(h,b,E))}function ae(h){he.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ae,he);var es=/^https?$/i,hl=["POST","PUT"];e=ae.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,b,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():In.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(J){$r(this,J);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var X in R)E.set(X,R[X]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())E.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),X=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(hl,b,void 0)>=0)||R||X||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ct]of E)this.g.setRequestHeader(J,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){$r(this,J)}};function $r(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,fl(h),xs(h)}function fl(h){h.A||(h.A=!0,te(h,"complete"),te(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,te(this,"complete"),te(this,"abort"),xs(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),ae.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Zr(this):this.Xa())},e.Xa=function(){Zr(this)};function Zr(h){if(h.h&&typeof u<"u"){if(h.v&&Ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(te(h,"readystatechange"),Ii(h)==4){h.h=!1;try{const J=h.ca();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var E;if(!(E=b)){var R;if(R=J===0){let ct=String(h.D).match(ec)[1]||null;!ct&&c.self&&c.self.location&&(ct=c.self.location.protocol.slice(0,-1)),R=!es.test(ct?ct.toLowerCase():"")}E=R}if(E)te(h,"complete"),te(h,"success");else{h.o=6;try{var X=Ii(h)>2?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.ca()+"]",fl(h)}}finally{xs(h)}}}}function xs(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,b||te(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Ii(h){return h.g?h.g.readyState:0}e.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),_s(b)}};function cn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ss(h){const b={};h=(h.g&&Ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(N(h[R]))continue;var E=ti(h[R]);const X=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=b[X]||[];b[X]=J,J.push(E)}pt(b,function(R){return R.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(h,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||b}function Ws(h){this.za=0,this.i=[],this.j=new ke,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ns("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ns("baseRetryDelayMs",5e3,h),this.Za=ns("retryDelaySeedMs",1e4,h),this.Ta=ns("forwardChannelMaxRetries",2,h),this.va=ns("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new el(h&&h.concurrentRequestLimit),this.Ba=new Zs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ws.prototype,e.ka=8,e.I=1,e.connect=function(h,b,E,R){kt(0),this.W=h,this.H=b||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=fc(this,null,this.W),is(this)};function dl(h){if(Ba(h),h.I==3){var b=h.V++,E=ze(h.J);if(ie(E,"SID",h.M),ie(E,"RID",b),ie(E,"TYPE","terminate"),Jr(h,E),b=new un(h,h.j,b),b.M=2,b.A=Kr(ze(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=b.A,E=!0),E||(b.g=dc(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Xi(b)}hc(h)}function tr(h){h.g&&(pl(h),h.g.cancel(),h.g=null)}function Ba(h){tr(h),h.v&&(c.clearTimeout(h.v),h.v=null),qa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function is(h){if(!nl(h.h)&&!h.m){h.m=!0;var b=h.Ea;Y||x(),P||(Y(),P=!0),A.add(b,h),h.D=0}}function Fa(h,b){return Zi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ye(g(h.Ea,h,b),cc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const X=new un(this,this.j,h);let J=this.o;if(this.U&&(J?(J=F(J),ut(J,this.U)):J=this.U),this.u!==null||this.R||(X.J=J,J=null),this.S)t:{for(var b=0,E=0;E<this.i.length;E++){e:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=E;break t}if(b===4096||E===this.i.length-1){b=E+1;break t}}b=1e3}else b=1e3;b=ac(this,X,b),E=ze(this.J),ie(E,"RID",h),ie(E,"CVER",22),this.G&&ie(E,"X-HTTP-Session-Id",this.G),Jr(this,E),J&&(this.R?b="headers="+On(di(J))+"&"+b:this.u&&Qr(E,this.u,J)),il(this.h,X),this.Ra&&ie(E,"TYPE","init"),this.S?(ie(E,"$req",b),ie(E,"SID","null"),X.U=!0,Yi(X,E,null)):Yi(X,E,b),this.I=2}}else this.I==3&&(h?ml(this,h):this.i.length==0||nl(this.h)||ml(this))};function ml(h,b){var E;b?E=b.l:E=h.V++;const R=ze(h.J);ie(R,"SID",h.M),ie(R,"RID",E),ie(R,"AID",h.K),Jr(h,R),h.u&&h.o&&Qr(R,h.u,h.o),E=new un(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),b&&(h.i=b.G.concat(h.i)),b=ac(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),il(h.h,E),Yi(E,R,b)}function Jr(h,b){h.H&&yt(h.H,function(E,R){ie(b,R,E)}),h.l&&yt({},function(E,R){ie(b,R,E)})}function ac(h,b,E){E=Math.min(h.i.length,E);const R=h.l?g(h.l.Ka,h.l,h):null;t:{var X=h.i;let It=-1;for(;;){const Me=["count="+E];It==-1?E>0?(It=X[0].g,Me.push("ofs="+It)):It=0:Me.push("ofs="+It);let Jt=!0;for(let ve=0;ve<E;ve++){var J=X[ve].g;const mi=X[ve].map;if(J-=It,J<0)It=Math.max(0,X[ve].g-100),Jt=!1;else try{J="req"+J+"_"||"";try{var ct=mi instanceof Map?mi:Object.entries(mi);for(const[rs,Oi]of ct){let ji=Oi;d(Oi)&&(ji=Le(Oi)),Me.push(J+rs+"="+encodeURIComponent(ji))}}catch(rs){throw Me.push(J+"type="+encodeURIComponent("_badmap")),rs}}catch{R&&R(mi)}}if(Jt){ct=Me.join("&");break t}}ct=void 0}return h=h.i.splice(0,E),b.G=h,ct}function oc(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;Y||x(),P||(Y(),P=!0),A.add(b,h),h.A=0}}function Wr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ye(g(h.Da,h),cc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,lc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ye(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),tr(this),lc(this))};function pl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function lc(h){h.g=new un(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=ze(h.na);ie(b,"RID","rpc"),ie(b,"SID",h.M),ie(b,"AID",h.K),ie(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&ie(b,"TO",h.ia),ie(b,"TYPE","xmlhttp"),Jr(h,b),h.u&&h.o&&Qr(b,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Kr(ze(b)),E.u=null,E.R=!0,Oa(E,h)}e.Va=function(){this.C!=null&&(this.C=null,tr(this),Wr(this),kt(19))};function qa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function uc(h,b){var E=null;if(h.g==b){qa(h),pl(h),h.g=null;var R=2}else if(Ji(h.h,b))E=b.G,sl(h.h,b),R=1;else return;if(h.I!=0){if(b.o)if(R==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var X=h.D;R=Ts(),te(R,new ge(R,E)),is(h)}else oc(h);else if(X=b.m,X==3||X==0&&b.X>0||!(R==1&&Fa(h,b)||R==2&&Wr(h)))switch(E&&E.length>0&&(b=h.h,b.i=b.i.concat(E)),X){case 1:ss(h,5);break;case 4:ss(h,10);break;case 3:ss(h,6);break;default:ss(h,2)}}}function cc(h,b){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*b}function ss(h,b){if(h.j.info("Error code "+b),b==2){var E=g(h.bb,h),R=h.Ua;const X=!R;R=new ni(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rn(R,"https"),Kr(R),X?Mi(R.toString(),E):cl(R.toString(),E)}else kt(2);h.I=0,h.l&&h.l.pa(b),hc(h),Ba(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function hc(h){if(h.I=0,h.ja=[],h.l){const b=rl(h.h);(b.length!=0||h.i.length!=0)&&(z(h.ja,b),z(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function fc(h,b,E){var R=E instanceof ni?ze(E):new ni(E);if(R.g!="")b&&(R.g=b+"."+R.g),Ys(R,R.u);else{var X=c.location;R=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;const J=new ni(null);R&&rn(J,R),b&&(J.g=b),X&&Ys(J,X),E&&(J.h=E),R=J}return E=h.G,b=h.wa,E&&b&&ie(R,E,b),ie(R,"VER",h.ka),Jr(h,R),R}function dc(h,b,E){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new ae(new ts({ab:E})):new ae(h.ma),b.Fa(h.L),b}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}e=mc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function er(){}er.prototype.g=function(h,b){return new Ln(h,b)};function Ln(h,b){he.call(this),this.g=new Ws(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!N(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new As(this)}v(Ln,he),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){dl(this.g)},Ln.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Le(h),h=E);b.i.push(new Ue(b.Ya++,h)),b.I==3&&is(b)},Ln.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,Ln.Z.N.call(this)};function pc(h){Qe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){t:{for(const E in b){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}v(pc,Qe);function gc(){Tn.call(this),this.status=1}v(gc,Tn);function As(h){this.g=h}v(As,mc),As.prototype.ra=function(){te(this.g,"a")},As.prototype.qa=function(h){te(this.g,new pc(h))},As.prototype.pa=function(h){te(this.g,new gc)},As.prototype.oa=function(){te(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,TE=function(){return new er},_E=function(){return Ts()},bE=pe,wp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xn.NO_ERROR=0,xn.TIMEOUT=8,xn.HTTP_ERROR=6,Nh=xn,Sn.COMPLETE="complete",vE=Sn,Gr.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",he.prototype.listen=he.prototype.J,eu=Gr,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,yE=ae}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore",N_="4.9.3";let Cn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");let Go="12.7.0";const wa=new cE("@firebase/firestore");function To(){return wa.logLevel}function dt(e,...t){if(wa.logLevel<=Yt.DEBUG){const i=t.map(Tg);wa.debug(`Firestore (${Go}): ${e}`,...i)}}function qs(e,...t){if(wa.logLevel<=Yt.ERROR){const i=t.map(Tg);wa.error(`Firestore (${Go}): ${e}`,...i)}}function Lo(e,...t){if(wa.logLevel<=Yt.WARN){const i=t.map(Tg);wa.warn(`Firestore (${Go}): ${e}`,...i)}}function Tg(e){if(typeof e=="string")return e;try{return(function(i){return JSON.stringify(i)})(e)}catch{return e}}function wt(e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,EE(e,r,i)}function EE(e,t,i){let r=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw qs(r),new Error(r)}function ee(e,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,e||EE(t,o,r)}function Mt(e,t){return e}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends Ho{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class xE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class OR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Cn.UNAUTHENTICATED)))}shutdown(){}}class jR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class LR{constructor(t){this.t=t,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ee(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,i(m)):Promise.resolve();let u=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Mr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=u;t.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Mr)}}),0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee(typeof r.accessToken=="string",31837,{l:r}),new xE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ee(t===null||typeof t=="string",2055,{h:t}),new Cn(t)}}class kR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new kR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ee(this.o===void 0,3512);const r=u=>{u.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ee(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zR(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<e;r++)i[r]=Math.floor(256*Math.random());return i}class Eg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=zR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Ft(e,t){return e<t?-1:e>t?1:0}function Cp(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.charAt(r),u=t.charAt(r);if(o!==u)return Xm(o)===Xm(u)?Ft(o,u):Xm(o)?1:-1}return Ft(e.length,t.length)}const BR=55296,FR=57343;function Xm(e){const t=e.charCodeAt(0);return t>=BR&&t<=FR}function ko(e,t,i){return e.length===t.length&&e.every(((r,o)=>i(r,t[o])))}const V_="__name__";class cs{constructor(t,i,r){i===void 0?i=0:i>t.length&&wt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&wt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return cs.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof cs?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=cs.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Ft(t.length,i.length)}static compareSegments(t,i){const r=cs.isNumericId(t),o=cs.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?cs.extractNumericId(t).compare(cs.extractNumericId(i)):Cp(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Nr.fromString(t.substring(4,t.length-2))}}class Ee extends cs{construct(t,i,r){return new Ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new bt(ot.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Ee(i)}static emptyPath(){return new Ee([])}}const qR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends cs{construct(t,i,r){return new yn(t,i,r)}static isValidIdentifier(t){return qR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new yn([V_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new bt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new bt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new bt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(u(),o++)}if(u(),c)throw new bt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yn(i)}static emptyPath(){return new yn([])}}class xt{constructor(t){this.path=t}static fromPath(t){return new xt(Ee.fromString(t))}static fromName(t){return new xt(Ee.fromString(t).popFirst(5))}static empty(){return new xt(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xt(new Ee(t.slice()))}}function HR(e,t,i){if(!i)throw new bt(ot.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function GR(e,t,i,r){if(t===!0&&r===!0)throw new bt(ot.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function I_(e){if(!xt.isDocumentKey(e))throw new bt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function SE(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function xg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":wt(12329,{type:typeof e})}function Vr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new bt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xg(e);throw new bt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}function Ye(e,t){const i={typeString:e};return t&&(i.value=t),i}function zu(e,t){if(!SE(e))throw new bt(ot.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){i=`JSON missing required field: '${r}'`;break}const c=e[r];if(o&&typeof c!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new bt(ot.INVALID_ARGUMENT,i);return!0}const O_=-62135596800,j_=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*j_);return new me(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new bt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new bt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<O_)throw new bt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zu(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-O_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Ye("string",me._jsonSchemaVersion),seconds:Ye("number"),nanoseconds:Ye("number")};class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new me(0,0))}static max(){return new Dt(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xu=-1;function KR(e,t){const i=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=Dt.fromTimestamp(r===1e9?new me(i+1,0):new me(i,r));return new Ir(o,xt.empty(),t)}function YR(e){return new Ir(e.readTime,e.key,xu)}class Ir{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ir(Dt.min(),xt.empty(),xu)}static max(){return new Ir(Dt.max(),xt.empty(),xu)}}function XR(e,t){let i=e.readTime.compareTo(t.readTime);return i!==0?i:(i=xt.comparator(e.documentKey,t.documentKey),i!==0?i:Ft(e.largestBatchId,t.largestBatchId))}const QR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ko(e){if(e.code!==ot.FAILED_PRECONDITION||e.message!==QR)throw e;dt("LocalStore","Unexpectedly lost primary lease")}class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new at(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):at.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):at.reject(i)}static resolve(t){return new at(((i,r)=>{i(t)}))}static reject(t){return new at(((i,r)=>{r(t)}))}static waitFor(t){return new at(((i,r)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&i()}),(m=>r(m)))})),c=!0,u===o&&i()}))}static or(t){let i=at.resolve(!1);for(const r of t)i=i.next((o=>o?at.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new at(((r,o)=>{const u=t.length,c=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;i(t[g]).next((y=>{c[g]=y,++d,d===u&&r(c)}),(y=>o(y)))}}))}static doWhile(t,i){return new at(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function ZR(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Yo(e){return e.name==="IndexedDbTransactionError"}class bf{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}bf.ce=-1;const Sg=-1;function _f(e){return e==null}function Kh(e){return e===0&&1/e==-1/0}function JR(e){return typeof e=="number"&&Number.isInteger(e)&&!Kh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const AE="";function WR(e){let t="";for(let i=0;i<e.length;i++)t.length>0&&(t=L_(t)),t=tD(e.get(i),t);return L_(t)}function tD(e,t){let i=t;const r=e.length;for(let o=0;o<r;o++){const u=e.charAt(o);switch(u){case"\0":i+="";break;case AE:i+="";break;default:i+=u}}return i}function L_(e){return e+AE+""}function k_(e){let t=0;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function Ra(e,t){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function wE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Se{constructor(t,i){this.comparator=t,this.root=i||gn.EMPTY}insert(t,i){return new Se(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(t){return new Se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Th(this.root,t,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Th(this.root,t,this.comparator,!0)}}class Th{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gn{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??gn.RED,this.left=o??gn.EMPTY,this.right=u??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new gn(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new gn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(t){this.comparator=t,this.data=new Se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(t){return new P_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new en(this.comparator);return i.data=t,i}}class P_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bi{constructor(t){this.fields=t,t.sort(yn.comparator)}static empty(){return new Bi([])}unionWith(t){let i=new en(yn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Bi(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ko(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new CE("Invalid base64 string: "+u):u}})(t);return new vn(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new vn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const eD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(e){if(ee(!!e,39018),typeof e=="string"){let t=0;const i=eD.exec(e);if(ee(!!i,46558,{timestamp:e}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Oe(e.seconds),nanos:Oe(e.nanos)}}function Oe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function jr(e){return typeof e=="string"?vn.fromBase64String(e):vn.fromUint8Array(e)}const RE="server_timestamp",DE="__type__",NE="__previous_value__",ME="__local_write_time__";function Ag(e){return(e?.mapValue?.fields||{})[DE]?.stringValue===RE}function Tf(e){const t=e.mapValue.fields[NE];return Ag(t)?Tf(t):t}function Su(e){const t=Or(e.mapValue.fields[ME].timestampValue);return new me(t.seconds,t.nanos)}class nD{constructor(t,i,r,o,u,c,d,m,g,y){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Yh="(default)";class Au{constructor(t,i){this.projectId=t,this.database=i||Yh}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(t){return t instanceof Au&&t.projectId===this.projectId&&t.database===this.database}}const VE="__type__",iD="__max__",Eh={mapValue:{}},IE="__vector__",Xh="value";function Lr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ag(e)?4:rD(e)?9007199254740991:sD(e)?10:11:wt(28295,{value:e})}function ys(e,t){if(e===t)return!0;const i=Lr(e);if(i!==Lr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Su(e).isEqual(Su(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Or(o.timestampValue),d=Or(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,u){return jr(o.bytesValue).isEqual(jr(u.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,u){return Oe(o.geoPointValue.latitude)===Oe(u.geoPointValue.latitude)&&Oe(o.geoPointValue.longitude)===Oe(u.geoPointValue.longitude)})(e,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Oe(o.integerValue)===Oe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Oe(o.doubleValue),d=Oe(u.doubleValue);return c===d?Kh(c)===Kh(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return ko(e.arrayValue.values||[],t.arrayValue.values||[],ys);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(k_(c)!==k_(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ys(c[m],d[m])))return!1;return!0})(e,t);default:return wt(52216,{left:e})}}function wu(e,t){return(e.values||[]).find((i=>ys(i,t)))!==void 0}function Po(e,t){if(e===t)return 0;const i=Lr(e),r=Lr(t);if(i!==r)return Ft(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ft(e.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=Oe(u.integerValue||u.doubleValue),m=Oe(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return U_(e.timestampValue,t.timestampValue);case 4:return U_(Su(e),Su(t));case 5:return Cp(e.stringValue,t.stringValue);case 6:return(function(u,c){const d=jr(u),m=jr(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Ft(d[g],m[g]);if(y!==0)return y}return Ft(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=Ft(Oe(u.latitude),Oe(c.latitude));return d!==0?d:Ft(Oe(u.longitude),Oe(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return z_(e.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},m=c.fields||{},g=d[Xh]?.arrayValue,y=m[Xh]?.arrayValue,v=Ft(g?.values?.length||0,y?.values?.length||0);return v!==0?v:z_(g,y)})(e.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Eh.mapValue&&c===Eh.mapValue)return 0;if(u===Eh.mapValue)return 1;if(c===Eh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const T=Cp(m[v],y[v]);if(T!==0)return T;const w=Po(d[m[v]],g[y[v]]);if(w!==0)return w}return Ft(m.length,y.length)})(e.mapValue,t.mapValue);default:throw wt(23264,{he:i})}}function U_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ft(e,t);const i=Or(e),r=Or(t),o=Ft(i.seconds,r.seconds);return o!==0?o:Ft(i.nanos,r.nanos)}function z_(e,t){const i=e.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Po(i[o],r[o]);if(u)return u}return Ft(i.length,r.length)}function Uo(e){return Rp(e)}function Rp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(i){const r=Or(i);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(i){return jr(i).toBase64()})(e.bytesValue):"referenceValue"in e?(function(i){return xt.fromName(i).toString()})(e.referenceValue):"geoPointValue"in e?(function(i){return`geo(${i.latitude},${i.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Rp(u);return r+"]"})(e.arrayValue):"mapValue"in e?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Rp(i.fields[c])}`;return o+"}"})(e.mapValue):wt(61005,{value:e})}function Mh(e){switch(Lr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Tf(e);return t?16+Mh(t):16;case 5:return 2*e.stringValue.length;case 6:return jr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Mh(u)),0)})(e.arrayValue);case 10:case 11:return(function(r){let o=0;return Ra(r.fields,((u,c)=>{o+=u.length+Mh(c)})),o})(e.mapValue);default:throw wt(13486,{value:e})}}function Dp(e){return!!e&&"integerValue"in e}function wg(e){return!!e&&"arrayValue"in e}function B_(e){return!!e&&"nullValue"in e}function F_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vh(e){return!!e&&"mapValue"in e}function sD(e){return(e?.mapValue?.fields||{})[VE]?.stringValue===IE}function uu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ra(e.mapValue.fields,((i,r)=>t.mapValue.fields[i]=uu(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=uu(e.arrayValue.values[i]);return t}return{...e}}function rD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===iD}class wi{constructor(t){this.value=t}static empty(){return new wi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Vh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=uu(i)}setAll(t){let i=yn.emptyPath(),r={},o=[];t.forEach(((c,d)=>{if(!i.isImmediateParentOf(d)){const m=this.getFieldsMap(i);this.applyChanges(m,r,o),r={},o=[],i=d.popLast()}c?r[d.lastSegment()]=uu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Vh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ys(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Ra(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new wi(uu(this.value))}}function OE(e){const t=[];return Ra(e.fields,((i,r)=>{const o=new yn([i]);if(Vh(r)){const u=OE(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Bi(t)}class Rn{constructor(t,i,r,o,u,c,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new Rn(t,0,Dt.min(),Dt.min(),Dt.min(),wi.empty(),0)}static newFoundDocument(t,i,r,o){return new Rn(t,1,i,Dt.min(),r,o,0)}static newNoDocument(t,i){return new Rn(t,2,i,Dt.min(),Dt.min(),wi.empty(),0)}static newUnknownDocument(t,i){return new Rn(t,3,i,Dt.min(),Dt.min(),wi.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qh{constructor(t,i){this.position=t,this.inclusive=i}}function q_(e,t,i){let r=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?r=xt.comparator(xt.fromName(c.referenceValue),i.key):r=Po(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function H_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!ys(e.position[i],t.position[i]))return!1;return!0}class $h{constructor(t,i="asc"){this.field=t,this.dir=i}}function aD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class jE{}class We extends jE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new lD(t,i,r):i==="array-contains"?new hD(t,r):i==="in"?new fD(t,r):i==="not-in"?new dD(t,r):i==="array-contains-any"?new mD(t,r):new We(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new uD(t,r):new cD(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Po(i,this.value)):i!==null&&Lr(this.value)===Lr(i)&&this.matchesComparison(Po(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vs extends jE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new vs(t,i)}matches(t){return LE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(e){return e.op==="and"}function kE(e){return oD(e)&&LE(e)}function oD(e){for(const t of e.filters)if(t instanceof vs)return!1;return!0}function Np(e){if(e instanceof We)return e.field.canonicalString()+e.op.toString()+Uo(e.value);if(kE(e))return e.filters.map((t=>Np(t))).join(",");{const t=e.filters.map((i=>Np(i))).join(",");return`${e.op}(${t})`}}function PE(e,t){return e instanceof We?(function(r,o){return o instanceof We&&r.op===o.op&&r.field.isEqual(o.field)&&ys(r.value,o.value)})(e,t):e instanceof vs?(function(r,o){return o instanceof vs&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,d)=>u&&PE(c,o.filters[d])),!0):!1})(e,t):void wt(19439)}function UE(e){return e instanceof We?(function(i){return`${i.field.canonicalString()} ${i.op} ${Uo(i.value)}`})(e):e instanceof vs?(function(i){return i.op.toString()+" {"+i.getFilters().map(UE).join(" ,")+"}"})(e):"Filter"}class lD extends We{constructor(t,i,r){super(t,i,r),this.key=xt.fromName(r.referenceValue)}matches(t){const i=xt.comparator(t.key,this.key);return this.matchesComparison(i)}}class uD extends We{constructor(t,i){super(t,"in",i),this.keys=zE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class cD extends We{constructor(t,i){super(t,"not-in",i),this.keys=zE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function zE(e,t){return(t.arrayValue?.values||[]).map((i=>xt.fromName(i.referenceValue)))}class hD extends We{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return wg(i)&&wu(i.arrayValue,this.value)}}class fD extends We{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&wu(this.value.arrayValue,i)}}class dD extends We{constructor(t,i){super(t,"not-in",i)}matches(t){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!wu(this.value.arrayValue,i)}}class mD extends We{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!wg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>wu(this.value.arrayValue,r)))}}class pD{constructor(t,i=null,r=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function G_(e,t=null,i=[],r=[],o=null,u=null,c=null){return new pD(e,t,i,r,o,u,c)}function Cg(e){const t=Mt(e);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Np(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),_f(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Uo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Uo(r))).join(",")),t.Te=i}return t.Te}function Rg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!aD(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!PE(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!H_(e.startAt,t.startAt)&&H_(e.endAt,t.endAt)}function Mp(e){return xt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Ef{constructor(t,i=null,r=[],o=[],u=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gD(e,t,i,r,o,u,c,d){return new Ef(e,t,i,r,o,u,c,d)}function xf(e){return new Ef(e)}function K_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function yD(e){return e.collectionGroup!==null}function cu(e){const t=Mt(e);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new en(yn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new $h(u,r))})),i.has(yn.keyField().canonicalString())||t.Ie.push(new $h(yn.keyField(),r))}return t.Ie}function hs(e){const t=Mt(e);return t.Ee||(t.Ee=vD(t,cu(e))),t.Ee}function vD(e,t){if(e.limitType==="F")return G_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new $h(o.field,u)}));const i=e.endAt?new Qh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qh(e.startAt.position,e.startAt.inclusive):null;return G_(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}}function Vp(e,t,i){return new Ef(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function Sf(e,t){return Rg(hs(e),hs(t))&&e.limitType===t.limitType}function BE(e){return`${Cg(hs(e))}|lt:${e.limitType}`}function Eo(e){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>UE(o))).join(", ")}]`),_f(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Uo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Uo(o))).join(",")),`Target(${r})`})(hs(e))}; limitType=${e.limitType})`}function Af(e,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):xt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(e,t)&&(function(r,o){for(const u of cu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(e,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(e,t)&&(function(r,o){return!(r.startAt&&!(function(c,d,m){const g=q_(c,d,m);return c.inclusive?g<=0:g<0})(r.startAt,cu(r),o)||r.endAt&&!(function(c,d,m){const g=q_(c,d,m);return c.inclusive?g>=0:g>0})(r.endAt,cu(r),o))})(e,t)}function bD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function FE(e){return(t,i)=>{let r=!1;for(const o of cu(e)){const u=_D(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function _D(e,t,i){const r=e.field.isKeyField()?xt.comparator(t.key,i.key):(function(u,c,d){const m=c.data.field(u),g=d.data.field(u);return m!==null&&g!==null?Po(m,g):wt(42886)})(e.field,t,i);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wt(19790,{direction:e.dir})}}class Da{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ra(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}const TD=new Se(xt.comparator);function Hs(){return TD}const qE=new Se(xt.comparator);function nu(...e){let t=qE;for(const i of e)t=t.insert(i.key,i);return t}function HE(e){let t=qE;return e.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function _a(){return hu()}function GE(){return hu()}function hu(){return new Da((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ED=new Se(xt.comparator),xD=new en(xt.comparator);function qt(...e){let t=xD;for(const i of e)t=t.add(i);return t}const SD=new en(Ft);function AD(){return SD}function Dg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(t)?"-0":t}}function KE(e){return{integerValue:""+e}}function wD(e,t){return JR(t)?KE(t):Dg(e,t)}class wf{constructor(){this._=void 0}}function CD(e,t,i){return e instanceof Zh?(function(o,u){const c={fields:{[DE]:{stringValue:RE},[ME]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ag(u)&&(u=Tf(u)),u&&(c.fields[NE]=u),{mapValue:c}})(i,t):e instanceof Cu?XE(e,t):e instanceof Ru?QE(e,t):(function(o,u){const c=YE(o,u),d=Y_(c)+Y_(o.Ae);return Dp(c)&&Dp(o.Ae)?KE(d):Dg(o.serializer,d)})(e,t)}function RD(e,t,i){return e instanceof Cu?XE(e,t):e instanceof Ru?QE(e,t):i}function YE(e,t){return e instanceof Jh?(function(r){return Dp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Zh extends wf{}class Cu extends wf{constructor(t){super(),this.elements=t}}function XE(e,t){const i=$E(t);for(const r of e.elements)i.some((o=>ys(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Ru extends wf{constructor(t){super(),this.elements=t}}function QE(e,t){let i=$E(t);for(const r of e.elements)i=i.filter((o=>!ys(o,r)));return{arrayValue:{values:i}}}class Jh extends wf{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Y_(e){return Oe(e.integerValue||e.doubleValue)}function $E(e){return wg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function DD(e,t){return e.field.isEqual(t.field)&&(function(r,o){return r instanceof Cu&&o instanceof Cu||r instanceof Ru&&o instanceof Ru?ko(r.elements,o.elements,ys):r instanceof Jh&&o instanceof Jh?ys(r.Ae,o.Ae):r instanceof Zh&&o instanceof Zh})(e.transform,t.transform)}class ND{constructor(t,i){this.version=t,this.transformResults=i}}class Bs{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Bs}static exists(t){return new Bs(void 0,t)}static updateTime(t){return new Bs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ih(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Cf{}function ZE(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new WE(e.key,Bs.none()):new Bu(e.key,e.data,Bs.none());{const i=e.data,r=wi.empty();let o=new en(yn.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Na(e.key,r,new Bi(o.toArray()),Bs.none())}}function MD(e,t,i){e instanceof Bu?(function(o,u,c){const d=o.value.clone(),m=Q_(o.fieldTransforms,u,c.transformResults);d.setAll(m),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,i):e instanceof Na?(function(o,u,c){if(!Ih(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=Q_(o.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(JE(o)),m.setAll(d),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,i):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,i)}function fu(e,t,i,r){return e instanceof Bu?(function(u,c,d,m){if(!Ih(u.precondition,c))return d;const g=u.value.clone(),y=$_(u.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,i,r):e instanceof Na?(function(u,c,d,m){if(!Ih(u.precondition,c))return d;const g=$_(u.fieldTransforms,m,c),y=c.data;return y.setAll(JE(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((v=>v.field)))})(e,t,i,r):(function(u,c,d){return Ih(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,i)}function VD(e,t){let i=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),u=YE(r.transform,o||null);u!=null&&(i===null&&(i=wi.empty()),i.set(r.field,u))}return i||null}function X_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ko(r,o,((u,c)=>DD(u,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bu extends Cf{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Na extends Cf{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function JE(e){const t=new Map;return e.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=e.data.field(i);t.set(i,r)}})),t}function Q_(e,t,i){const r=new Map;ee(e.length===i.length,32656,{Re:i.length,Ve:e.length});for(let o=0;o<i.length;o++){const u=e[o],c=u.transform,d=t.data.field(u.field);r.set(u.field,RD(c,d,i[o]))}return r}function $_(e,t,i){const r=new Map;for(const o of e){const u=o.transform,c=i.data.field(o.field);r.set(o.field,CD(u,c,t))}return r}class WE extends Cf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ID extends Cf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OD{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&MD(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=fu(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=fu(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=GE();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=i.has(o.key)?null:d;const m=ZE(c,d);m!==null&&r.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Dt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),qt())}isEqual(t){return this.batchId===t.batchId&&ko(this.mutations,t.mutations,((i,r)=>X_(i,r)))&&ko(this.baseMutations,t.baseMutations,((i,r)=>X_(i,r)))}}class Ng{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){ee(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return ED})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Ng(t,i,r,o)}}class jD{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class LD{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ge,Kt;function kD(e){switch(e){case ot.OK:return wt(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return wt(15467,{code:e})}}function tx(e){if(e===void 0)return qs("GRPC error has no .code"),ot.UNKNOWN;switch(e){case Ge.OK:return ot.OK;case Ge.CANCELLED:return ot.CANCELLED;case Ge.UNKNOWN:return ot.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return ot.INTERNAL;case Ge.UNAVAILABLE:return ot.UNAVAILABLE;case Ge.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Ge.NOT_FOUND:return ot.NOT_FOUND;case Ge.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Ge.ABORTED:return ot.ABORTED;case Ge.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Ge.DATA_LOSS:return ot.DATA_LOSS;default:return wt(39323,{code:e})}}(Kt=Ge||(Ge={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";function PD(){return new TextEncoder}const UD=new Nr([4294967295,4294967295],0);function Z_(e){const t=PD().encode(e),i=new gE;return i.update(t),new Uint8Array(i.digest())}function J_(e){const t=new DataView(e.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Nr([i,r],0),new Nr([o,u],0)]}class Mg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new iu(`Invalid padding: ${i}`);if(r<0)throw new iu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new iu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Nr.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Nr.fromNumber(r)));return o.compare(UD)===1&&(o=new Nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Z_(t),[r,o]=J_(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Mg(u,o,i);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const i=Z_(t),[r,o]=J_(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rf{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Fu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Rf(Dt.min(),o,new Se(Ft),Hs(),qt())}}class Fu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Fu(r,i,qt(),qt(),qt())}}class Oh{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class ex{constructor(t,i){this.targetId=t,this.Ce=i}}class nx{constructor(t,i,r=vn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class W_{constructor(){this.ve=0,this.Fe=t1(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),i=qt(),r=qt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:wt(38017,{changeType:u})}})),new Fu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=t1()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zD{constructor(t){this.Ge=t,this.ze=new Map,this.je=Hs(),this.Je=xh(),this.He=xh(),this.Ye=new Se(Ft)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:wt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Mp(u))if(r===0){const c=new xt(u.path);this.et(i,c,Rn.newNoDocument(c,Dt.min()))}else ee(r===1,20013,{expectedCount:r});else{const c=this._t(i);if(c!==r){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(i);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let c,d;try{c=jr(r).toUint8Array()}catch(m){if(m instanceof CE)return Lo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Mg(c,o,u)}catch(m){return Lo(m instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Mp(d.target)){const m=new xt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Rn.newNoDocument(m,t))}u.Be&&(i.set(c,u.ke()),u.qe())}}));let r=qt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Rf(t,i,this.Ye,this.je,r);return this.je=Hs(),this.Je=xh(),this.He=xh(),this.Ye=new Se(Ft),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new W_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new en(Ft),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new en(Ft),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||dt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new W_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xh(){return new Se(xt.comparator)}function t1(){return new Se(xt.comparator)}const BD={asc:"ASCENDING",desc:"DESCENDING"},FD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qD={and:"AND",or:"OR"};class HD{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Ip(e,t){return e.useProto3Json||_f(t)?t:{value:t}}function Wh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ix(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function GD(e,t){return Wh(e,t.toTimestamp())}function fs(e){return ee(!!e,49232),Dt.fromTimestamp((function(i){const r=Or(i);return new me(r.seconds,r.nanos)})(e))}function Vg(e,t){return Op(e,t).canonicalString()}function Op(e,t){const i=(function(o){return new Ee(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?i:i.child(t)}function sx(e){const t=Ee.fromString(e);return ee(ux(t),10190,{key:t.toString()}),t}function jp(e,t){return Vg(e.databaseId,t.path)}function Qm(e,t){const i=sx(t);if(i.get(1)!==e.databaseId.projectId)throw new bt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new bt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new xt(ax(i))}function rx(e,t){return Vg(e.databaseId,t)}function KD(e){const t=sx(e);return t.length===4?Ee.emptyPath():ax(t)}function Lp(e){return new Ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ax(e){return ee(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function e1(e,t,i){return{name:jp(e,t),fields:i.value.mapValue.fields}}function YD(e,t){let i;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,y){return g.useProto3Json?(ee(y===void 0||typeof y=="string",58123),vn.fromBase64String(y||"")):(ee(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),vn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?ot.UNKNOWN:tx(g.code);return new bt(y,g.message||"")})(c);i=new nx(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Qm(e,r.document.name),u=fs(r.document.updateTime),c=r.document.createTime?fs(r.document.createTime):Dt.min(),d=new wi({mapValue:{fields:r.document.fields}}),m=Rn.newFoundDocument(o,u,c,d),g=r.targetIds||[],y=r.removedTargetIds||[];i=new Oh(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Qm(e,r.document),u=r.readTime?fs(r.readTime):Dt.min(),c=Rn.newNoDocument(o,u),d=r.removedTargetIds||[];i=new Oh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Qm(e,r.document),u=r.removedTargetIds||[];i=new Oh([],u,o,null)}else{if(!("filter"in t))return wt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new LD(o,u),d=r.targetId;i=new ex(d,c)}}return i}function XD(e,t){let i;if(t instanceof Bu)i={update:e1(e,t.key,t.value)};else if(t instanceof WE)i={delete:jp(e,t.key)};else if(t instanceof Na)i={update:e1(e,t.key,t.data),updateMask:iN(t.fieldMask)};else{if(!(t instanceof ID))return wt(16599,{Vt:t.type});i={verify:jp(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const d=c.transform;if(d instanceof Zh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Cu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Jh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw wt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:GD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt(27497)})(e,t.precondition)),i}function QD(e,t){return e&&e.length>0?(ee(t!==void 0,14353),e.map((i=>(function(o,u){let c=o.updateTime?fs(o.updateTime):fs(u);return c.isEqual(Dt.min())&&(c=fs(u)),new ND(c,o.transformResults||[])})(i,t)))):[]}function $D(e,t){return{documents:[rx(e,t.path)]}}function ZD(e,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=rx(e,o);const u=(function(g){if(g.length!==0)return lx(vs.create(g,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((y=>(function(T){return{field:xo(T.field),direction:tN(T.dir)}})(y)))})(t.orderBy);c&&(i.structuredQuery.orderBy=c);const d=Ip(e,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:o}}function JD(e){let t=KD(e.parent);const i=e.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ee(r===1,65062);const y=i.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];i.where&&(u=(function(v){const T=ox(v);return T instanceof vs&&kE(T)?T.getFilters():[T]})(i.where));let c=[];i.orderBy&&(c=(function(v){return v.map((T=>(function(z){return new $h(So(z.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(T)))})(i.orderBy));let d=null;i.limit&&(d=(function(v){let T;return T=typeof v=="object"?v.value:v,_f(T)?null:T})(i.limit));let m=null;i.startAt&&(m=(function(v){const T=!!v.before,w=v.values||[];return new Qh(w,T)})(i.startAt));let g=null;return i.endAt&&(g=(function(v){const T=!v.before,w=v.values||[];return new Qh(w,T)})(i.endAt)),gD(t,o,c,u,d,"F",m,g)}function WD(e,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function ox(e){return e.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=So(i.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=So(i.unaryFilter.field);return We.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=So(i.unaryFilter.field);return We.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(i.unaryFilter.field);return We.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(e):e.fieldFilter!==void 0?(function(i){return We.create(So(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(i){return vs.create(i.compositeFilter.filters.map((r=>ox(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(i.compositeFilter.op))})(e):wt(30097,{filter:e})}function tN(e){return BD[e]}function eN(e){return FD[e]}function nN(e){return qD[e]}function xo(e){return{fieldPath:e.canonicalString()}}function So(e){return yn.fromServerFormat(e.fieldPath)}function lx(e){return e instanceof We?(function(i){if(i.op==="=="){if(F_(i.value))return{unaryFilter:{field:xo(i.field),op:"IS_NAN"}};if(B_(i.value))return{unaryFilter:{field:xo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(F_(i.value))return{unaryFilter:{field:xo(i.field),op:"IS_NOT_NAN"}};if(B_(i.value))return{unaryFilter:{field:xo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(i.field),op:eN(i.op),value:i.value}}})(e):e instanceof vs?(function(i){const r=i.getFilters().map((o=>lx(o)));return r.length===1?r[0]:{compositeFilter:{op:nN(i.op),filters:r}}})(e):wt(54877,{filter:e})}function iN(e){const t=[];return e.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ux(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class wr{constructor(t,i,r,o,u=Dt.min(),c=Dt.min(),d=vn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class sN{constructor(t){this.yt=t}}function rN(e){const t=JD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Vp(t,t.limit,"L"):t}class aN{constructor(){this.Cn=new oN}addToCollectionParentIndex(t,i){return this.Cn.add(i),at.resolve()}getCollectionParents(t,i){return at.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return at.resolve()}deleteFieldIndex(t,i){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,i){return at.resolve()}getDocumentsMatchingTarget(t,i){return at.resolve(null)}getIndexType(t,i){return at.resolve(0)}getFieldIndexes(t,i){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,i){return at.resolve(Ir.min())}getMinOffsetFromCollectionGroup(t,i){return at.resolve(Ir.min())}updateCollectionGroup(t,i,r){return at.resolve()}updateIndexEntries(t,i){return at.resolve()}}class oN{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new en(Ee.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new en(Ee.comparator)).toArray()}}const n1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cx=41943040;class Qn{static withCacheSize(t){return new Qn(t,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(cx,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);class zo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new zo(0)}static cr(){return new zo(-1)}}const i1="LruGarbageCollector",lN=1048576;function s1([e,t],[i,r]){const o=Ft(e,i);return o===0?Ft(t,r):o}class uN{constructor(t){this.Ir=t,this.buffer=new en(s1),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();s1(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cN{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(i1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Yo(i)?dt(i1,"Ignoring IndexedDB error during garbage collection: ",i):await Ko(i)}await this.Vr(3e5)}))}}class hN{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return at.resolve(bf.ce);const r=new uN(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(n1)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n1):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,c,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,c=Date.now(),this.nthSequenceNumber(t,o)))).next((v=>(r=v,d=Date.now(),this.removeTargets(t,r,i)))).next((v=>(u=v,m=Date.now(),this.removeOrphanedDocuments(t,r)))).next((v=>(g=Date.now(),To()<=Yt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${v} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v}))))}}function fN(e,t){return new hN(e,t)}class dN{constructor(){this.changes=new Da((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?at.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class mN{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class pN{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&fu(r.mutation,o,Bi.empty(),me.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,qt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=qt()){const o=_a();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let c=nu();return u.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,i){const r=_a();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,qt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{i.set(c,d)}))}))}computeViews(t,i,r,o){let u=Hs();const c=hu(),d=(function(){return hu()})();return i.forEach(((m,g)=>{const y=r.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof Na)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),fu(y.mutation,g,y.mutation.getFieldMask(),me.now())):c.set(g.key,Bi.empty())})),this.recalculateAndSaveOverlays(t,u).next((m=>(m.forEach(((g,y)=>c.set(g,y))),i.forEach(((g,y)=>d.set(g,new mN(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,i){const r=hu();let o=new Se(((c,d)=>c-d)),u=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=i.get(m);if(g===null)return;let y=r.get(m)||Bi.empty();y=d.applyToLocalView(g,y),r.set(m,y);const v=(o.get(d.batchId)||qt()).add(m);o=o.insert(d.batchId,v)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,v=GE();y.forEach((T=>{if(!u.has(T)){const w=ZE(i.get(T),r.get(T));w!==null&&v.set(T,w),u=u.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,v))}return at.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(c){return xt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):yD(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):at.resolve(_a());let d=xu,m=u;return c.next((g=>at.forEach(g,((y,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),u.get(y)?at.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{m=m.insert(y,T)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,m,g,qt()))).next((y=>({batchId:d,changes:HE(y)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new xt(i)).next((r=>{let o=nu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=nu();return this.indexManager.getCollectionParents(t,u).next((d=>at.forEach(d,(m=>{const g=(function(v,T){return new Ef(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(i,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((y=>{y.forEach(((v,T)=>{c=c.insert(v,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((c=>{u.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,Rn.newInvalidDocument(y)))}));let d=nu();return c.forEach(((m,g)=>{const y=u.get(m);y!==void 0&&fu(y.mutation,g,Bi.empty(),me.now()),Af(i,g)&&(d=d.insert(m,g))})),d}))}}class gN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return at.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:fs(o.createTime)}})(i)),at.resolve()}getNamedQuery(t,i){return at.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:rN(o.bundledQuery),readTime:fs(o.readTime)}})(i)),at.resolve()}}class yN{constructor(){this.overlays=new Se(xt.comparator),this.qr=new Map}getOverlay(t,i){return at.resolve(this.overlays.get(i))}getOverlays(t,i){const r=_a();return at.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),at.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),at.resolve()}getOverlaysForCollection(t,i,r){const o=_a(),u=i.length+1,c=new xt(i.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>r&&o.set(m.getKey(),m)}return at.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new Se(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let y=u.get(g.largestBatchId);y===null&&(y=_a(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=_a(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=o)););return at.resolve(d)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new jD(i,r));let u=this.qr.get(i);u===void 0&&(u=qt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class vN{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,at.resolve()}}class Ig{constructor(){this.Qr=new en(on.$r),this.Ur=new en(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new on(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new on(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new xt(new Ee([])),r=new on(i,t),o=new on(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new xt(new Ee([])),r=new on(i,t),o=new on(i,t+1);let u=qt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const i=new on(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class on{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return xt.comparator(t.key,i.key)||Ft(t.Yr,i.Yr)}static Kr(t,i){return Ft(t.Yr,i.Yr)||xt.comparator(t.key,i.key)}}class bN{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new en(on.$r)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new OD(u,i,r,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new on(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return at.resolve(c)}lookupMutationBatch(t,i){return at.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return at.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?Sg:this.tr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),at.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new en(Ft);return i.forEach((o=>{const u=new on(o,0),c=new on(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{r=r.add(d.Yr)}))})),at.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;xt.isDocumentKey(u)||(u=u.child(""));const c=new on(new xt(u),0);let d=new en(Ft);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)}),c),at.resolve(this.ti(d))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ee(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return at.forEach(i.mutations,(o=>{const u=new on(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new on(i,0),o=this.Zr.firstAfterOrEqual(r);return at.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class _N{constructor(t){this.ri=t,this.docs=(function(){return new Se(xt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return at.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(i))}getEntries(t,i){let r=Hs();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Rn.newInvalidDocument(o))})),at.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=Hs();const c=i.path,d=new xt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||XR(YR(y),r)<=0||(o.has(y.key)||Af(i,y))&&(u=u.insert(y.key,y.mutableCopy()))}return at.resolve(u)}getAllFromCollectionGroup(t,i,r,o){wt(9500)}ii(t,i){return at.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new TN(this)}getSize(t){return at.resolve(this.size)}}class TN extends dN{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),at.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class EN{constructor(t){this.persistence=t,this.si=new Da((i=>Cg(i)),Rg),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ig,this.targetCount=0,this.ai=zo.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),at.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new zo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,at.resolve()}updateTargetData(t,i){return this.Pr(i),at.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),at.waitFor(u).next((()=>o))}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return at.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),at.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),at.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),at.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return at.resolve(r)}containsKey(t,i){return at.resolve(this._i.containsKey(i))}}class hx{constructor(t,i){this.ui={},this.overlays={},this.ci=new bf(0),this.li=!1,this.li=!0,this.hi=new vN,this.referenceDelegate=t(this),this.Pi=new EN(this),this.indexManager=new aN,this.remoteDocumentCache=(function(o){return new _N(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new sN(i),this.Ii=new gN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new yN,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new bN(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){dt("MemoryPersistence","Starting transaction:",t);const o=new xN(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return at.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class xN extends $R{constructor(t){super(),this.currentSequenceNumber=t}}class Og{constructor(t){this.persistence=t,this.Ri=new Ig,this.Vi=null}static mi(t){return new Og(t)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),at.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),at.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),at.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(r=>{const o=xt.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,Dt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return at.or([()=>at.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class tf{constructor(t,i){this.persistence=t,this.pi=new Da((r=>WR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=fN(this,i)}static mi(t,i){return new tf(t,i)}Ei(){}di(t){return at.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return at.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?at.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,i).next((d=>{d||(r++,u.removeEntry(c,Dt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),at.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mh(t.data.value)),i}br(t,i,r){return at.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return at.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jg{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=qt(),o=qt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jg(t,i.fromCache,r,o)}}class SN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class AN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mC()?8:ZR(fC())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new SN;return this.Ss(t,i,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,i,c,d.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(To()<=Yt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Eo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(To()<=Yt.DEBUG&&dt("QueryEngine","Query:",Eo(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(To()<=Yt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Eo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hs(i))):at.resolve())}ys(t,i){if(K_(i))return at.resolve(null);let r=hs(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Vp(i,null,"F"),r=hs(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=qt(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((m=>{const g=this.Ds(i,d);return this.Cs(i,g,c,m.readTime)?this.ys(t,Vp(i,null,"F")):this.vs(t,g,i,m)}))))})))))}ws(t,i,r,o){return K_(i)||o.isEqual(Dt.min())?at.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(i,u);return this.Cs(i,c,r,o)?at.resolve(null):(To()<=Yt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(i)),this.vs(t,c,i,KR(o,xu)).next((d=>d)))}))}Ds(t,i){let r=new en(FE(t));return i.forEach(((o,u)=>{Af(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return To()<=Yt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Eo(i)),this.ps.getDocumentsMatchingQuery(t,i,Ir.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Lg="LocalStore",wN=3e8;class CN{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new Se(Ft),this.xs=new Da((u=>Cg(u)),Rg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function RN(e,t,i,r){return new CN(e,t,i,r)}async function fx(e,t){const i=Mt(e);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],d=[];let m=qt();for(const g of o){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of u){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return i.localDocuments.getDocuments(r,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function DN(e,t){const i=Mt(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const v=g.batch,T=v.keys();let w=at.resolve();return T.forEach((z=>{w=w.next((()=>y.getEntry(m,z))).next((O=>{const M=g.docVersions.get(z);ee(M!==null,48541),O.version.compareTo(M)<0&&(v.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),y.addEntry(O)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(m,v)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let m=qt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function dx(e){const t=Mt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function NN(e,t){const i=Mt(e),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const d=[];t.targetChanges.forEach(((y,v)=>{const T=o.get(v);if(!T)return;d.push(i.Pi.removeMatchingKeys(u,y.removedDocuments,v).next((()=>i.Pi.addMatchingKeys(u,y.addedDocuments,v))));let w=T.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(v)!==null?w=w.withResumeToken(vn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),o=o.insert(v,w),(function(O,M,L){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=wN?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(T,w,y)&&d.push(i.Pi.updateTargetData(u,w))}));let m=Hs(),g=qt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,y))})),d.push(MN(u,c,t.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!r.isEqual(Dt.min())){const y=i.Pi.getLastRemoteSnapshotVersion(u).next((v=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));d.push(y)}return at.waitFor(d).next((()=>c.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(i.Ms=o,u)))}function MN(e,t,i){let r=qt(),o=qt();return i.forEach((u=>r=r.add(u))),t.getEntries(e,r).next((u=>{let c=Hs();return i.forEach(((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Dt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):dt(Lg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:o}}))}function VN(e,t){const i=Mt(e);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Sg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function IN(e,t){const i=Mt(e);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((u=>u?(o=u,at.resolve(o)):i.Pi.allocateTargetId(r).next((c=>(o=new wr(t,c,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function kp(e,t,i){const r=Mt(e),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Yo(c))throw c;dt(Lg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function r1(e,t,i){const r=Mt(e);let o=Dt.min(),u=qt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const v=Mt(m),T=v.xs.get(y);return T!==void 0?at.resolve(v.Ms.get(T)):v.Pi.getTargetData(g,y)})(r,c,hs(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{u=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,i?o:Dt.min(),i?u:qt()))).next((d=>(ON(r,bD(t),d),{documents:d,Qs:u})))))}function ON(e,t,i){let r=e.Os.get(t)||Dt.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),e.Os.set(t,r)}class a1{constructor(){this.activeTargetIds=AD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jN{constructor(){this.Mo=new a1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new a1,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class LN{Oo(t){}shutdown(){}}const o1="ConnectivityMonitor";class l1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(o1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(o1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sh=null;function Pp(){return Sh===null?Sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sh++,"0x"+Sh.toString(16)}const $m="RestConnection",kN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Yh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const c=Pp(),d=this.zo(t,i.toUriEncodedString());dt($m,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(d),y=bg(g);return this.Jo(t,d,m,r,y).then((v=>(dt($m,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw Lo($m,`RPC '${t}' ${c} failed with error: `,v,"url: ",d,"request:",r),v}))}Ho(t,i,r,o,u,c){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Go})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=kN[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class UN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const wn="WebChannelConnection";class zN extends PN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const c=Pp();return new Promise(((d,m)=>{const g=new yE;g.setWithCredentials(!0),g.listenOnce(vE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Nh.NO_ERROR:const v=g.getResponseJson();dt(wn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),d(v);break;case Nh.TIMEOUT:dt(wn,`RPC '${t}' ${c} timed out`),m(new bt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const T=g.getStatus();if(dt(wn,`RPC '${t}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const z=w?.error;if(z&&z.status&&z.message){const O=(function(L){const B=L.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(B)>=0?B:ot.UNKNOWN})(z.status);m(new bt(O,z.message))}else m(new bt(ot.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new bt(ot.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{dt(wn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);dt(wn,`RPC '${t}' ${c} sending request:`,o),g.send(i,"POST",y,r,15)}))}T_(t,i,r){const o=Pp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=TE(),d=_E(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,i,r),m.encodeInitMessageHeaders=!0;const y=u.join("");dt(wn,`Creating RPC '${t}' stream ${o}: ${y}`,m);const v=c.createWebChannel(y,m);this.I_(v);let T=!1,w=!1;const z=new UN({Yo:M=>{w?dt(wn,`Not sending because RPC '${t}' stream ${o} is closed:`,M):(T||(dt(wn,`Opening RPC '${t}' stream ${o} transport.`),v.open(),T=!0),dt(wn,`RPC '${t}' stream ${o} sending:`,M),v.send(M))},Zo:()=>v.close()}),O=(M,L,B)=>{M.listen(L,(U=>{try{B(U)}catch(K){setTimeout((()=>{throw K}),0)}}))};return O(v,eu.EventType.OPEN,(()=>{w||(dt(wn,`RPC '${t}' stream ${o} transport opened.`),z.o_())})),O(v,eu.EventType.CLOSE,(()=>{w||(w=!0,dt(wn,`RPC '${t}' stream ${o} transport closed`),z.a_(),this.E_(v))})),O(v,eu.EventType.ERROR,(M=>{w||(w=!0,Lo(wn,`RPC '${t}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),z.a_(new bt(ot.UNAVAILABLE,"The operation could not be completed")))})),O(v,eu.EventType.MESSAGE,(M=>{if(!w){const L=M.data[0];ee(!!L,16349);const B=L,U=B?.error||B[0]?.error;if(U){dt(wn,`RPC '${t}' stream ${o} received error:`,U);const K=U.status;let Y=(function(x){const D=Ge[x];if(D!==void 0)return tx(D)})(K),P=U.message;Y===void 0&&(Y=ot.INTERNAL,P="Unknown error status: "+K+" with message "+U.message),w=!0,z.a_(new bt(Y,P)),v.close()}else dt(wn,`RPC '${t}' stream ${o} received:`,L),z.u_(L)}})),O(d,bE.STAT_EVENT,(M=>{M.stat===wp.PROXY?dt(wn,`RPC '${t}' stream ${o} detected buffering proxy`):M.stat===wp.NOPROXY&&dt(wn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Zm(){return typeof document<"u"?document:null}function Df(e){return new HD(e,!0)}class mx{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&dt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const u1="PersistentStream";class px{constructor(t,i,r,o,u,c,d,m){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mx(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===ot.RESOURCE_EXHAUSTED?(qs(i.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new bt(ot.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(u1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(dt(u1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BN extends px{constructor(t,i,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=YD(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Dt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Dt.min():c.readTime?fs(c.readTime):Dt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Lp(this.serializer),i.addTarget=(function(u,c){let d;const m=c.target;if(d=Mp(m)?{documents:$D(u,m)}:{query:ZD(u,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=ix(u,c.resumeToken);const g=Ip(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Dt.min())>0){d.readTime=Wh(u,c.snapshotVersion.toTimestamp());const g=Ip(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const r=WD(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Lp(this.serializer),i.removeTarget=t,this.q_(i)}}class FN extends px{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ee(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ee(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ee(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=QD(t.writeResults,t.commitTime),r=fs(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Lp(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>XD(this.serializer,r)))};this.q_(i)}}class qN{}class HN extends qN{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new bt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Op(i,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new bt(ot.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Op(i,r),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new bt(ot.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GN{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qs(i),this.aa=!1):dt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ca="RemoteStore";class KN{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ma(this)&&(dt(Ca,"Restarting streams for network reachability change."),await(async function(m){const g=Mt(m);g.Ea.add(4),await qu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Nf(g)})(this))}))})),this.Ra=new GN(r,o)}}async function Nf(e){if(Ma(e))for(const t of e.da)await t(!0)}async function qu(e){for(const t of e.da)await t(!1)}function gx(e,t){const i=Mt(e);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),zg(i)?Ug(i):Xo(i).O_()&&Pg(i,t))}function kg(e,t){const i=Mt(e),r=Xo(i);i.Ia.delete(t),r.O_()&&yx(i,t),i.Ia.size===0&&(r.O_()?r.L_():Ma(i)&&i.Ra.set("Unknown"))}function Pg(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const i=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Xo(e).Y_(t)}function yx(e,t){e.Va.Ue(t),Xo(e).Z_(t)}function Ug(e){e.Va=new zD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Xo(e).start(),e.Ra.ua()}function zg(e){return Ma(e)&&!Xo(e).x_()&&e.Ia.size>0}function Ma(e){return Mt(e).Ea.size===0}function vx(e){e.Va=void 0}async function YN(e){e.Ra.set("Online")}async function XN(e){e.Ia.forEach(((t,i)=>{Pg(e,t)}))}async function QN(e,t){vx(e),zg(e)?(e.Ra.ha(t),Ug(e)):e.Ra.set("Unknown")}async function $N(e,t,i){if(e.Ra.set("Online"),t instanceof nx&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(e,t)}catch(r){dt(Ca,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ef(e,r)}else if(t instanceof Oh?e.Va.Ze(t):t instanceof ex?e.Va.st(t):e.Va.tt(t),!i.isEqual(Dt.min()))try{const r=await dx(e.localStore);i.compareTo(r)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=u.Ia.get(g);y&&u.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const y=u.Ia.get(m);if(!y)return;u.Ia.set(m,y.withResumeToken(vn.EMPTY_BYTE_STRING,y.snapshotVersion)),yx(u,m);const v=new wr(y.target,m,g,y.sequenceNumber);Pg(u,v)})),u.remoteSyncer.applyRemoteEvent(d)})(e,i)}catch(r){dt(Ca,"Failed to raise snapshot:",r),await ef(e,r)}}async function ef(e,t,i){if(!Yo(t))throw t;e.Ea.add(1),await qu(e),e.Ra.set("Offline"),i||(i=()=>dx(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{dt(Ca,"Retrying IndexedDB access"),await i(),e.Ea.delete(1),await Nf(e)}))}function bx(e,t){return t().catch((i=>ef(e,i,t)))}async function Mf(e){const t=Mt(e),i=kr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Sg;for(;ZN(t);)try{const o=await VN(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,JN(t,o)}catch(o){await ef(t,o)}_x(t)&&Tx(t)}function ZN(e){return Ma(e)&&e.Ta.length<10}function JN(e,t){e.Ta.push(t);const i=kr(e);i.O_()&&i.X_&&i.ea(t.mutations)}function _x(e){return Ma(e)&&!kr(e).x_()&&e.Ta.length>0}function Tx(e){kr(e).start()}async function WN(e){kr(e).ra()}async function t4(e){const t=kr(e);for(const i of e.Ta)t.ea(i.mutations)}async function e4(e,t,i){const r=e.Ta.shift(),o=Ng.from(r,t,i);await bx(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await Mf(e)}async function n4(e,t){t&&kr(e).X_&&await(async function(r,o){if((function(c){return kD(c)&&c!==ot.ABORTED})(o.code)){const u=r.Ta.shift();kr(r).B_(),await bx(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Mf(r)}})(e,t),_x(e)&&Tx(e)}async function c1(e,t){const i=Mt(e);i.asyncQueue.verifyOperationInProgress(),dt(Ca,"RemoteStore received new credentials");const r=Ma(i);i.Ea.add(3),await qu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Nf(i)}async function i4(e,t){const i=Mt(e);t?(i.Ea.delete(2),await Nf(i)):t||(i.Ea.add(2),await qu(i),i.Ra.set("Unknown"))}function Xo(e){return e.ma||(e.ma=(function(i,r,o){const u=Mt(i);return u.sa(),new BN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:YN.bind(null,e),t_:XN.bind(null,e),r_:QN.bind(null,e),H_:$N.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),zg(e)?Ug(e):e.Ra.set("Unknown")):(await e.ma.stop(),vx(e))}))),e.ma}function kr(e){return e.fa||(e.fa=(function(i,r,o){const u=Mt(i);return u.sa(),new FN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:WN.bind(null,e),r_:n4.bind(null,e),ta:t4.bind(null,e),na:e4.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Mf(e)):(await e.fa.stop(),e.Ta.length>0&&(dt(Ca,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Bg{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,d=new Bg(t,i,c,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(e,t){if(qs("AsyncQueue",`${t}: ${e}`),Yo(e))return new bt(ot.UNAVAILABLE,`${t}: ${e}`);throw e}class Mo{static emptySet(t){return new Mo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||xt.comparator(i.key,r.key):(i,r)=>xt.comparator(i.key,r.key),this.keyedMap=nu(),this.sortedSet=new Se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Mo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class h1{constructor(){this.ga=new Se(xt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):wt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Bo{constructor(t,i,r,o,u,c,d,m,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const c=[];return i.forEach((d=>{c.push({type:0,doc:d})})),new Bo(t,i,Mo.emptySet(i),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class s4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class r4{constructor(){this.queries=f1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Mt(i),u=o.queries;o.queries=f1(),u.forEach(((c,d)=>{for(const m of d.Sa)m.onError(r)}))})(this,new bt(ot.ABORTED,"Firestore shutting down"))}}function f1(){return new Da((e=>BE(e)),Sf)}async function Ex(e,t){const i=Mt(e);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new s4,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const d=Fg(c,`Initialization of query '${Eo(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&qg(i)}async function xx(e,t){const i=Mt(e),r=t.query;let o=3;const u=i.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function a4(e,t){const i=Mt(e);let r=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(r=!0);c.wa=o}}r&&qg(i)}function o4(e,t,i){const r=Mt(e),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function qg(e){e.Ca.forEach((t=>{t.next()}))}var Up,d1;(d1=Up||(Up={})).Ma="default",d1.Cache="cache";class Sx{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Bo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Up.Cache}}class Ax{constructor(t){this.key=t}}class wx{constructor(t){this.key=t}}class l4{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=FE(t),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new h1,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((y,v)=>{const T=o.get(y),w=Af(this.query,v)?v:null,z=!!T&&this.mutatedKeys.has(T.key),O=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let M=!1;T&&w?T.data.isEqual(w.data)?z!==O&&(r.track({type:3,doc:w}),M=!0):this.su(T,w)||(r.track({type:2,doc:w}),M=!0,(m&&this.eu(w,m)>0||g&&this.eu(w,g)<0)&&(d=!0)):!T&&w?(r.track({type:0,doc:w}),M=!0):T&&!w&&(r.track({type:1,doc:T}),M=!0,(m||g)&&(d=!0)),M&&(w?(c=c.add(w),u=O?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:d,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(w,z){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:M})}};return O(w)-O(z)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),o=o??!1;const d=i&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Bo(this.query,t.tu,u,c,t.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new wx(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new Ax(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=qt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hg="SyncEngine";class u4{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class c4{constructor(t){this.key=t,this.hu=!1}}class h4{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Da((d=>BE(d)),Sf),this.Iu=new Map,this.Eu=new Set,this.du=new Se(xt.comparator),this.Au=new Map,this.Ru=new Ig,this.Vu={},this.mu=new Map,this.fu=zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function f4(e,t,i=!0){const r=Vx(e);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Cx(r,t,i,!0),o}async function d4(e,t){const i=Vx(e);await Cx(i,t,!0,!1)}async function Cx(e,t,i,r){const o=await IN(e.localStore,hs(t)),u=o.targetId,c=e.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await m4(e,t,u,c==="current",o.resumeToken)),e.isPrimaryClient&&i&&gx(e.remoteStore,o),d}async function m4(e,t,i,r,o){e.pu=(v,T,w)=>(async function(O,M,L,B){let U=M.view.ru(L);U.Cs&&(U=await r1(O.localStore,M.query,!1).then((({documents:A})=>M.view.ru(A,U))));const K=B&&B.targetChanges.get(M.targetId),Y=B&&B.targetMismatches.get(M.targetId)!=null,P=M.view.applyChanges(U,O.isPrimaryClient,K,Y);return p1(O,M.targetId,P.au),P.snapshot})(e,v,T,w);const u=await r1(e.localStore,t,!0),c=new l4(t,u.Qs),d=c.ru(u.documents),m=Fu.createSynthesizedTargetChangeForCurrentChange(i,r&&e.onlineState!=="Offline",o),g=c.applyChanges(d,e.isPrimaryClient,m);p1(e,i,g.au);const y=new u4(t,i,c);return e.Tu.set(t,y),e.Iu.has(i)?e.Iu.get(i).push(t):e.Iu.set(i,[t]),g.snapshot}async function p4(e,t,i){const r=Mt(e),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Sf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await kp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&kg(r.remoteStore,o.targetId),zp(r,o.targetId)})).catch(Ko)):(zp(r,o.targetId),await kp(r.localStore,o.targetId,!0))}async function g4(e,t){const i=Mt(e),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),kg(i.remoteStore,r.targetId))}async function y4(e,t,i){const r=S4(e);try{const o=await(function(c,d){const m=Mt(c),g=me.now(),y=d.reduce(((w,z)=>w.add(z.key)),qt());let v,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let z=Hs(),O=qt();return m.Ns.getEntries(w,y).next((M=>{z=M,z.forEach(((L,B)=>{B.isValidDocument()||(O=O.add(L))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,z))).next((M=>{v=M;const L=[];for(const B of d){const U=VD(B,v.get(B.key).overlayedDocument);U!=null&&L.push(new Na(B.key,U,OE(U.value.mapValue),Bs.exists(!0)))}return m.mutationQueue.addMutationBatch(w,g,L,d)})).next((M=>{T=M;const L=M.applyToLocalDocumentSet(v,O);return m.documentOverlayCache.saveOverlays(w,M.batchId,L)}))})).then((()=>({batchId:T.batchId,changes:HE(v)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new Se(Ft)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,i),await Hu(r,o.changes),await Mf(r.remoteStore)}catch(o){const u=Fg(o,"Failed to persist write");i.reject(u)}}async function Rx(e,t){const i=Mt(e);try{const r=await NN(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=i.Au.get(u);c&&(ee(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ee(c.hu,14607):o.removedDocuments.size>0&&(ee(c.hu,42227),c.hu=!1))})),await Hu(i,r,t)}catch(r){await Ko(r)}}function m1(e,t,i){const r=Mt(e);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const m=Mt(c);m.onlineState=d;let g=!1;m.queries.forEach(((y,v)=>{for(const T of v.Sa)T.va(d)&&(g=!0)})),g&&qg(m)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function v4(e,t,i){const r=Mt(e);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Se(xt.comparator);c=c.insert(u,Rn.newNoDocument(u,Dt.min()));const d=qt().add(u),m=new Rf(Dt.min(),new Map,new Se(Ft),c,d);await Rx(r,m),r.du=r.du.remove(u),r.Au.delete(t),Gg(r)}else await kp(r.localStore,t,!1).then((()=>zp(r,t,i))).catch(Ko)}async function b4(e,t){const i=Mt(e),r=t.batch.batchId;try{const o=await DN(i.localStore,t);Nx(i,r,null),Dx(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Hu(i,o)}catch(o){await Ko(o)}}async function _4(e,t,i){const r=Mt(e);try{const o=await(function(c,d){const m=Mt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((v=>(ee(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(g,v)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(r.localStore,t);Nx(r,t,i),Dx(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Hu(r,o)}catch(o){await Ko(o)}}function Dx(e,t){(e.mu.get(t)||[]).forEach((i=>{i.resolve()})),e.mu.delete(t)}function Nx(e,t,i){const r=Mt(e);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function zp(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),i&&e.Pu.yu(r,i);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((r=>{e.Ru.containsKey(r)||Mx(e,r)}))}function Mx(e,t){e.Eu.delete(t.path.canonicalString());const i=e.du.get(t);i!==null&&(kg(e.remoteStore,i),e.du=e.du.remove(t),e.Au.delete(i),Gg(e))}function p1(e,t,i){for(const r of i)r instanceof Ax?(e.Ru.addReference(r.key,t),T4(e,r)):r instanceof wx?(dt(Hg,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Mx(e,r.key)):wt(19791,{wu:r})}function T4(e,t){const i=t.key,r=i.path.canonicalString();e.du.get(i)||e.Eu.has(r)||(dt(Hg,"New document in limbo: "+i),e.Eu.add(r),Gg(e))}function Gg(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const i=new xt(Ee.fromString(t)),r=e.fu.next();e.Au.set(r,new c4(i)),e.du=e.du.insert(i,r),gx(e.remoteStore,new wr(hs(xf(i.path)),r,"TargetPurposeLimboResolution",bf.ce))}}async function Hu(e,t,i){const r=Mt(e),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,m)=>{c.push(r.pu(m,t,i).then((g=>{if((g||i)&&r.isPrimaryClient){const y=g?!g.fromCache:i?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){o.push(g);const y=jg.As(m.targetId,g);u.push(y)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(m,g){const y=Mt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>at.forEach(g,(T=>at.forEach(T.Es,(w=>y.persistence.referenceDelegate.addReference(v,T.targetId,w))).next((()=>at.forEach(T.ds,(w=>y.persistence.referenceDelegate.removeReference(v,T.targetId,w)))))))))}catch(v){if(!Yo(v))throw v;dt(Lg,"Failed to update sequence numbers: "+v)}for(const v of g){const T=v.targetId;if(!v.fromCache){const w=y.Ms.get(T),z=w.snapshotVersion,O=w.withLastLimboFreeSnapshotVersion(z);y.Ms=y.Ms.insert(T,O)}}})(r.localStore,u))}async function E4(e,t){const i=Mt(e);if(!i.currentUser.isEqual(t)){dt(Hg,"User change. New user:",t.toKey());const r=await fx(i.localStore,t);i.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((m=>{m.reject(new bt(ot.CANCELLED,c))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Hu(i,r.Ls)}}function x4(e,t){const i=Mt(e),r=i.Au.get(t);if(r&&r.hu)return qt().add(r.key);{let o=qt();const u=i.Iu.get(t);if(!u)return o;for(const c of u){const d=i.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function Vx(e){const t=Mt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=x4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=v4.bind(null,t),t.Pu.H_=a4.bind(null,t.eventManager),t.Pu.yu=o4.bind(null,t.eventManager),t}function S4(e){const t=Mt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=b4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_4.bind(null,t),t}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Df(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return RN(this.persistence,new AN,t.initialUser,this.serializer)}Cu(t){return new hx(Og.mi,this.serializer)}Du(t){return new jN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class A4 extends nf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ee(this.persistence.referenceDelegate instanceof tf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cN(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new hx((r=>tf.mi(r,i)),this.serializer)}}class Bp{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E4.bind(null,this.syncEngine),await i4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new r4})()}createDatastore(t){const i=Df(t.databaseInfo.databaseId),r=(function(u){return new zN(u)})(t.databaseInfo);return(function(u,c,d,m){return new HN(u,c,d,m)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,c,d){return new KN(r,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(i=>m1(this.syncEngine,i,0)),(function(){return l1.v()?new l1:new LN})())}createSyncEngine(t,i){return(function(o,u,c,d,m,g,y){const v=new h4(o,u,c,d,m,g);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Mt(i);dt(Ca,"RemoteStore shutting down."),r.Ea.add(5),await qu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bp.provider={build:()=>new Bp};class Ix{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):qs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Pr="FirestoreClient";class w4{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Cn.UNAUTHENTICATED,this.clientId=Eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{dt(Pr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(dt(Pr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Fg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Jm(e,t){e.asyncQueue.verifyOperationInProgress(),dt(Pr,"Initializing OfflineComponentProvider");const i=e.configuration;await t.initialize(i);let r=i.initialUser;e.setCredentialChangeListener((async o=>{r.isEqual(o)||(await fx(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function g1(e,t){e.asyncQueue.verifyOperationInProgress();const i=await C4(e);dt(Pr,"Initializing OnlineComponentProvider"),await t.initialize(i,e.configuration),e.setCredentialChangeListener((r=>c1(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,o)=>c1(t.remoteStore,o))),e._onlineComponents=t}async function C4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dt(Pr,"Using user provided OfflineComponentProvider");try{await Jm(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ot.FAILED_PRECONDITION||o.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Lo("Error using user provided cache. Falling back to memory cache: "+i),await Jm(e,new nf)}}else dt(Pr,"Using default OfflineComponentProvider"),await Jm(e,new A4(void 0));return e._offlineComponents}async function Ox(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dt(Pr,"Using user provided OnlineComponentProvider"),await g1(e,e._uninitializedComponentsProvider._online)):(dt(Pr,"Using default OnlineComponentProvider"),await g1(e,new Bp))),e._onlineComponents}function R4(e){return Ox(e).then((t=>t.syncEngine))}async function Fp(e){const t=await Ox(e),i=t.eventManager;return i.onListen=f4.bind(null,t.syncEngine),i.onUnlisten=p4.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=d4.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=g4.bind(null,t.syncEngine),i}function D4(e,t,i={}){const r=new Mr;return e.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,m,g){const y=new Ix({next:T=>{y.Nu(),c.enqueueAndForget((()=>xx(u,v)));const w=T.docs.has(d);!w&&T.fromCache?g.reject(new bt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&T.fromCache&&m&&m.source==="server"?g.reject(new bt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new Sx(xf(d.path),y,{includeMetadataChanges:!0,qa:!0});return Ex(u,v)})(await Fp(e),e.asyncQueue,t,i,r))),r.promise}function jx(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const y1=new Map;const Lx="firestore.googleapis.com",v1=!0;class b1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new bt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lx,this.ssl=v1}else this.host=t.host,this.ssl=t.ssl??v1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lN)throw new bt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jx(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new bt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new bt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new bt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kg{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new bt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new OR;switch(r.type){case"firstParty":return new PR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new bt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=y1.get(i);r&&(dt("ComponentProvider","Removing Datastore"),y1.delete(i),r.terminate())})(this),Promise.resolve()}}function N4(e,t,i,r={}){e=Vr(e,Kg);const o=bg(t),u=e._getSettings(),c={...u,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${i}`;o&&(oC(`https://${d}`),hC("Firestore",!0)),u.host!==Lx&&u.host!==d&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:d,ssl:o,emulatorOptions:r};if(!qh(m,c)&&(e._setSettings(m),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=Cn.MOCK_USER;else{g=lC(r.mockUserToken,e._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new bt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Cn(v)}e._authCredentials=new jR(new xE(g,y))}}class Vf{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Vf(this.firestore,t,this._query)}}class tn{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Du(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(zu(i,tn._jsonSchema))return new tn(t,r||null,new xt(Ee.fromString(i.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:Ye("string",tn._jsonSchemaVersion),referencePath:Ye("string")};class Du extends Vf{constructor(t,i,r){super(t,i,xf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new xt(t))}withConverter(t){return new Du(this.firestore,t,this._path)}}function Vo(e,t,...i){if(e=_u(e),arguments.length===1&&(t=Eg.newId()),HR("doc","path",t),e instanceof Kg){const r=Ee.fromString(t,...i);return I_(r),new tn(e,null,new xt(r))}{if(!(e instanceof tn||e instanceof Du))throw new bt(ot.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ee.fromString(t,...i));return I_(r),new tn(e.firestore,e instanceof Du?e.converter:null,new xt(r))}}const _1="AsyncQueue";class T1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mx(this,"async_queue_retry"),this._c=()=>{const r=Zm();r&&dt(_1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Zm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Zm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Yo(t))throw t;dt(_1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,qs("INTERNAL UNHANDLED ERROR: ",E1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Bg.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&wt(47125,{Pc:E1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function E1(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function x1(e){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(e,["next","error","complete"])}class Nu extends Kg{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new T1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new T1(t),this._firestoreClient=void 0,await t}}}function M4(e,t){const i=typeof e=="object"?e:TR(),r=typeof e=="string"?e:Yh,o=gR(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=rC("firestore");u&&N4(o,...u)}return o}function Yg(e){if(e._terminated)throw new bt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||V4(e),e._firestoreClient}function V4(e){const t=e._freezeSettings(),i=(function(o,u,c,d){return new nD(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,jx(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new w4(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(e._componentsProvider))}class Ci{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ci(vn.fromBase64String(t))}catch(i){throw new bt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ci(vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zu(t,Ci._jsonSchema))return Ci.fromBase64String(t.bytes)}}Ci._jsonSchemaVersion="firestore/bytes/1.0",Ci._jsonSchema={type:Ye("string",Ci._jsonSchemaVersion),bytes:Ye("string")};class Xg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new bt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class kx{constructor(t){this._methodName=t}}class ds{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new bt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new bt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ds._jsonSchemaVersion}}static fromJSON(t){if(zu(t,ds._jsonSchema))return new ds(t.latitude,t.longitude)}}ds._jsonSchemaVersion="firestore/geoPoint/1.0",ds._jsonSchema={type:Ye("string",ds._jsonSchemaVersion),latitude:Ye("number"),longitude:Ye("number")};class ms{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zu(t,ms._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ms(t.vectorValues);throw new bt(ot.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ms._jsonSchemaVersion="firestore/vectorValue/1.0",ms._jsonSchema={type:Ye("string",ms._jsonSchemaVersion),vectorValues:Ye("object")};const I4=/^__.*__$/;class O4{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Na(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bu(t,this.data,i,this.fieldTransforms)}}function Px(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:e})}}class Qg{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return sf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Px(this.Ac)&&I4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class j4{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Df(t)}Cc(t,i,r,o=!1){return new Qg({Ac:t,methodName:i,Dc:r,path:yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L4(e){const t=e._freezeSettings(),i=Df(e._databaseId);return new j4(e._databaseId,!!t.ignoreUndefinedProperties,i)}function k4(e,t,i,r,o,u={}){const c=e.Cc(u.merge||u.mergeFields?2:0,t,i,o);Fx("Data must be an object, but it was:",c,r);const d=zx(r,c);let m,g;if(u.merge)m=new Bi(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const v of u.mergeFields){const T=P4(t,v,i);if(!c.contains(T))throw new bt(ot.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);z4(y,T)||y.push(T)}m=new Bi(y),g=c.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,g=c.fieldTransforms;return new O4(new wi(d),m,g)}function Ux(e,t){if(Bx(e=_u(e)))return Fx("Unsupported field value:",t,e),zx(e,t);if(e instanceof kx)return(function(r,o){if(!Px(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const d of r){let m=Ux(d,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}})(e,t)}return(function(r,o){if((r=_u(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=me.fromDate(r);return{timestampValue:Wh(o.serializer,u)}}if(r instanceof me){const u=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wh(o.serializer,u)}}if(r instanceof ds)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ci)return{bytesValue:ix(o.serializer,r._byteString)};if(r instanceof tn){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ms)return(function(c,d){return{mapValue:{fields:{[VE]:{stringValue:IE},[Xh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Dg(d.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${xg(r)}`)})(e,t)}function zx(e,t){const i={};return wE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ra(e,((r,o)=>{const u=Ux(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function Bx(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof me||e instanceof ds||e instanceof Ci||e instanceof tn||e instanceof kx||e instanceof ms)}function Fx(e,t,i){if(!Bx(i)||!SE(i)){const r=xg(i);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function P4(e,t,i){if((t=_u(t))instanceof Xg)return t._internalPath;if(typeof t=="string")return qx(e,t);throw sf("Field path arguments must be of type string or ",e,!1,void 0,i)}const U4=new RegExp("[~\\*/\\[\\]]");function qx(e,t,i){if(t.search(U4)>=0)throw sf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new Xg(...t.split("."))._internalPath}catch{throw sf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function sf(e,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${r}`),c&&(m+=` in document ${o}`),m+=")"),new bt(ot.INVALID_ARGUMENT,d+e+m)}function z4(e,t){return e.some((i=>i.isEqual(t)))}class Hx{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new B4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Gx("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class B4 extends Hx{data(){return super.data()}}function Gx(e,t){return typeof t=="string"?qx(e,t):t instanceof Xg?t._internalPath:t._delegate._internalPath}function F4(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new bt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q4{convertValue(t,i="none"){switch(Lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Ra(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){const i=t.fields?.[Xh].arrayValue?.values?.map((r=>Oe(r.doubleValue)));return new ms(i)}convertGeoPoint(t){return new ds(Oe(t.latitude),Oe(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Tf(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Su(t));default:return null}}convertTimestamp(t){const i=Or(t);return new me(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=Ee.fromString(t);ee(ux(r),9688,{name:t});const o=new Au(r.get(1),r.get(3)),u=new xt(r.popFirst(5));return o.isEqual(i)||qs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function H4(e,t,i){let r;return r=e?e.toFirestore(t):t,r}class su{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xa extends Hx{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Gx("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(ot.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=xa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:Ye("string",xa._jsonSchemaVersion),bundleSource:Ye("string","DocumentSnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class jh extends xa{data(t={}){return super.data(t)}}class Io{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new su(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new jh(this._firestore,this._userDataWriter,r.key,r,new su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new bt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const m=new jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new su(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const m=new jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new su(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:G4(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(ot.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Io._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function G4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:e})}}function Lh(e){e=Vr(e,tn);const t=Vr(e.firestore,Nu);return D4(Yg(t),e._key).then((i=>Xx(t,e,i)))}Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:Ye("string",Io._jsonSchemaVersion),bundleSource:Ye("string","QuerySnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class Kx extends q4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ci(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,i)}}function Yx(e,t,i){e=Vr(e,tn);const r=Vr(e.firestore,Nu),o=H4(e.converter,t);return Y4(r,[k4(L4(r),"setDoc",e._key,o,e.converter!==null,i).toMutation(e._key,Bs.none())])}function K4(e,...t){e=_u(e);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||x1(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(x1(t[r])){const m=t[r];t[r]=m.next?.bind(m),t[r+1]=m.error?.bind(m),t[r+2]=m.complete?.bind(m)}let u,c,d;if(e instanceof tn)c=Vr(e.firestore,Nu),d=xf(e._key.path),u={next:m=>{t[r]&&t[r](Xx(c,e,m))},error:t[r+1],complete:t[r+2]};else{const m=Vr(e,Vf);c=Vr(m.firestore,Nu),d=m._query;const g=new Kx(c);u={next:y=>{t[r]&&t[r](new Io(c,g,m,y))},error:t[r+1],complete:t[r+2]},F4(e._query)}return(function(g,y,v,T){const w=new Ix(T),z=new Sx(y,w,v);return g.asyncQueue.enqueueAndForget((async()=>Ex(await Fp(g),z))),()=>{w.Nu(),g.asyncQueue.enqueueAndForget((async()=>xx(await Fp(g),z)))}})(Yg(c),d,o,u)}function Y4(e,t){return(function(r,o){const u=new Mr;return r.asyncQueue.enqueueAndForget((async()=>y4(await R4(r),o,u))),u.promise})(Yg(e),t)}function Xx(e,t,i){const r=i.docs.get(t._key),o=new Kx(e);return new xa(e,o,t._key,r,new su(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Go=o})(_R),Gh(new Tu("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),d=new Nu(new LR(r.getProvider("auth-internal")),new UR(c,r.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new bt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(g.options.projectId,y)})(c,o),c);return u={useFetchStreams:i,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),No(D_,N_,t),No(D_,N_,"esm2020")})();const S1={apiKey:"AIzaSyBwDft82qUWbeMNM4Dq-cOgClaRXi6BndQ",authDomain:"url-dashboard-sync.firebaseapp.com",projectId:"url-dashboard-sync",storageBucket:"url-dashboard-sync.firebasestorage.app",messagingSenderId:"1045539948520",appId:"1:1045539948520:web:65d24d68d59ce760ad065d",measurementId:"G-CLJE9F9YPL"};let Ai=null;try{if(S1.apiKey){const e=dE(S1);Ai=M4(e)}else console.warn("Firebase not configured. Cloud Sync will not work until keys are added to firebase.js")}catch(e){console.warn("Firebase initialization failed:",e)}const Wm={save:async(e,t)=>{if(!Ai)throw new Error("Firebase not configured");await Yx(Vo(Ai,"dashboards",e),{data:t,updatedAt:new Date().toISOString()})},load:async e=>{if(!Ai)throw new Error("Firebase not configured");const t=Vo(Ai,"dashboards",e),i=await Lh(t);if(i.exists()){const r=i.data();return{data:r.data,updatedAt:r.updatedAt}}else return null},subscribe:(e,t)=>{if(!Ai)return()=>{};const i=Vo(Ai,"dashboards",e);return K4(i,r=>{if(r.exists()){const o=r.data();t({data:o.data,updatedAt:o.updatedAt})}})}},$g={generateCode:()=>{const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let i=0;i<6;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t.substring(0,3)+"-"+t.substring(3)},saveTeam:async e=>{if(!Ai)throw new Error("Firebase not configured");for(let t=0;t<3;t++){const i=$g.generateCode(),r=Vo(Ai,"shared_teams",i);if(!(await Lh(r)).exists())return await Yx(r,{data:e,createdAt:new Date().toISOString()}),i}throw new Error("Failed to generate a unique code. Please try again.")},getTeam:async e=>{if(!Ai)throw new Error("Firebase not configured");const t=e.toUpperCase().trim();let i=Vo(Ai,"shared_teams",t),r=await Lh(i);if(r.exists())return r.data().data;if(!t.includes("-")&&t.length===6){const o=t.substring(0,3)+"-"+t.substring(3);if(i=Vo(Ai,"shared_teams",o),r=await Lh(i),r.exists())return r.data().data}return null}},X4=2e3;function Q4(e,t){const[i,r]=V.useState({status:"idle",lastSynced:null,error:null}),[o,u]=V.useState(()=>localStorage.getItem("url_dashboard_recovery_key")||null),c=O=>{u(O),localStorage.setItem("url_dashboard_recovery_key",O)},d=async()=>{try{const O=Y2();return c(O),await g(O,e),O}catch(O){throw console.error(O),r(M=>({...M,status:"error",error:"Failed to enable sync"})),O}},m=async O=>{r(M=>({...M,status:"recovering"}));try{const M=await qm(O),L=await Wm.load(M);if(!L)throw new Error("No data found for this key.");const{data:B,updatedAt:U}=L,K=await g_(B,O),Y={linkLayout:v.current?.linkLayout,theme:v.current?.theme,pattern:v.current?.pattern},P={...K,linkLayout:Y.linkLayout!==void 0?Y.linkLayout:K.linkLayout||"list",theme:Y.theme!==void 0?Y.theme:K.theme||"theme-white",pattern:Y.pattern!==void 0?Y.pattern:K.pattern||"dots"};return t(P),c(O),T.current=new Date(U).getTime(),r({status:"synced",lastSynced:new Date,error:null}),!0}catch(M){return console.error(M),r(L=>({...L,status:"error",error:M.message||"Recovery failed"})),!1}},g=V.useCallback(async(O,M)=>{if(O){r(L=>({...L,status:"syncing"}));try{const L=await qm(O),B=await X2(M,O);await Wm.save(L,B),r({status:"synced",lastSynced:new Date,error:null})}catch(L){console.error("Sync failed",L),r(B=>({...B,status:"error",error:"Sync failed"}))}}},[]),y=V.useRef(!1),v=V.useRef(e),T=V.useRef(0);V.useEffect(()=>{v.current=e},[e]),V.useEffect(()=>{if(!o||!e)return;if(y.current){y.current=!1;return}const O=setTimeout(()=>{g(o,e)},X4);return()=>clearTimeout(O)},[e,o,g]);const w=V.useCallback(async()=>{if(!o)return!1;r(O=>({...O,status:"syncing"}));try{const O=await qm(o),M=await Wm.load(O);if(!M)return r(P=>({...P,status:"error",error:"No cloud data found"})),!1;const{data:L,updatedAt:B}=M,U=await g_(L,o),K={linkLayout:v.current?.linkLayout,theme:v.current?.theme,pattern:v.current?.pattern},Y={...U,linkLayout:K.linkLayout!==void 0?K.linkLayout:U.linkLayout||"list",theme:K.theme!==void 0?K.theme:U.theme||"theme-white",pattern:K.pattern!==void 0?K.pattern:U.pattern||"dots"};return y.current=!0,T.current=new Date(B).getTime(),t(Y),r({status:"synced",lastSynced:new Date,error:null}),!0}catch(O){return console.error("Pull failed",O),r(M=>({...M,status:"error",error:"Failed to fetch from cloud"})),!1}},[o,t]),z=V.useCallback(()=>{u(null),localStorage.removeItem("url_dashboard_recovery_key"),r({status:"idle",lastSynced:null,error:null})},[]);return{syncState:i,recoveryKey:o,enableSync:d,recoverAccount:m,pullFromCloud:w,disconnect:z}}const Zg=V.createContext({});function Jg(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wg=typeof window<"u",Qx=Wg?V.useLayoutEffect:V.useEffect,If=V.createContext(null);function ty(e,t){e.indexOf(t)===-1&&e.push(t)}function ey(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const Gs=(e,t,i)=>i>t?t:i<e?e:i;let ny=()=>{};const Ks={},$x=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Zx(e){return typeof e=="object"&&e!==null}const Jx=e=>/^0[^.\s]+$/u.test(e);function iy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Di=e=>e,$4=(e,t)=>i=>t(e(i)),Gu=(...e)=>e.reduce($4),Mu=(e,t,i)=>{const r=t-e;return r===0?1:(i-e)/r};class sy{constructor(){this.subscriptions=[]}add(t){return ty(this.subscriptions,t),()=>ey(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ps=e=>e*1e3,Ri=e=>e/1e3;function Wx(e,t){return t?e*(1e3/t):0}const tS=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,Z4=1e-7,J4=12;function W4(e,t,i,r,o){let u,c,d=0;do c=t+(i-t)/2,u=tS(c,r,o)-e,u>0?i=c:t=c;while(Math.abs(u)>Z4&&++d<J4);return c}function Ku(e,t,i,r){if(e===t&&i===r)return Di;const o=u=>W4(u,0,1,e,i);return u=>u===0||u===1?u:tS(o(u),t,r)}const eS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nS=e=>t=>1-e(1-t),iS=Ku(.33,1.53,.69,.99),ry=nS(iS),sS=eS(ry),rS=e=>(e*=2)<1?.5*ry(e):.5*(2-Math.pow(2,-10*(e-1))),ay=e=>1-Math.sin(Math.acos(e)),aS=nS(ay),oS=eS(ay),tM=Ku(.42,0,1,1),eM=Ku(0,0,.58,1),lS=Ku(.42,0,.58,1),nM=e=>Array.isArray(e)&&typeof e[0]!="number",uS=e=>Array.isArray(e)&&typeof e[0]=="number",iM={linear:Di,easeIn:tM,easeInOut:lS,easeOut:eM,circIn:ay,circInOut:oS,circOut:aS,backIn:ry,backInOut:sS,backOut:iS,anticipate:rS},sM=e=>typeof e=="string",A1=e=>{if(uS(e)){ny(e.length===4);const[t,i,r,o]=e;return Ku(t,i,r,o)}else if(sM(e))return iM[e];return e},Ah=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function rM(e,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,v=!1,T=!1)=>{const z=T&&o?i:r;return v&&c.add(y),z.has(y)||z.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(d=y,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(m),i.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const aM=40;function cS(e,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=Ah.reduce((U,K)=>(U[K]=rM(u),U),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:v,preRender:T,render:w,postRender:z}=c,O=()=>{const U=Ks.useManualTiming?o.timestamp:performance.now();i=!1,Ks.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(U-o.timestamp,aM),1)),o.timestamp=U,o.isProcessing=!0,d.process(o),m.process(o),g.process(o),y.process(o),v.process(o),T.process(o),w.process(o),z.process(o),o.isProcessing=!1,i&&t&&(r=!1,e(O))},M=()=>{i=!0,r=!0,o.isProcessing||e(O)};return{schedule:Ah.reduce((U,K)=>{const Y=c[K];return U[K]=(P,A=!1,x=!1)=>(i||M(),Y.schedule(P,A,x)),U},{}),cancel:U=>{for(let K=0;K<Ah.length;K++)c[Ah[K]].cancel(U)},state:o,steps:c}}const{schedule:_e,cancel:Ur,state:pn,steps:tp}=cS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Di,!0);let kh;function oM(){kh=void 0}const $n={now:()=>(kh===void 0&&$n.set(pn.isProcessing||Ks.useManualTiming?pn.timestamp:performance.now()),kh),set:e=>{kh=e,queueMicrotask(oM)}},hS=e=>t=>typeof t=="string"&&t.startsWith(e),fS=hS("--"),lM=hS("var(--"),oy=e=>lM(e)?uM.test(e.split("/*")[0].trim()):!1,uM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vu={...Qo,transform:e=>Gs(0,1,e)},wh={...Qo,default:1},du=e=>Math.round(e*1e5)/1e5,ly=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cM(e){return e==null}const hM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uy=(e,t)=>i=>!!(typeof i=="string"&&hM.test(i)&&i.startsWith(e)||t&&!cM(i)&&Object.prototype.hasOwnProperty.call(i,t)),dS=(e,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,d]=r.match(ly);return{[e]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},fM=e=>Gs(0,255,e),ep={...Qo,transform:e=>Math.round(fM(e))},Ta={test:uy("rgb","red"),parse:dS("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:r=1})=>"rgba("+ep.transform(e)+", "+ep.transform(t)+", "+ep.transform(i)+", "+du(Vu.transform(r))+")"};function dM(e){let t="",i="",r="",o="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const qp={test:uy("#"),parse:dM,transform:Ta.transform},Yu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Sr=Yu("deg"),gs=Yu("%"),Rt=Yu("px"),mM=Yu("vh"),pM=Yu("vw"),w1={...gs,parse:e=>gs.parse(e)/100,transform:e=>gs.transform(e*100)},Ao={test:uy("hsl","hue"),parse:dS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(e)+", "+gs.transform(du(t))+", "+gs.transform(du(i))+", "+du(Vu.transform(r))+")"},Ke={test:e=>Ta.test(e)||qp.test(e)||Ao.test(e),parse:e=>Ta.test(e)?Ta.parse(e):Ao.test(e)?Ao.parse(e):qp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ta.transform(e):Ao.transform(e),getAnimatableNone:e=>{const t=Ke.parse(e);return t.alpha=0,Ke.transform(t)}},gM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yM(e){return isNaN(e)&&typeof e=="string"&&(e.match(ly)?.length||0)+(e.match(gM)?.length||0)>0}const mS="number",pS="color",vM="var",bM="var(",C1="${}",_M=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Iu(e){const t=e.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(_M,m=>(Ke.test(m)?(r.color.push(u),o.push(pS),i.push(Ke.parse(m))):m.startsWith(bM)?(r.var.push(u),o.push(vM),i.push(m)):(r.number.push(u),o.push(mS),i.push(parseFloat(m))),++u,C1)).split(C1);return{values:i,split:d,indexes:r,types:o}}function gS(e){return Iu(e).values}function yS(e){const{split:t,types:i}=Iu(e),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const d=i[c];d===mS?u+=du(o[c]):d===pS?u+=Ke.transform(o[c]):u+=o[c]}return u}}const TM=e=>typeof e=="number"?0:Ke.test(e)?Ke.getAnimatableNone(e):e;function EM(e){const t=gS(e);return yS(e)(t.map(TM))}const zr={test:yM,parse:gS,createTransformer:yS,getAnimatableNone:EM};function np(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function xM({hue:e,saturation:t,lightness:i,alpha:r}){e/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const d=i<.5?i*(1+t):i+t-i*t,m=2*i-d;o=np(m,d,e+1/3),u=np(m,d,e),c=np(m,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function rf(e,t){return i=>i>0?t:e}const xe=(e,t,i)=>e+(t-e)*i,ip=(e,t,i)=>{const r=e*e,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},SM=[qp,Ta,Ao],AM=e=>SM.find(t=>t.test(e));function R1(e){const t=AM(e);if(!t)return!1;let i=t.parse(e);return t===Ao&&(i=xM(i)),i}const D1=(e,t)=>{const i=R1(e),r=R1(t);if(!i||!r)return rf(e,t);const o={...i};return u=>(o.red=ip(i.red,r.red,u),o.green=ip(i.green,r.green,u),o.blue=ip(i.blue,r.blue,u),o.alpha=xe(i.alpha,r.alpha,u),Ta.transform(o))},Hp=new Set(["none","hidden"]);function wM(e,t){return Hp.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function CM(e,t){return i=>xe(e,t,i)}function cy(e){return typeof e=="number"?CM:typeof e=="string"?oy(e)?rf:Ke.test(e)?D1:NM:Array.isArray(e)?vS:typeof e=="object"?Ke.test(e)?D1:RM:rf}function vS(e,t){const i=[...e],r=i.length,o=e.map((u,c)=>cy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function RM(e,t){const i={...e,...t},r={};for(const o in i)e[o]!==void 0&&t[o]!==void 0&&(r[o]=cy(e[o])(e[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function DM(e,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=e.indexes[u][r[u]],d=e.values[c]??0;i[o]=d,r[u]++}return i}const NM=(e,t)=>{const i=zr.createTransformer(t),r=Iu(e),o=Iu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Hp.has(e)&&!o.values.length||Hp.has(t)&&!r.values.length?wM(e,t):Gu(vS(DM(r,o),o.values),i):rf(e,t)};function bS(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?xe(e,t,i):cy(e)(e,t)}const MM=e=>{const t=({timestamp:i})=>e(i);return{start:(i=!0)=>_e.update(t,i),stop:()=>Ur(t),now:()=>pn.isProcessing?pn.timestamp:$n.now()}},_S=(e,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},af=2e4;function hy(e){let t=0;const i=50;let r=e.next(t);for(;!r.done&&t<af;)t+=i,r=e.next(t);return t>=af?1/0:t}function VM(e,t=100,i){const r=i({...e,keyframes:[0,t]}),o=Math.min(hy(r),af);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Ri(o)}}const IM=5;function TS(e,t,i){const r=Math.max(t-IM,0);return Wx(i-e(r),t-r)}const Re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sp=.001;function OM({duration:e=Re.duration,bounce:t=Re.bounce,velocity:i=Re.velocity,mass:r=Re.mass}){let o,u,c=1-t;c=Gs(Re.minDamping,Re.maxDamping,c),e=Gs(Re.minDuration,Re.maxDuration,Ri(e)),c<1?(o=g=>{const y=g*c,v=y*e,T=y-i,w=Gp(g,c),z=Math.exp(-v);return sp-T/w*z},u=g=>{const v=g*c*e,T=v*i+i,w=Math.pow(c,2)*Math.pow(g,2)*e,z=Math.exp(-v),O=Gp(Math.pow(g,2),c);return(-o(g)+sp>0?-1:1)*((T-w)*z)/O}):(o=g=>{const y=Math.exp(-g*e),v=(g-i)*e+1;return-sp+y*v},u=g=>{const y=Math.exp(-g*e),v=(i-g)*(e*e);return y*v});const d=5/e,m=LM(o,u,d);if(e=ps(e),isNaN(m))return{stiffness:Re.stiffness,damping:Re.damping,duration:e};{const g=Math.pow(m,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:e}}}const jM=12;function LM(e,t,i){let r=i;for(let o=1;o<jM;o++)r=r-e(r)/t(r);return r}function Gp(e,t){return e*Math.sqrt(1-t*t)}const kM=["duration","bounce"],PM=["stiffness","damping","mass"];function N1(e,t){return t.some(i=>e[i]!==void 0)}function UM(e){let t={velocity:Re.velocity,stiffness:Re.stiffness,damping:Re.damping,mass:Re.mass,isResolvedFromDuration:!1,...e};if(!N1(e,PM)&&N1(e,kM))if(e.visualDuration){const i=e.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Gs(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Re.mass,stiffness:o,damping:u}}else{const i=OM(e);t={...t,...i,mass:Re.mass},t.isResolvedFromDuration=!0}return t}function of(e=Re.visualDuration,t=Re.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:m,damping:g,mass:y,duration:v,velocity:T,isResolvedFromDuration:w}=UM({...i,velocity:-Ri(i.velocity||0)}),z=T||0,O=g/(2*Math.sqrt(m*y)),M=c-u,L=Ri(Math.sqrt(m/y)),B=Math.abs(M)<5;r||(r=B?Re.restSpeed.granular:Re.restSpeed.default),o||(o=B?Re.restDelta.granular:Re.restDelta.default);let U;if(O<1){const Y=Gp(L,O);U=P=>{const A=Math.exp(-O*L*P);return c-A*((z+O*L*M)/Y*Math.sin(Y*P)+M*Math.cos(Y*P))}}else if(O===1)U=Y=>c-Math.exp(-L*Y)*(M+(z+L*M)*Y);else{const Y=L*Math.sqrt(O*O-1);U=P=>{const A=Math.exp(-O*L*P),x=Math.min(Y*P,300);return c-A*((z+O*L*M)*Math.sinh(x)+Y*M*Math.cosh(x))/Y}}const K={calculatedDuration:w&&v||null,next:Y=>{const P=U(Y);if(w)d.done=Y>=v;else{let A=Y===0?z:0;O<1&&(A=Y===0?ps(z):TS(U,Y,P));const x=Math.abs(A)<=r,D=Math.abs(c-P)<=o;d.done=x&&D}return d.value=d.done?c:P,d},toString:()=>{const Y=Math.min(hy(K),af),P=_S(A=>K.next(Y*A).value,Y,30);return Y+"ms "+P},toTransition:()=>{}};return K}of.applyToOptions=e=>{const t=VM(e,100,of);return e.ease=t.ease,e.duration=ps(t.duration),e.type="keyframes",e};function Kp({keyframes:e,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:y}){const v=e[0],T={done:!1,value:v},w=x=>d!==void 0&&x<d||m!==void 0&&x>m,z=x=>d===void 0?m:m===void 0||Math.abs(d-x)<Math.abs(m-x)?d:m;let O=i*t;const M=v+O,L=c===void 0?M:c(M);L!==M&&(O=L-v);const B=x=>-O*Math.exp(-x/r),U=x=>L+B(x),K=x=>{const D=B(x),j=U(x);T.done=Math.abs(D)<=g,T.value=T.done?L:j};let Y,P;const A=x=>{w(T.value)&&(Y=x,P=of({keyframes:[T.value,z(T.value)],velocity:TS(U,x,T.value),damping:o,stiffness:u,restDelta:g,restSpeed:y}))};return A(0),{calculatedDuration:null,next:x=>{let D=!1;return!P&&Y===void 0&&(D=!0,K(x),A(x)),Y!==void 0&&x>=Y?P.next(x-Y):(!D&&K(x),T)}}}function zM(e,t,i){const r=[],o=i||Ks.mix||bS,u=e.length-1;for(let c=0;c<u;c++){let d=o(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Di:t;d=Gu(m,d)}r.push(d)}return r}function BM(e,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=e.length;if(ny(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=zM(t,r,o),m=d.length,g=y=>{if(c&&y<e[0])return t[0];let v=0;if(m>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const T=Mu(e[v],e[v+1],y);return d[v](T)};return i?y=>g(Gs(e[0],e[u-1],y)):g}function FM(e,t){const i=e[e.length-1];for(let r=1;r<=t;r++){const o=Mu(0,t,r);e.push(xe(i,1,o))}}function qM(e){const t=[0];return FM(t,e.length-1),t}function HM(e,t){return e.map(i=>i*t)}function GM(e,t){return e.map(()=>t||lS).splice(0,e.length-1)}function mu({duration:e=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=nM(r)?r.map(A1):A1(r),u={done:!1,value:t[0]},c=HM(i&&i.length===t.length?i:qM(t),e),d=BM(c,t,{ease:Array.isArray(o)?o:GM(t,o)});return{calculatedDuration:e,next:m=>(u.value=d(m),u.done=m>=e,u)}}const KM=e=>e!==null;function fy(e,{repeat:t,repeatType:i="loop"},r,o=1){const u=e.filter(KM),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const YM={decay:Kp,inertia:Kp,tween:mu,keyframes:mu,spring:of};function ES(e){typeof e.type=="string"&&(e.type=YM[e.type])}class dy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const XM=e=>e/100;class my extends dy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==$n.now()&&this.tick($n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ES(t);const{type:i=mu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const m=i||mu;m!==mu&&typeof d[0]!="number"&&(this.mixKeyframes=Gu(XM,bS(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=hy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:T,repeatDelay:w,type:z,onUpdate:O,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const L=this.currentTime-g*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?L<0:L>o;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let U=this.currentTime,K=r;if(v){const x=Math.min(this.currentTime,o)/d;let D=Math.floor(x),j=x%1;!j&&x>=1&&(j=1),j===1&&D--,D=Math.min(D,v+1),D%2&&(T==="reverse"?(j=1-j,w&&(j-=w/d)):T==="mirror"&&(K=c)),U=Gs(0,1,j)*d}const Y=B?{done:!1,value:y[0]}:K.next(U);u&&(Y.value=u(Y.value));let{done:P}=Y;!B&&m!==null&&(P=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return A&&z!==Kp&&(Y.value=fy(y,this.options,M,this.speed)),O&&O(Y.value),A&&this.finish(),Y}then(t,i){return this.finished.then(t,i)}get duration(){return Ri(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ri(t)}get time(){return Ri(this.currentTime)}set time(t){t=ps(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime($n.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=MM,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function QM(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ea=e=>e*180/Math.PI,Yp=e=>{const t=Ea(Math.atan2(e[1],e[0]));return Xp(t)},$M={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Yp,rotateZ:Yp,skewX:e=>Ea(Math.atan(e[1])),skewY:e=>Ea(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Xp=e=>(e=e%360,e<0&&(e+=360),e),M1=Yp,V1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),I1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ZM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:V1,scaleY:I1,scale:e=>(V1(e)+I1(e))/2,rotateX:e=>Xp(Ea(Math.atan2(e[6],e[5]))),rotateY:e=>Xp(Ea(Math.atan2(-e[2],e[0]))),rotateZ:M1,rotate:M1,skewX:e=>Ea(Math.atan(e[4])),skewY:e=>Ea(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Qp(e){return e.includes("scale")?1:0}function $p(e,t){if(!e||e==="none")return Qp(t);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=ZM,o=i;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$M,o=d}if(!o)return Qp(t);const u=r[t],c=o[1].split(",").map(WM);return typeof u=="function"?u(c):c[u]}const JM=(e,t)=>{const{transform:i="none"}=getComputedStyle(e);return $p(i,t)};function WM(e){return parseFloat(e.trim())}const $o=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zo=new Set($o),O1=e=>e===Qo||e===Rt,tV=new Set(["x","y","z"]),eV=$o.filter(e=>!tV.has(e));function nV(e){const t=[];return eV.forEach(i=>{const r=e.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const Sa={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>$p(t,"x"),y:(e,{transform:t})=>$p(t,"y")};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const Aa=new Set;let Zp=!1,Jp=!1,Wp=!1;function xS(){if(Jp){const e=Array.from(Aa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=nV(r);o.length&&(i.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jp=!1,Zp=!1,Aa.forEach(e=>e.complete(Wp)),Aa.clear()}function SS(){Aa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Jp=!0)})}function iV(){Wp=!0,SS(),xS(),Wp=!1}class py{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Aa.add(this),Zp||(Zp=!0,_e.read(SS),_e.resolveKeyframes(xS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}QM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Aa.delete(this)}cancel(){this.state==="scheduled"&&(Aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sV=e=>e.startsWith("--");function rV(e,t,i){sV(t)?e.style.setProperty(t,i):e.style[t]=i}const aV=iy(()=>window.ScrollTimeline!==void 0),oV={};function lV(e,t){const i=iy(e);return()=>oV[t]??i()}const AS=lV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ru=([e,t,i,r])=>`cubic-bezier(${e}, ${t}, ${i}, ${r})`,j1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ru([0,.65,.55,1]),circOut:ru([.55,0,1,.45]),backIn:ru([.31,.01,.66,-.59]),backOut:ru([.33,1.53,.69,.99])};function wS(e,t){if(e)return typeof e=="function"?AS()?_S(e,t):"ease-out":uS(e)?ru(e):Array.isArray(e)?e.map(i=>wS(i,t)||j1.easeOut):j1[e]}function uV(e,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[t]:i};m&&(y.offset=m);const v=wS(d,o);Array.isArray(v)&&(y.easing=v);const T={delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(T.pseudoElement=g),e.animate(y,T)}function CS(e){return typeof e=="function"&&"applyToOptions"in e}function cV({type:e,...t}){return CS(e)&&AS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class hV extends dy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,ny(typeof t.type!="string");const g=cV(t);this.animation=uV(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=fy(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):rV(i,r,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ri(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ri(t)}get time(){return Ri(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ps(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&aV()?(this.animation.timeline=t,Di):i(this)}}const RS={anticipate:rS,backInOut:sS,circInOut:oS};function fV(e){return e in RS}function dV(e){typeof e.ease=="string"&&fV(e.ease)&&(e.ease=RS[e.ease])}const L1=10;class mV extends hV{constructor(t){dV(t),ES(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new my({...c,autoplay:!1}),m=ps(this.finishedTime??this.time);i.setWithVelocity(d.sample(m-L1).value,d.sample(m).value,L1),d.stop()}}const k1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zr.test(e)||e==="0")&&!e.startsWith("url("));function pV(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function gV(e,t,i,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=k1(o,t),d=k1(u,t);return!c||!d?!1:pV(e)||(i==="spring"||CS(i))&&r}function tg(e){e.duration=0,e.type="keyframes"}const yV=new Set(["opacity","clipPath","filter","transform"]),vV=iy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bV(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return vV()&&i&&yV.has(i)&&(i!=="transform"||!g)&&!m&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const _V=40;class TV extends dy{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=$n.now();const T={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:m,motionValue:g,element:y,...v},w=y?.KeyframeResolver||py;this.keyframeResolver=new w(d,(z,O,M)=>this.onKeyframesResolved(z,O,T,!M),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:y}=r;this.resolvedAt=$n.now(),gV(t,u,c,d)||((Ks.instantAnimations||!m)&&y?.(fy(t,r,i)),t[0]=t[t.length-1],tg(r),r.repeat=0);const T={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>_V?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},w=!g&&bV(T)?new mV({...T,element:T.motionValue.owner.current}):new my(T);w.finished.then(()=>this.notifyFinished()).catch(Di),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),iV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const EV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xV(e){const t=EV.exec(e);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function DS(e,t,i=1){const[r,o]=xV(e);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return $x(c)?parseFloat(c):c}return oy(o)?DS(o,t,i+1):o}function gy(e,t){return e?.[t]??e?.default??e}const NS=new Set(["width","height","top","left","right","bottom",...$o]),SV={test:e=>e==="auto",parse:e=>e},MS=e=>t=>t.test(e),VS=[Qo,Rt,gs,Sr,pM,mM,SV],P1=e=>VS.find(MS(e));function AV(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Jx(e):!0}const wV=new Set(["brightness","contrast","saturate","opacity"]);function CV(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=i.match(ly)||[];if(!r)return e;const o=i.replace(r,"");let u=wV.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const RV=/\b([a-z-]*)\(.*?\)/gu,eg={...zr,getAnimatableNone:e=>{const t=e.match(RV);return t?t.map(CV).join(" "):e}},U1={...Qo,transform:Math.round},DV={rotate:Sr,rotateX:Sr,rotateY:Sr,rotateZ:Sr,scale:wh,scaleX:wh,scaleY:wh,scaleZ:wh,skew:Sr,skewX:Sr,skewY:Sr,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:Vu,originX:w1,originY:w1,originZ:Rt},yy={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt,...DV,zIndex:U1,fillOpacity:Vu,strokeOpacity:Vu,numOctaves:U1},NV={...yy,color:Ke,backgroundColor:Ke,outlineColor:Ke,fill:Ke,stroke:Ke,borderColor:Ke,borderTopColor:Ke,borderRightColor:Ke,borderBottomColor:Ke,borderLeftColor:Ke,filter:eg,WebkitFilter:eg},IS=e=>NV[e];function OS(e,t){let i=IS(e);return i!==eg&&(i=zr),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const MV=new Set(["auto","none","0"]);function VV(e,t,i){let r=0,o;for(;r<e.length&&!o;){const u=e[r];typeof u=="string"&&!MV.has(u)&&Iu(u).values.length&&(o=e[r]),r++}if(o&&i)for(const u of t)e[u]=OS(i,o)}class IV extends py{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),oy(g))){const y=DS(g,i.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!NS.has(r)||t.length!==2)return;const[o,u]=t,c=P1(o),d=P1(u);if(c!==d)if(O1(c)&&O1(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else Sa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||AV(t[o]))&&r.push(o);r.length&&VV(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Sa[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function OV(e,t,i){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=i?.[e]??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const jS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function LS(e){return Zx(e)&&"offsetHeight"in e}const z1=30,jV=e=>!isNaN(parseFloat(e));class LV{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=$n.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=$n.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=jV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new sy);const r=this.events[t].add(i);return t==="change"?()=>{r(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=$n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>z1)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,z1);return Wx(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fo(e,t){return new LV(e,t)}const{schedule:vy}=cS(queueMicrotask,!1),zi={x:!1,y:!1};function kS(){return zi.x||zi.y}function kV(e){return e==="x"||e==="y"?zi[e]?null:(zi[e]=!0,()=>{zi[e]=!1}):zi.x||zi.y?null:(zi.x=zi.y=!0,()=>{zi.x=zi.y=!1})}function PS(e,t){const i=OV(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function B1(e){return!(e.pointerType==="touch"||kS())}function PV(e,t,i={}){const[r,o,u]=PS(e,i),c=d=>{if(!B1(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const y=v=>{B1(v)&&(g(v),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,o)};return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const US=(e,t)=>t?e===t?!0:US(e,t.parentElement):!1,by=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,UV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zV(e){return UV.has(e.tagName)||e.tabIndex!==-1}const Ph=new WeakSet;function F1(e){return t=>{t.key==="Enter"&&e(t)}}function rp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const BV=(e,t)=>{const i=e.currentTarget;if(!i)return;const r=F1(()=>{if(Ph.has(i))return;rp(i,"down");const o=F1(()=>{rp(i,"up")}),u=()=>rp(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function q1(e){return by(e)&&!kS()}function FV(e,t,i={}){const[r,o,u]=PS(e,i),c=d=>{const m=d.currentTarget;if(!q1(d))return;Ph.add(m);const g=t(m,d),y=(w,z)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",T),Ph.has(m)&&Ph.delete(m),q1(w)&&typeof g=="function"&&g(w,{success:z})},v=w=>{y(w,m===window||m===document||i.useGlobalTarget||US(m,w.target))},T=w=>{y(w,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",T,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),LS(d)&&(d.addEventListener("focus",g=>BV(g,o)),!zV(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function zS(e){return Zx(e)&&"ownerSVGElement"in e}function qV(e){return zS(e)&&e.tagName==="svg"}const Nn=e=>!!(e&&e.getVelocity),HV=[...VS,Ke,zr],GV=e=>HV.find(MS(e)),_y=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function H1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function KV(...e){return t=>{let i=!1;const r=e.map(o=>{const u=H1(o,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():H1(e[o],null)}}}}function YV(...e){return V.useCallback(KV(...e),e)}class XV extends V.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=LS(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function QV({children:e,isPresent:t,anchorX:i,root:r}){const o=V.useId(),u=V.useRef(null),c=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=V.useContext(_y),m=YV(u,e?.ref);return V.useInsertionEffect(()=>{const{width:g,height:y,top:v,left:T,right:w}=c.current;if(t||!u.current||!g||!y)return;const z=i==="left"?`left: ${T}`:`right: ${w}`;u.current.dataset.motionPopId=o;const O=document.createElement("style");d&&(O.nonce=d);const M=r??document.head;return M.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${z}px !important;
            top: ${v}px !important;
          }
        `),()=>{M.contains(O)&&M.removeChild(O)}},[t]),S.jsx(XV,{isPresent:t,childRef:u,sizeRef:c,children:V.cloneElement(e,{ref:m})})}const $V=({children:e,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,root:m})=>{const g=Jg(ZV),y=V.useId();let v=!0,T=V.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:i,custom:o,onExitComplete:w=>{g.set(w,!0);for(const z of g.values())if(!z)return;r&&r()},register:w=>(g.set(w,!1),()=>g.delete(w))}),[i,g,r]);return u&&v&&(T={...T}),V.useMemo(()=>{g.forEach((w,z)=>g.set(z,!1))},[i]),V.useEffect(()=>{!i&&!g.size&&r&&r()},[i]),c==="popLayout"&&(e=S.jsx(QV,{isPresent:i,anchorX:d,root:m,children:e})),S.jsx(If.Provider,{value:T,children:e})};function ZV(){return new Map}function BS(e=!0){const t=V.useContext(If);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=V.useId();V.useEffect(()=>{if(e)return o(u)},[e]);const c=V.useCallback(()=>e&&r&&r(u),[u,r,e]);return!i&&r?[!1,c]:[!0]}const Ch=e=>e.key||"";function G1(e){const t=[];return V.Children.forEach(e,i=>{V.isValidElement(i)&&t.push(i)}),t}const Cr=({children:e,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[g,y]=BS(c),v=V.useMemo(()=>G1(e),[e]),T=c&&!g?[]:v.map(Ch),w=V.useRef(!0),z=V.useRef(v),O=Jg(()=>new Map),[M,L]=V.useState(v),[B,U]=V.useState(v);Qx(()=>{w.current=!1,z.current=v;for(let P=0;P<B.length;P++){const A=Ch(B[P]);T.includes(A)?O.delete(A):O.get(A)!==!0&&O.set(A,!1)}},[B,T.length,T.join("-")]);const K=[];if(v!==M){let P=[...v];for(let A=0;A<B.length;A++){const x=B[A],D=Ch(x);T.includes(D)||(P.splice(A,0,x),K.push(x))}return u==="wait"&&K.length&&(P=K),U(G1(P)),L(v),null}const{forceRender:Y}=V.useContext(Zg);return S.jsx(S.Fragment,{children:B.map(P=>{const A=Ch(P),x=c&&!g?!1:v===B||T.includes(A),D=()=>{if(O.has(A))O.set(A,!0);else return;let j=!0;O.forEach(I=>{I||(j=!1)}),j&&(Y?.(),U(z.current),c&&y?.(),r&&r())};return S.jsx($V,{isPresent:x,initial:!w.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:m,onExitComplete:x?void 0:D,anchorX:d,children:P},A)})})},FS=V.createContext({strict:!1}),K1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qo={};for(const e in K1)qo[e]={isEnabled:t=>K1[e].some(i=>!!t[i])};function JV(e){for(const t in e)qo[t]={...qo[t],...e[t]}}const WV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||WV.has(e)}let qS=e=>!lf(e);function t3(e){typeof e=="function"&&(qS=t=>t.startsWith("on")?!lf(t):e(t))}try{t3(require("@emotion/is-prop-valid").default)}catch{}function e3(e,t,i){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(qS(o)||i===!0&&lf(o)||!t&&!lf(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}const Of=V.createContext({});function jf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ou(e){return typeof e=="string"||Array.isArray(e)}const Ty=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ey=["initial",...Ty];function Lf(e){return jf(e.animate)||Ey.some(t=>Ou(e[t]))}function HS(e){return!!(Lf(e)||e.variants)}function n3(e,t){if(Lf(e)){const{initial:i,animate:r}=e;return{initial:i===!1||Ou(i)?i:void 0,animate:Ou(r)?r:void 0}}return e.inherit!==!1?t:{}}function i3(e){const{initial:t,animate:i}=n3(e,V.useContext(Of));return V.useMemo(()=>({initial:t,animate:i}),[Y1(t),Y1(i)])}function Y1(e){return Array.isArray(e)?e.join(" "):e}function X1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const tu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Rt.test(e))e=parseFloat(e);else return e;const i=X1(e,t.target.x),r=X1(e,t.target.y);return`${i}% ${r}%`}},s3={correct:(e,{treeScale:t,projectionDelta:i})=>{const r=e,o=zr.parse(e);if(o.length>5)return r;const u=zr.createTransformer(e),c=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,m=i.y.scale*t.y;o[0+c]/=d,o[1+c]/=m;const g=xe(d,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},ng={borderRadius:{...tu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tu,borderTopRightRadius:tu,borderBottomLeftRadius:tu,borderBottomRightRadius:tu,boxShadow:s3};function GS(e,{layout:t,layoutId:i}){return Zo.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!ng[e]||e==="opacity")}const r3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},a3=$o.length;function o3(e,t,i){let r="",o=!0;for(let u=0;u<a3;u++){const c=$o[u],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||i){const g=jS(d,yy[c]);if(!m){o=!1;const y=r3[c]||c;r+=`${y}(${g}) `}i&&(t[c]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function xy(e,t,i){const{style:r,vars:o,transformOrigin:u}=e;let c=!1,d=!1;for(const m in t){const g=t[m];if(Zo.has(m)){c=!0;continue}else if(fS(m)){o[m]=g;continue}else{const y=jS(g,yy[m]);m.startsWith("origin")?(d=!0,u[m]=y):r[m]=y}}if(t.transform||(c||i?r.transform=o3(t,e.transform,i):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=u;r.transformOrigin=`${m} ${g} ${y}`}}const Sy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KS(e,t,i){for(const r in t)!Nn(t[r])&&!GS(r,i)&&(e[r]=t[r])}function l3({transformTemplate:e},t){return V.useMemo(()=>{const i=Sy();return xy(i,t,e),Object.assign({},i.vars,i.style)},[t])}function u3(e,t){const i=e.style||{},r={};return KS(r,i,e),Object.assign(r,l3(e,t)),r}function c3(e,t){const i={},r=u3(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=r,i}const h3={offset:"stroke-dashoffset",array:"stroke-dasharray"},f3={offset:"strokeDashoffset",array:"strokeDasharray"};function d3(e,t,i=1,r=0,o=!0){e.pathLength=1;const u=o?h3:f3;e[u.offset]=Rt.transform(-r);const c=Rt.transform(t),d=Rt.transform(i);e[u.array]=`${c} ${d}`}function YS(e,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},m,g,y){if(xy(e,d,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:T}=e;v.transform&&(T.transform=v.transform,delete v.transform),(T.transform||v.transformOrigin)&&(T.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),i!==void 0&&(v.y=i),r!==void 0&&(v.scale=r),o!==void 0&&d3(v,o,u,c,!1)}const XS=()=>({...Sy(),attrs:{}}),QS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function m3(e,t,i,r){const o=V.useMemo(()=>{const u=XS();return YS(u,t,QS(r),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};KS(u,e.style,e),o.style={...u,...o.style}}return o}const p3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ay(e){return typeof e!="string"||e.includes("-")?!1:!!(p3.indexOf(e)>-1||/[A-Z]/u.test(e))}function g3(e,t,i,{latestValues:r},o,u=!1){const d=(Ay(e)?m3:c3)(t,r,o,e),m=e3(t,typeof e=="string",u),g=e!==V.Fragment?{...m,...d,ref:i}:{},{children:y}=t,v=V.useMemo(()=>Nn(y)?y.get():y,[y]);return V.createElement(e,{...g,children:v})}function Q1(e){const t=[{},{}];return e?.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function wy(e,t,i,r){if(typeof t=="function"){const[o,u]=Q1(r);t=t(i!==void 0?i:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=Q1(r);t=t(i!==void 0?i:e.custom,o,u)}return t}function Uh(e){return Nn(e)?e.get():e}function y3({scrapeMotionValuesFromProps:e,createRenderState:t},i,r,o){return{latestValues:v3(i,r,o,e),renderState:t()}}function v3(e,t,i,r){const o={},u=r(e,{});for(const T in u)o[T]=Uh(u[T]);let{initial:c,animate:d}=e;const m=Lf(e),g=HS(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=i?i.initial===!1:!1;y=y||c===!1;const v=y?d:c;if(v&&typeof v!="boolean"&&!jf(v)){const T=Array.isArray(v)?v:[v];for(let w=0;w<T.length;w++){const z=wy(e,T[w]);if(z){const{transitionEnd:O,transition:M,...L}=z;for(const B in L){let U=L[B];if(Array.isArray(U)){const K=y?U.length-1:0;U=U[K]}U!==null&&(o[B]=U)}for(const B in O)o[B]=O[B]}}}return o}const $S=e=>(t,i)=>{const r=V.useContext(Of),o=V.useContext(If),u=()=>y3(e,t,r,o);return i?u():Jg(u)};function Cy(e,t,i){const{style:r}=e,o={};for(const u in r)(Nn(r[u])||t.style&&Nn(t.style[u])||GS(u,e)||i?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const b3=$S({scrapeMotionValuesFromProps:Cy,createRenderState:Sy});function ZS(e,t,i){const r=Cy(e,t,i);for(const o in e)if(Nn(e[o])||Nn(t[o])){const u=$o.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=e[o]}return r}const _3=$S({scrapeMotionValuesFromProps:ZS,createRenderState:XS}),T3=Symbol.for("motionComponentSymbol");function wo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function E3(e,t,i){return V.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):wo(i)&&(i.current=r))},[t])}const Ry=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),x3="framerAppearId",JS="data-"+Ry(x3),WS=V.createContext({});function S3(e,t,i,r,o){const{visualElement:u}=V.useContext(Of),c=V.useContext(FS),d=V.useContext(If),m=V.useContext(_y).reducedMotion,g=V.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(e,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,v=V.useContext(WS);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&A3(g.current,i,o,v);const T=V.useRef(!1);V.useInsertionEffect(()=>{y&&T.current&&y.update(i,d)});const w=i[JS],z=V.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return Qx(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),z.current&&y.animationState&&y.animationState.animateChanges())}),V.useEffect(()=>{y&&(!z.current&&y.animationState&&y.animationState.animateChanges(),z.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),z.current=!1),y.enteringChildren=void 0)}),y}function A3(e,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:tA(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&wo(d),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:g})}function tA(e){if(e)return e.options.allowProjection!==!1?e.projection:tA(e.parent)}function ap(e,{forwardMotionProps:t=!1}={},i,r){i&&JV(i);const o=Ay(e)?_3:b3;function u(d,m){let g;const y={...V.useContext(_y),...d,layoutId:w3(d)},{isStatic:v}=y,T=i3(d),w=o(d,v);if(!v&&Wg){C3();const z=R3(y);g=z.MeasureLayout,T.visualElement=S3(e,w,y,r,z.ProjectionNode)}return S.jsxs(Of.Provider,{value:T,children:[g&&T.visualElement?S.jsx(g,{visualElement:T.visualElement,...y}):null,g3(e,d,E3(w,T.visualElement,m),w,v,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=V.forwardRef(u);return c[T3]=e,c}function w3({layoutId:e}){const t=V.useContext(Zg).id;return t&&e!==void 0?t+"-"+e:e}function C3(e,t){V.useContext(FS).strict}function R3(e){const{drag:t,layout:i}=qo;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t?.isEnabled(e)||i?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function D3(e,t){if(typeof Proxy>"u")return ap;const i=new Map,r=(u,c)=>ap(u,c,e,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,ap(c,void 0,e,t)),i.get(c))})}function eA({top:e,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:e,max:r}}}function N3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function M3(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function op(e){return e===void 0||e===1}function ig({scale:e,scaleX:t,scaleY:i}){return!op(e)||!op(t)||!op(i)}function ba(e){return ig(e)||nA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function nA(e){return $1(e.x)||$1(e.y)}function $1(e){return e&&e!=="0%"}function uf(e,t,i){const r=e-i,o=t*r;return i+o}function Z1(e,t,i,r,o){return o!==void 0&&(e=uf(e,o,r)),uf(e,i,r)+t}function sg(e,t=0,i=1,r,o){e.min=Z1(e.min,t,i,r,o),e.max=Z1(e.max,t,i,r,o)}function iA(e,{x:t,y:i}){sg(e.x,t.translate,t.scale,t.originPoint),sg(e.y,i.translate,i.scale,i.originPoint)}const J1=.999999999999,W1=1.0000000000001;function V3(e,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=i[d],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ro(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,iA(e,c)),r&&ba(u.latestValues)&&Ro(e,u.latestValues))}t.x<W1&&t.x>J1&&(t.x=1),t.y<W1&&t.y>J1&&(t.y=1)}function Co(e,t){e.min=e.min+t,e.max=e.max+t}function tT(e,t,i,r,o=.5){const u=xe(e.min,e.max,o);sg(e,t,i,u,r)}function Ro(e,t){tT(e.x,t.x,t.scaleX,t.scale,t.originX),tT(e.y,t.y,t.scaleY,t.scale,t.originY)}function sA(e,t){return eA(M3(e.getBoundingClientRect(),t))}function I3(e,t,i){const r=sA(e,i),{scroll:o}=t;return o&&(Co(r.x,o.offset.x),Co(r.y,o.offset.y)),r}const eT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:eT(),y:eT()}),nT=()=>({min:0,max:0}),Ze=()=>({x:nT(),y:nT()}),rg={current:null},rA={current:!1};function O3(){if(rA.current=!0,!!Wg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rg.current=e.matches;e.addEventListener("change",t),t()}else rg.current=!1}const j3=new WeakMap;function L3(e,t,i){for(const r in t){const o=t[r],u=i[r];if(Nn(o))e.addValue(r,o);else if(Nn(u))e.addValue(r,Fo(o,{owner:e}));else if(u!==o)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(r);e.addValue(r,Fo(c!==void 0?c:o,{owner:e}))}}for(const r in i)t[r]===void 0&&e.removeValue(r);return t}const iT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class k3{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=py,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=$n.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,_e.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=i.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Lf(i),this.isVariantNode=HS(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(i,{},this);for(const T in v){const w=v[T];m[T]!==void 0&&Nn(w)&&w.set(m[T])}}mount(t){this.current=t,j3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),rA.current||O3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ur(this.notifyUpdate),Ur(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Zo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&_e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in qo){const i=qo[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<iT.length;r++){const o=iT[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=L3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=Fo(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&($x(r)||Jx(r))?r=parseFloat(r):!GV(r)&&zr.test(i)&&(r=OS(t,i)),this.setBaseTarget(t,Nn(r)?r.get():r)),Nn(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=wy(this.props,i,this.presenceContext?.custom);u&&(r=u[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Nn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new sy),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){vy.render(this.render)}}class aA extends k3{constructor(){super(...arguments),this.KeyframeResolver=IV}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function oA(e,{style:t,vars:i},r,o){const u=e.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function P3(e){return window.getComputedStyle(e)}class U3 extends aA{constructor(){super(...arguments),this.type="html",this.renderInstance=oA}readValueFromInstance(t,i){if(Zo.has(i))return this.projection?.isProjecting?Qp(i):JM(t,i);{const r=P3(t),o=(fS(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return sA(t,i)}build(t,i,r){xy(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Cy(t,i,r)}}const lA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function z3(e,t,i,r){oA(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(lA.has(o)?o:Ry(o),t.attrs[o])}class B3 extends aA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(Zo.has(i)){const r=IS(i);return r&&r.default||0}return i=lA.has(i)?i:Ry(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return ZS(t,i,r)}build(t,i,r){YS(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){z3(t,i,r,o)}mount(t){this.isSVGTag=QS(t.tagName),super.mount(t)}}const F3=(e,t)=>Ay(e)?new B3(t):new U3(t,{allowProjection:e!==V.Fragment});function Oo(e,t,i){const r=e.getProps();return wy(r,t,i!==void 0?i:r.custom,e)}const ag=e=>Array.isArray(e);function q3(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,Fo(i))}function H3(e){return ag(e)?e[e.length-1]||0:e}function G3(e,t){const i=Oo(e,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const d=H3(u[c]);q3(e,c,d)}}function K3(e){return!!(Nn(e)&&e.add)}function og(e,t){const i=e.getValue("willChange");if(K3(i))return i.add(t);if(!i&&Ks.WillChange){const r=new Ks.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function uA(e){return e.props[JS]}const Y3=e=>e!==null;function X3(e,{repeat:t,repeatType:i="loop"},r){const o=e.filter(Y3),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const Q3={type:"spring",stiffness:500,damping:25,restSpeed:10},$3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Z3={type:"keyframes",duration:.8},J3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},W3=(e,{keyframes:t})=>t.length>2?Z3:Zo.has(e)?e.startsWith("scale")?$3(t[1]):Q3:J3;function tI({when:e,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Dy=(e,t,i,r={},o,u)=>c=>{const d=gy(r,e)||{},m=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-ps(m);const y={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:T=>{t.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:u?void 0:o};tI(d)||Object.assign(y,W3(e,y)),y.duration&&(y.duration=ps(y.duration)),y.repeatDelay&&(y.repeatDelay=ps(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(tg(y),y.delay===0&&(v=!0)),(Ks.instantAnimations||Ks.skipAnimations)&&(v=!0,tg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,v&&!u&&t.get()!==void 0){const T=X3(y.keyframes,d);if(T!==void 0){_e.update(()=>{y.onUpdate(T),y.onComplete()});return}}return d.isSync?new my(y):new TV(y)};function eI({protectedKeys:e,needsAnimating:t},i){const r=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function cA(e,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(u=r);const m=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const y in d){const v=e.getValue(y,e.latestValues[y]??null),T=d[y];if(T===void 0||g&&eI(g,y))continue;const w={delay:i,...gy(u||{},y)},z=v.get();if(z!==void 0&&!v.isAnimating&&!Array.isArray(T)&&T===z&&!w.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const L=uA(e);if(L){const B=window.MotionHandoffAnimation(L,y,_e);B!==null&&(w.startTime=B,O=!0)}}og(e,y),v.start(Dy(y,v,T,e.shouldReduceMotion&&NS.has(y)?{type:!1}:w,e,O));const M=v.animation;M&&m.push(M)}return c&&Promise.all(m).then(()=>{_e.update(()=>{c&&G3(e,c)})}),m}function hA(e,t,i,r=0,o=1){const u=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:d-u*r}function lg(e,t,i={}){const r=Oo(e,t,i.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(cA(e,r,i)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=o;return nI(e,t,m,g,y,v,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[m,g]=d==="beforeChildren"?[u,c]:[c,u];return m().then(()=>g())}else return Promise.all([u(),c(i.delay)])}function nI(e,t,i=0,r=0,o=0,u=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(lg(m,t,{...c,delay:i+(typeof r=="function"?0:r)+hA(e.variantChildren,m,r,o,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function iI(e,t,i={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>lg(e,u,i));r=Promise.all(o)}else if(typeof t=="string")r=lg(e,t,i);else{const o=typeof t=="function"?Oo(e,t,i.custom):t;r=Promise.all(cA(e,o,i))}return r.then(()=>{e.notify("AnimationComplete",t)})}function fA(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0}const sI=Ey.length;function dA(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?dA(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<sI;i++){const r=Ey[i],o=e.props[r];(Ou(o)||o===!1)&&(t[r]=o)}return t}const rI=[...Ty].reverse(),aI=Ty.length;function oI(e){return t=>Promise.all(t.map(({animation:i,options:r})=>iI(e,i,r)))}function lI(e){let t=oI(e),i=sT(),r=!0;const o=m=>(g,y)=>{const v=Oo(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:T,transitionEnd:w,...z}=v;g={...g,...z,...w}}return g};function u(m){t=m(e)}function c(m){const{props:g}=e,y=dA(e.parent)||{},v=[],T=new Set;let w={},z=1/0;for(let M=0;M<aI;M++){const L=rI[M],B=i[L],U=g[L]!==void 0?g[L]:y[L],K=Ou(U),Y=L===m?B.isActive:null;Y===!1&&(z=M);let P=U===y[L]&&U!==g[L]&&K;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),B.protectedKeys={...w},!B.isActive&&Y===null||!U&&!B.prevProp||jf(U)||typeof U=="boolean")continue;const A=uI(B.prevProp,U);let x=A||L===m&&B.isActive&&!P&&K||M>z&&K,D=!1;const j=Array.isArray(U)?U:[U];let I=j.reduce(o(L),{});Y===!1&&(I={});const{prevResolvedValues:H={}}=B,N={...H,...I},Ct=st=>{x=!0,T.has(st)&&(D=!0,T.delete(st)),B.needsAnimating[st]=!0;const ft=e.getValue(st);ft&&(ft.liveStyle=!1)};for(const st in N){const ft=I[st],yt=H[st];if(w.hasOwnProperty(st))continue;let pt=!1;ag(ft)&&ag(yt)?pt=!fA(ft,yt):pt=ft!==yt,pt?ft!=null?Ct(st):T.add(st):ft!==void 0&&T.has(st)?Ct(st):B.protectedKeys[st]=!0}B.prevProp=U,B.prevResolvedValues=I,B.isActive&&(w={...w,...I}),r&&e.blockInitialAnimation&&(x=!1);const Lt=P&&A;x&&(!Lt||D)&&v.push(...j.map(st=>{const ft={type:L};if(typeof st=="string"&&r&&!Lt&&e.manuallyAnimateOnMount&&e.parent){const{parent:yt}=e,pt=Oo(yt,st);if(yt.enteringChildren&&pt){const{delayChildren:F}=pt.transition||{};ft.delay=hA(yt.enteringChildren,e,F)}}return{animation:st,options:ft}}))}if(T.size){const M={};if(typeof g.initial!="boolean"){const L=Oo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);L&&L.transition&&(M.transition=L.transition)}T.forEach(L=>{const B=e.getBaseTarget(L),U=e.getValue(L);U&&(U.liveStyle=!0),M[L]=B??null}),v.push({animation:M})}let O=!!v.length;return r&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(O=!1),r=!1,O?t(v):Promise.resolve()}function d(m,g){if(i[m].isActive===g)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(m,g)),i[m].isActive=g;const y=c(m);for(const v in i)i[v].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=sT()}}}function uI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!fA(t,e):!1}function ga(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sT(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}class Fr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class cI extends Fr{constructor(t){super(t),t.animationState||(t.animationState=lI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();jf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let hI=0;class fI extends Fr{constructor(){super(...arguments),this.id=hI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const dI={animation:{Feature:cI},exit:{Feature:fI}};function ju(e,t,i,r={passive:!0}){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i)}function Xu(e){return{point:{x:e.pageX,y:e.pageY}}}const mI=e=>t=>by(t)&&e(t,Xu(t));function pu(e,t,i,r){return ju(e,t,mI(i),r)}const mA=1e-4,pI=1-mA,gI=1+mA,pA=.01,yI=0-pA,vI=0+pA;function Pn(e){return e.max-e.min}function bI(e,t,i){return Math.abs(e-t)<=i}function rT(e,t,i,r=.5){e.origin=r,e.originPoint=xe(t.min,t.max,e.origin),e.scale=Pn(i)/Pn(t),e.translate=xe(i.min,i.max,e.origin)-e.originPoint,(e.scale>=pI&&e.scale<=gI||isNaN(e.scale))&&(e.scale=1),(e.translate>=yI&&e.translate<=vI||isNaN(e.translate))&&(e.translate=0)}function gu(e,t,i,r){rT(e.x,t.x,i.x,r?r.originX:void 0),rT(e.y,t.y,i.y,r?r.originY:void 0)}function aT(e,t,i){e.min=i.min+t.min,e.max=e.min+Pn(t)}function _I(e,t,i){aT(e.x,t.x,i.x),aT(e.y,t.y,i.y)}function oT(e,t,i){e.min=t.min-i.min,e.max=e.min+Pn(t)}function cf(e,t,i){oT(e.x,t.x,i.x),oT(e.y,t.y,i.y)}function xi(e){return[e("x"),e("y")]}const gA=({current:e})=>e?e.ownerDocument.defaultView:null,lT=(e,t)=>Math.abs(e-t);function TI(e,t){const i=lT(e.x,t.x),r=lT(e.y,t.y);return Math.sqrt(i**2+r**2)}class yA{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=up(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,z=TI(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!z)return;const{point:O}=T,{timestamp:M}=pn;this.history.push({...O,timestamp:M});const{onStart:L,onMove:B}=this.handlers;w||(L&&L(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,T)},this.handlePointerMove=(T,w)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=lp(w,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(T,w)=>{this.end();const{onEnd:z,onSessionEnd:O,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=up(T.type==="pointercancel"?this.lastMoveEventInfo:lp(w,this.transformPagePoint),this.history);this.startEvent&&z&&z(T,L),O&&O(T,L)},!by(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const d=Xu(t),m=lp(d,this.transformPagePoint),{point:g}=m,{timestamp:y}=pn;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=i;v&&v(t,up(m,this.history)),this.removeListeners=Gu(pu(this.contextWindow,"pointermove",this.handlePointerMove),pu(this.contextWindow,"pointerup",this.handlePointerUp),pu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ur(this.updatePoint)}}function lp(e,t){return t?{point:t(e.point)}:e}function uT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function up({point:e},t){return{point:e,delta:uT(e,vA(t)),offset:uT(e,EI(t)),velocity:xI(t,.1)}}function EI(e){return e[0]}function vA(e){return e[e.length-1]}function xI(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,r=null;const o=vA(e);for(;i>=0&&(r=e[i],!(o.timestamp-r.timestamp>ps(t)));)i--;if(!r)return{x:0,y:0};const u=Ri(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function SI(e,{min:t,max:i},r){return t!==void 0&&e<t?e=r?xe(t,e,r.min):Math.max(e,t):i!==void 0&&e>i&&(e=r?xe(i,e,r.max):Math.min(e,i)),e}function cT(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function AI(e,{top:t,left:i,bottom:r,right:o}){return{x:cT(e.x,i,o),y:cT(e.y,t,r)}}function hT(e,t){let i=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,r]=[r,i]),{min:i,max:r}}function wI(e,t){return{x:hT(e.x,t.x),y:hT(e.y,t.y)}}function CI(e,t){let i=.5;const r=Pn(e),o=Pn(t);return o>r?i=Mu(t.min,t.max-r,e.min):r>o&&(i=Mu(e.min,e.max-o,t.min)),Gs(0,1,i)}function RI(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const ug=.35;function DI(e=ug){return e===!1?e=0:e===!0&&(e=ug),{x:fT(e,"left","right"),y:fT(e,"top","bottom")}}function fT(e,t,i){return{min:dT(e,t),max:dT(e,i)}}function dT(e,t){return typeof e=="number"?e:e[t]||0}const NI=new WeakMap;class MI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Xu(v).point)},c=(v,T)=>{const{drag:w,dragPropagation:z,onDragStart:O}=this.getProps();if(w&&!z&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kV(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xi(L=>{let B=this.getAxisMotionValue(L).get()||0;if(gs.test(B)){const{projection:U}=this.visualElement;if(U&&U.layout){const K=U.layout.layoutBox[L];K&&(B=Pn(K)*(parseFloat(B)/100))}}this.originPoint[L]=B}),O&&_e.postRender(()=>O(v,T)),og(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},d=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T;const{dragPropagation:w,dragDirectionLock:z,onDirectionLock:O,onDrag:M}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:L}=T;if(z&&this.currentDirection===null){this.currentDirection=VI(L),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",T.point,L),this.updateAxis("y",T.point,L),this.visualElement.render(),M&&M(v,T)},m=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T,this.stop(v,T),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>xi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new yA(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:gA(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&_e.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!Rh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=SI(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&wo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=AI(r.layoutBox,t):this.constraints=!1,this.elastic=DI(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=RI(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!wo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=I3(r,o.root,this.visualElement.getTransformPagePoint());let c=wI(o.layout.layoutBox,u);if(i){const d=i(N3(c));this.hasMutatedConstraints=!!d,d&&(c=eA(d))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=xi(y=>{if(!Rh(y,i,this.currentDirection))return;let v=m&&m[y]||{};c&&(v={min:0,max:0});const T=o?200:1e6,w=o?40:1e7,z={type:"inertia",velocity:r?t[y]:0,bounceStiffness:T,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(y,z)});return Promise.all(g).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return og(this.visualElement,t),r.start(Dy(t,r,0,i,this.visualElement,!1))}stopAnimation(){xi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){xi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){xi(i=>{const{drag:r}=this.getProps();if(!Rh(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[i];u.set(t[i]-xe(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!wo(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};xi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();o[c]=CI({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xi(c=>{if(!Rh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(xe(m,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;NI.set(this.visualElement,this);const t=this.visualElement.current,i=pu(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();wo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),_e.read(r);const c=ju(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(xi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=m[y].translate,v.set(v.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=ug,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Rh(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function VI(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class II extends Fr{constructor(t){super(t),this.removeGroupControls=Di,this.removeListeners=Di,this.controls=new MI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Di}unmount(){this.removeGroupControls(),this.removeListeners()}}const mT=e=>(t,i)=>{e&&_e.postRender(()=>e(t,i))};class OI extends Fr{constructor(){super(...arguments),this.removePointerDownListener=Di}onPointerDown(t){this.session=new yA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:mT(t),onStart:mT(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&_e.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=pu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let cp=!1;class jI extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),cp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),zh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,cp=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||_e.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;cp=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bA(e){const[t,i]=BS(),r=V.useContext(Zg);return S.jsx(jI,{...e,layoutGroup:r,switchLayoutGroup:V.useContext(WS),isPresent:t,safeToRemove:i})}function LI(e,t,i){const r=Nn(e)?e:Fo(e);return r.start(Dy("",r,t,i)),r.animation}const kI=(e,t)=>e.depth-t.depth;class PI{constructor(){this.children=[],this.isDirty=!1}add(t){ty(this.children,t),this.isDirty=!0}remove(t){ey(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kI),this.isDirty=!1,this.children.forEach(t)}}function UI(e,t){const i=$n.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(Ur(r),e(u-t))};return _e.setup(r,!0),()=>Ur(r)}const _A=["TopLeft","TopRight","BottomLeft","BottomRight"],zI=_A.length,pT=e=>typeof e=="string"?parseFloat(e):e,gT=e=>typeof e=="number"||Rt.test(e);function BI(e,t,i,r,o,u){o?(e.opacity=xe(0,i.opacity??1,FI(r)),e.opacityExit=xe(t.opacity??1,0,qI(r))):u&&(e.opacity=xe(t.opacity??1,i.opacity??1,r));for(let c=0;c<zI;c++){const d=`border${_A[c]}Radius`;let m=yT(t,d),g=yT(i,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||gT(m)===gT(g)?(e[d]=Math.max(xe(pT(m),pT(g),r),0),(gs.test(g)||gs.test(m))&&(e[d]+="%")):e[d]=g}(t.rotate||i.rotate)&&(e.rotate=xe(t.rotate||0,i.rotate||0,r))}function yT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const FI=TA(0,.5,aS),qI=TA(.5,.95,Di);function TA(e,t,i){return r=>r<e?0:r>t?1:i(Mu(e,t,r))}function vT(e,t){e.min=t.min,e.max=t.max}function Ui(e,t){vT(e.x,t.x),vT(e.y,t.y)}function bT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _T(e,t,i,r,o){return e-=t,e=uf(e,1/i,r),o!==void 0&&(e=uf(e,1/o,r)),e}function HI(e,t=0,i=1,r=.5,o,u=e,c=e){if(gs.test(t)&&(t=parseFloat(t),t=xe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=xe(u.min,u.max,r);e===u&&(d-=t),e.min=_T(e.min,t,i,d,o),e.max=_T(e.max,t,i,d,o)}function TT(e,t,[i,r,o],u,c){HI(e,t[i],t[r],t[o],t.scale,u,c)}const GI=["x","scaleX","originX"],KI=["y","scaleY","originY"];function ET(e,t,i,r){TT(e.x,t,GI,i?i.x:void 0,r?r.x:void 0),TT(e.y,t,KI,i?i.y:void 0,r?r.y:void 0)}function xT(e){return e.translate===0&&e.scale===1}function EA(e){return xT(e.x)&&xT(e.y)}function ST(e,t){return e.min===t.min&&e.max===t.max}function YI(e,t){return ST(e.x,t.x)&&ST(e.y,t.y)}function AT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xA(e,t){return AT(e.x,t.x)&&AT(e.y,t.y)}function wT(e){return Pn(e.x)/Pn(e.y)}function CT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class XI{constructor(){this.members=[]}add(t){ty(this.members,t),t.scheduleRender()}remove(t){if(ey(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QI(e,t,i){let r="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=i?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:T,skewX:w,skewY:z}=i;g&&(r=`perspective(${g}px) ${r}`),y&&(r+=`rotate(${y}deg) `),v&&(r+=`rotateX(${v}deg) `),T&&(r+=`rotateY(${T}deg) `),w&&(r+=`skewX(${w}deg) `),z&&(r+=`skewY(${z}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const hp=["","X","Y","Z"],$I=1e3;let ZI=0;function fp(e,t,i,r){const{latestValues:o}=t;o[e]&&(i[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function SA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=uA(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",_e,!(o||u))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&SA(r)}function AA({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=ZI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tO),this.nodes.forEach(sO),this.nodes.forEach(rO),this.nodes.forEach(eO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new PI)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new sy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=zS(c)&&!qV(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,v=0;const T=()=>this.root.updateBlockedByResize=!1;_e.read(()=>{v=window.innerWidth}),e(c,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,y&&y(),y=UI(T,250),zh.hasAnimatedSinceResize&&(zh.hasAnimatedSinceResize=!1,this.nodes.forEach(NT)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:T,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const z=this.options.transition||g.getDefaultTransition()||cO,{onLayoutAnimationStart:O,onLayoutAnimationComplete:M}=g.getProps(),L=!this.targetLayout||!xA(this.targetLayout,w),B=!v&&T;if(this.options.layoutRoot||this.resumeFrom||B||v&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...gy(z,"layout"),onPlay:O,onComplete:M};(g.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(y,B)}else v||NT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iO),this.nodes.forEach(JI),this.nodes.forEach(WI)):this.nodes.forEach(DT),this.clearAllSnapshots();const d=$n.now();pn.delta=Gs(0,1e3/60,d-pn.timestamp),pn.timestamp=d,pn.isProcessing=!0,tp.update.process(pn),tp.preRender.process(pn),tp.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nO),this.sharedNodes.forEach(oO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pn(this.snapshot.measuredBox.x)&&!Pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!EA(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||ba(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),hO(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ze();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fO))){const{scroll:g}=this.root;g&&(Co(d.x,g.offset.x),Co(d.y,g.offset.y))}return d}removeElementScroll(c){const d=Ze();if(Ui(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ui(d,c),Co(d.x,y.offset.x),Co(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=Ze();Ui(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ro(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ba(y.latestValues)&&Ro(m,y.latestValues)}return ba(this.latestValues)&&Ro(m,this.latestValues),m}removeTransform(c){const d=Ze();Ui(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!ba(g.latestValues))continue;ig(g.latestValues)&&g.updateSnapshot();const y=Ze(),v=g.measurePageBox();Ui(y,v),ET(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ba(this.latestValues)&&ET(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=pn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_I(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ui(this.target,this.layout.layoutBox),iA(this.target,this.targetDelta)):Ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ig(this.parent.latestValues)||nA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),cf(this.relativeTargetOrigin,d,m),Ui(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Ui(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,T=this.treeScale.y;V3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ze());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bT(this.prevProjectionDelta.x,this.projectionDelta.x),bT(this.prevProjectionDelta.y,this.projectionDelta.y)),gu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==T||!CT(this.projectionDelta.x,this.prevProjectionDelta.x)||!CT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Do(),this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},v=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=Ze(),w=m?m.source:void 0,z=this.layout?this.layout.source:void 0,O=w!==z,M=this.getStack(),L=!M||M.members.length<=1,B=!!(O&&!L&&this.options.crossfade===!0&&!this.path.some(uO));this.animationProgress=0;let U;this.mixTargetDelta=K=>{const Y=K/1e3;MT(v.x,c.x,Y),MT(v.y,c.y,Y),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cf(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lO(this.relativeTarget,this.relativeTargetOrigin,T,Y),U&&YI(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Ze()),Ui(U,this.relativeTarget)),O&&(this.animationValues=y,BI(y,g,this.latestValues,Y,B,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{zh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fo(0)),this.currentAnimation=LI(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($I),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&wA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Ze();const v=Pn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+v;const T=Pn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+T}Ui(d,m),Ro(d,y),gu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new XI),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&fp("z",c,g,this.animationValues);for(let y=0;y<hp.length;y++)fp(`rotate${hp[y]}`,c,g,this.animationValues),fp(`skew${hp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Uh(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Uh(d?.pointerEvents)||""),this.hasProjected&&!ba(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=QI(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),c.transform=v;const{x:T,y:w}=this.projectionDelta;c.transformOrigin=`${T.origin*100}% ${w.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const z in ng){if(y[z]===void 0)continue;const{correct:O,applyTo:M,isCSSVariable:L}=ng[z],B=v==="none"?y[z]:O(y[z],g);if(M){const U=M.length;for(let K=0;K<U;K++)c[M[K]]=B}else L?this.options.visualElement.renderState.vars[z]=B:c[z]=B}this.options.layoutId&&(c.pointerEvents=g===this?Uh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(RT),this.root.sharedNodes.clear()}}}function JI(e){e.updateLayout()}function WI(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?xi(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],T=Pn(v);v.min=i[y].min,v.max=v.min+T}):wA(o,t.layoutBox,i)&&xi(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],T=Pn(i[y]);v.max=v.min+T,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+T)});const c=Do();gu(c,i,t.layoutBox);const d=Do();u?gu(d,e.applyTransform(r,!0),t.measuredBox):gu(d,i,t.layoutBox);const m=!EA(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:T}=y;if(v&&T){const w=Ze();cf(w,t.layoutBox,v.layoutBox);const z=Ze();cf(z,i,T.layoutBox),xA(w,z)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=z,e.relativeTargetOrigin=w,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function tO(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function eO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nO(e){e.clearSnapshot()}function RT(e){e.clearMeasurements()}function DT(e){e.isLayoutDirty=!1}function iO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function NT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sO(e){e.resolveTargetDelta()}function rO(e){e.calcProjection()}function aO(e){e.resetSkewAndRotation()}function oO(e){e.removeLeadSnapshot()}function MT(e,t,i){e.translate=xe(t.translate,0,i),e.scale=xe(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function VT(e,t,i,r){e.min=xe(t.min,i.min,r),e.max=xe(t.max,i.max,r)}function lO(e,t,i,r){VT(e.x,t.x,i.x,r),VT(e.y,t.y,i.y,r)}function uO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cO={duration:.45,ease:[.4,0,.1,1]},IT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),OT=IT("applewebkit/")&&!IT("chrome/")?Math.round:Di;function jT(e){e.min=OT(e.min),e.max=OT(e.max)}function hO(e){jT(e.x),jT(e.y)}function wA(e,t,i){return e==="position"||e==="preserve-aspect"&&!bI(wT(t),wT(i),.2)}function fO(e){return e!==e.root&&e.scroll?.wasRoot}const dO=AA({attachResizeListener:(e,t)=>ju(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dp={current:void 0},CA=AA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!dp.current){const e=new dO({});e.mount(window),e.setOptions({layoutScroll:!0}),dp.current=e}return dp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mO={pan:{Feature:OI},drag:{Feature:II,ProjectionNode:CA,MeasureLayout:bA}};function LT(e,t,i){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&_e.postRender(()=>u(t,Xu(t)))}class pO extends Fr{mount(){const{current:t}=this.node;t&&(this.unmount=PV(t,(i,r)=>(LT(this.node,r,"Start"),o=>LT(this.node,o,"End"))))}unmount(){}}class gO extends Fr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(ju(this.node.current,"focus",()=>this.onFocus()),ju(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kT(e,t,i){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&_e.postRender(()=>u(t,Xu(t)))}class yO extends Fr{mount(){const{current:t}=this.node;t&&(this.unmount=FV(t,(i,r)=>(kT(this.node,r,"Start"),(o,{success:u})=>kT(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cg=new WeakMap,mp=new WeakMap,vO=e=>{const t=cg.get(e.target);t&&t(e)},bO=e=>{e.forEach(vO)};function _O({root:e,...t}){const i=e||document;mp.has(i)||mp.set(i,{});const r=mp.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(bO,{root:e,...t})),r[o]}function TO(e,t,i){const r=_O(t);return cg.set(e,i),r.observe(e),()=>{cg.delete(e),r.unobserve(e)}}const EO={some:0,all:1};class xO extends Fr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:EO[o]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),T=g?y:v;T&&T(m)};return TO(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(SO(t,i))&&this.startObserver()}unmount(){}}function SO({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const AO={inView:{Feature:xO},tap:{Feature:yO},focus:{Feature:gO},hover:{Feature:pO}},wO={layout:{ProjectionNode:CA,MeasureLayout:bA}},CO={...dI,...AO,...mO,...wO},Dn=D3(CO,F3);const RO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DO=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),PT=e=>{const t=DO(e);return t.charAt(0).toUpperCase()+t.slice(1)},RA=(...e)=>e.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),NO=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var MO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VO=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...d},m)=>V.createElement("svg",{ref:m,...MO,width:t,height:t,stroke:e,strokeWidth:r?Number(i)*24/Number(t):i,className:RA("lucide",o),...!u&&!NO(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,y])=>V.createElement(g,y)),...Array.isArray(u)?u:[u]]));const Xt=(e,t)=>{const i=V.forwardRef(({className:r,...o},u)=>V.createElement(VO,{ref:u,iconNode:t,className:RA(`lucide-${RO(PT(e))}`,`lucide-${e}`,r),...o}));return i.displayName=PT(e),i};const IO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],OO=Xt("arrow-left",IO);const jO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],LO=Xt("arrow-right",jO);const kO=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],PO=Xt("arrow-up-right",kO);const UO=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],zO=Xt("briefcase",UO);const BO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],FO=Xt("calendar",BO);const qO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hf=Xt("check",qO);const HO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GO=Xt("circle",HO);const KO=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Lu=Xt("cloud",KO);const YO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],DA=Xt("copy",YO);const XO=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],QO=Xt("corner-down-left",XO);const $O=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ZO=Xt("download",$O);const JO=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],WO=Xt("ellipsis",JO);const t5=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],e5=Xt("folder-open",t5);const n5=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],UT=Xt("folder",n5);const i5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],s5=Xt("globe",i5);const r5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],a5=Xt("grid-3x3",r5);const o5=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],l5=Xt("grip-vertical",o5);const u5=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],hg=Xt("layout-grid",u5);const c5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],h5=Xt("list",c5);const f5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],NA=Xt("loader-circle",f5);const d5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],m5=Xt("lock",d5);const p5=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],g5=Xt("log-in",p5);const y5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],MA=Xt("pen",y5);const v5=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],zT=Xt("pin",v5);const b5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fg=Xt("plus",b5);const _5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],T5=Xt("refresh-cw",_5);const E5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],au=Xt("search",E5);const x5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],S5=Xt("settings",x5);const A5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],VA=Xt("trash-2",A5);const w5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],C5=Xt("triangle-alert",w5);const R5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],D5=Xt("user",R5);const N5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dg=Xt("users",N5);const M5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ff=Xt("x",M5);var ou=sE();function V5(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return V.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const kf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ny(e){return"nodeType"in e}function Un(e){var t,i;return e?Jo(e)?e:Ny(e)&&(t=(i=e.ownerDocument)==null?void 0:i.defaultView)!=null?t:window:window}function My(e){const{Document:t}=Un(e);return e instanceof t}function Qu(e){return Jo(e)?!1:e instanceof Un(e).HTMLElement}function IA(e){return e instanceof Un(e).SVGElement}function Wo(e){return e?Jo(e)?e.document:Ny(e)?My(e)?e:Qu(e)||IA(e)?e.ownerDocument:document:document:document}const Fi=kf?V.useLayoutEffect:V.useEffect;function Pf(e){const t=V.useRef(e);return Fi(()=>{t.current=e}),V.useCallback(function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function I5(){const e=V.useRef(null),t=V.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),i=V.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,i]}function ku(e,t){t===void 0&&(t=[e]);const i=V.useRef(e);return Fi(()=>{i.current!==e&&(i.current=e)},t),i}function $u(e,t){const i=V.useRef();return V.useMemo(()=>{const r=e(i.current);return i.current=r,r},[...t])}function df(e){const t=Pf(e),i=V.useRef(null),r=V.useCallback(o=>{o!==i.current&&t?.(o,i.current),i.current=o},[]);return[i,r]}function mf(e){const t=V.useRef();return V.useEffect(()=>{t.current=e},[e]),t.current}let pp={};function Zu(e,t){return V.useMemo(()=>{if(t)return t;const i=pp[e]==null?0:pp[e]+1;return pp[e]=i,e+"-"+i},[e,t])}function OA(e){return function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return r.reduce((u,c)=>{const d=Object.entries(c);for(const[m,g]of d){const y=u[m];y!=null&&(u[m]=y+e*g)}return u},{...t})}}const jo=OA(1),Pu=OA(-1);function O5(e){return"clientX"in e&&"clientY"in e}function Uf(e){if(!e)return!1;const{KeyboardEvent:t}=Un(e.target);return t&&e instanceof t}function j5(e){if(!e)return!1;const{TouchEvent:t}=Un(e.target);return t&&e instanceof t}function pf(e){if(j5(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:i}=e.touches[0];return{x:t,y:i}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:i}=e.changedTouches[0];return{x:t,y:i}}}return O5(e)?{x:e.clientX,y:e.clientY}:null}const Br=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:i}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:i}=e;return"scaleX("+t+") scaleY("+i+")"}},Transform:{toString(e){if(e)return[Br.Translate.toString(e),Br.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:i,easing:r}=e;return t+" "+i+"ms "+r}}}),BT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function L5(e){return e.matches(BT)?e:e.querySelector(BT)}const k5={display:"none"};function P5(e){let{id:t,value:i}=e;return Te.createElement("div",{id:t,style:k5},i)}function U5(e){let{id:t,announcement:i,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Te.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},i)}function z5(){const[e,t]=V.useState("");return{announce:V.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const jA=V.createContext(null);function B5(e){const t=V.useContext(jA);V.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function F5(){const[e]=V.useState(()=>new Set),t=V.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[V.useCallback(r=>{let{type:o,event:u}=r;e.forEach(c=>{var d;return(d=c[o])==null?void 0:d.call(c,u)})},[e]),t]}const q5={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},H5={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:i}=e;return i?"Draggable item "+t.id+" was moved over droppable area "+i.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:i}=e;return i?"Draggable item "+t.id+" was dropped over droppable area "+i.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function G5(e){let{announcements:t=H5,container:i,hiddenTextDescribedById:r,screenReaderInstructions:o=q5}=e;const{announce:u,announcement:c}=z5(),d=Zu("DndLiveRegion"),[m,g]=V.useState(!1);if(V.useEffect(()=>{g(!0)},[]),B5(V.useMemo(()=>({onDragStart(v){let{active:T}=v;u(t.onDragStart({active:T}))},onDragMove(v){let{active:T,over:w}=v;t.onDragMove&&u(t.onDragMove({active:T,over:w}))},onDragOver(v){let{active:T,over:w}=v;u(t.onDragOver({active:T,over:w}))},onDragEnd(v){let{active:T,over:w}=v;u(t.onDragEnd({active:T,over:w}))},onDragCancel(v){let{active:T,over:w}=v;u(t.onDragCancel({active:T,over:w}))}}),[u,t])),!m)return null;const y=Te.createElement(Te.Fragment,null,Te.createElement(P5,{id:r,value:o.draggable}),Te.createElement(U5,{id:d,announcement:c}));return i?ou.createPortal(y,i):y}var Je;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Je||(Je={}));function gf(){}function FT(e,t){return V.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function K5(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return V.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const qi=Object.freeze({x:0,y:0});function LA(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Y5(e,t){const i=pf(e);if(!i)return"0 0";const r={x:(i.x-t.left)/t.width*100,y:(i.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function kA(e,t){let{data:{value:i}}=e,{data:{value:r}}=t;return i-r}function X5(e,t){let{data:{value:i}}=e,{data:{value:r}}=t;return r-i}function qT(e){let{left:t,top:i,height:r,width:o}=e;return[{x:t,y:i},{x:t+o,y:i},{x:t,y:i+r},{x:t+o,y:i+r}]}function PA(e,t){if(!e||e.length===0)return null;const[i]=e;return i[t]}function HT(e,t,i){return t===void 0&&(t=e.left),i===void 0&&(i=e.top),{x:t+e.width*.5,y:i+e.height*.5}}const Q5=e=>{let{collisionRect:t,droppableRects:i,droppableContainers:r}=e;const o=HT(t,t.left,t.top),u=[];for(const c of r){const{id:d}=c,m=i.get(d);if(m){const g=LA(HT(m),o);u.push({id:d,data:{droppableContainer:c,value:g}})}}return u.sort(kA)},$5=e=>{let{collisionRect:t,droppableRects:i,droppableContainers:r}=e;const o=qT(t),u=[];for(const c of r){const{id:d}=c,m=i.get(d);if(m){const g=qT(m),y=o.reduce((T,w,z)=>T+LA(g[z],w),0),v=Number((y/4).toFixed(4));u.push({id:d,data:{droppableContainer:c,value:v}})}}return u.sort(kA)};function Z5(e,t){const i=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),u=Math.min(t.top+t.height,e.top+e.height),c=o-r,d=u-i;if(r<o&&i<u){const m=t.width*t.height,g=e.width*e.height,y=c*d,v=y/(m+g-y);return Number(v.toFixed(4))}return 0}const J5=e=>{let{collisionRect:t,droppableRects:i,droppableContainers:r}=e;const o=[];for(const u of r){const{id:c}=u,d=i.get(c);if(d){const m=Z5(d,t);m>0&&o.push({id:c,data:{droppableContainer:u,value:m}})}}return o.sort(X5)};function W5(e,t,i){return{...e,scaleX:t&&i?t.width/i.width:1,scaleY:t&&i?t.height/i.height:1}}function UA(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:qi}function t6(e){return function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return o.reduce((c,d)=>({...c,top:c.top+e*d.y,bottom:c.bottom+e*d.y,left:c.left+e*d.x,right:c.right+e*d.x}),{...i})}}const e6=t6(1);function zA(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function n6(e,t,i){const r=zA(t);if(!r)return e;const{scaleX:o,scaleY:u,x:c,y:d}=r,m=e.left-c-(1-o)*parseFloat(i),g=e.top-d-(1-u)*parseFloat(i.slice(i.indexOf(" ")+1)),y=o?e.width/o:e.width,v=u?e.height/u:e.height;return{width:y,height:v,top:g,right:m+y,bottom:g+v,left:m}}const i6={ignoreTransform:!1};function tl(e,t){t===void 0&&(t=i6);let i=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:g,transformOrigin:y}=Un(e).getComputedStyle(e);g&&(i=n6(i,g,y))}const{top:r,left:o,width:u,height:c,bottom:d,right:m}=i;return{top:r,left:o,width:u,height:c,bottom:d,right:m}}function GT(e){return tl(e,{ignoreTransform:!0})}function s6(e){const t=e.innerWidth,i=e.innerHeight;return{top:0,left:0,right:t,bottom:i,width:t,height:i}}function r6(e,t){return t===void 0&&(t=Un(e).getComputedStyle(e)),t.position==="fixed"}function a6(e,t){t===void 0&&(t=Un(e).getComputedStyle(e));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=t[o];return typeof u=="string"?i.test(u):!1})}function zf(e,t){const i=[];function r(o){if(t!=null&&i.length>=t||!o)return i;if(My(o)&&o.scrollingElement!=null&&!i.includes(o.scrollingElement))return i.push(o.scrollingElement),i;if(!Qu(o)||IA(o)||i.includes(o))return i;const u=Un(e).getComputedStyle(o);return o!==e&&a6(o,u)&&i.push(o),r6(o,u)?i:r(o.parentNode)}return e?r(e):i}function BA(e){const[t]=zf(e,1);return t??null}function gp(e){return!kf||!e?null:Jo(e)?e:Ny(e)?My(e)||e===Wo(e).scrollingElement?window:Qu(e)?e:null:null}function FA(e){return Jo(e)?e.scrollX:e.scrollLeft}function qA(e){return Jo(e)?e.scrollY:e.scrollTop}function mg(e){return{x:FA(e),y:qA(e)}}var ln;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ln||(ln={}));function HA(e){return!kf||!e?!1:e===document.scrollingElement}function GA(e){const t={x:0,y:0},i=HA(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-i.width,y:e.scrollHeight-i.height},o=e.scrollTop<=t.y,u=e.scrollLeft<=t.x,c=e.scrollTop>=r.y,d=e.scrollLeft>=r.x;return{isTop:o,isLeft:u,isBottom:c,isRight:d,maxScroll:r,minScroll:t}}const o6={x:.2,y:.2};function l6(e,t,i,r,o){let{top:u,left:c,right:d,bottom:m}=i;r===void 0&&(r=10),o===void 0&&(o=o6);const{isTop:g,isBottom:y,isLeft:v,isRight:T}=GA(e),w={x:0,y:0},z={x:0,y:0},O={height:t.height*o.y,width:t.width*o.x};return!g&&u<=t.top+O.height?(w.y=ln.Backward,z.y=r*Math.abs((t.top+O.height-u)/O.height)):!y&&m>=t.bottom-O.height&&(w.y=ln.Forward,z.y=r*Math.abs((t.bottom-O.height-m)/O.height)),!T&&d>=t.right-O.width?(w.x=ln.Forward,z.x=r*Math.abs((t.right-O.width-d)/O.width)):!v&&c<=t.left+O.width&&(w.x=ln.Backward,z.x=r*Math.abs((t.left+O.width-c)/O.width)),{direction:w,speed:z}}function u6(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:c}=window;return{top:0,left:0,right:u,bottom:c,width:u,height:c}}const{top:t,left:i,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:i,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function KA(e){return e.reduce((t,i)=>jo(t,mg(i)),qi)}function c6(e){return e.reduce((t,i)=>t+FA(i),0)}function h6(e){return e.reduce((t,i)=>t+qA(i),0)}function YA(e,t){if(t===void 0&&(t=tl),!e)return;const{top:i,left:r,bottom:o,right:u}=t(e);BA(e)&&(o<=0||u<=0||i>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const f6=[["x",["left","right"],c6],["y",["top","bottom"],h6]];class Vy{constructor(t,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=zf(i),o=KA(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,c,d]of f6)for(const m of c)Object.defineProperty(this,m,{get:()=>{const g=d(r),y=o[u]-g;return this.rect[m]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class yu{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...i)})},this.target=t}add(t,i,r){var o;(o=this.target)==null||o.addEventListener(t,i,r),this.listeners.push([t,i,r])}}function d6(e){const{EventTarget:t}=Un(e);return e instanceof t?e:Wo(e)}function yp(e,t){const i=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(i**2+r**2)>t:"x"in t&&"y"in t?i>t.x&&r>t.y:"x"in t?i>t.x:"y"in t?r>t.y:!1}var Si;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Si||(Si={}));function KT(e){e.preventDefault()}function m6(e){e.stopPropagation()}var Gt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Gt||(Gt={}));const XA={start:[Gt.Space,Gt.Enter],cancel:[Gt.Esc],end:[Gt.Space,Gt.Enter,Gt.Tab]},p6=(e,t)=>{let{currentCoordinates:i}=t;switch(e.code){case Gt.Right:return{...i,x:i.x+25};case Gt.Left:return{...i,x:i.x-25};case Gt.Down:return{...i,y:i.y+25};case Gt.Up:return{...i,y:i.y-25}}};class Iy{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:i}}=t;this.props=t,this.listeners=new yu(Wo(i)),this.windowListeners=new yu(Un(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Si.Resize,this.handleCancel),this.windowListeners.add(Si.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Si.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:i}=this.props,r=t.node.current;r&&YA(r),i(qi)}handleKeyDown(t){if(Uf(t)){const{active:i,context:r,options:o}=this.props,{keyboardCodes:u=XA,coordinateGetter:c=p6,scrollBehavior:d="smooth"}=o,{code:m}=t;if(u.end.includes(m)){this.handleEnd(t);return}if(u.cancel.includes(m)){this.handleCancel(t);return}const{collisionRect:g}=r.current,y=g?{x:g.left,y:g.top}:qi;this.referenceCoordinates||(this.referenceCoordinates=y);const v=c(t,{active:i,context:r.current,currentCoordinates:y});if(v){const T=Pu(v,y),w={x:0,y:0},{scrollableAncestors:z}=r.current;for(const O of z){const M=t.code,{isTop:L,isRight:B,isLeft:U,isBottom:K,maxScroll:Y,minScroll:P}=GA(O),A=u6(O),x={x:Math.min(M===Gt.Right?A.right-A.width/2:A.right,Math.max(M===Gt.Right?A.left:A.left+A.width/2,v.x)),y:Math.min(M===Gt.Down?A.bottom-A.height/2:A.bottom,Math.max(M===Gt.Down?A.top:A.top+A.height/2,v.y))},D=M===Gt.Right&&!B||M===Gt.Left&&!U,j=M===Gt.Down&&!K||M===Gt.Up&&!L;if(D&&x.x!==v.x){const I=O.scrollLeft+T.x,H=M===Gt.Right&&I<=Y.x||M===Gt.Left&&I>=P.x;if(H&&!T.y){O.scrollTo({left:I,behavior:d});return}H?w.x=O.scrollLeft-I:w.x=M===Gt.Right?O.scrollLeft-Y.x:O.scrollLeft-P.x,w.x&&O.scrollBy({left:-w.x,behavior:d});break}else if(j&&x.y!==v.y){const I=O.scrollTop+T.y,H=M===Gt.Down&&I<=Y.y||M===Gt.Up&&I>=P.y;if(H&&!T.x){O.scrollTo({top:I,behavior:d});return}H?w.y=O.scrollTop-I:w.y=M===Gt.Down?O.scrollTop-Y.y:O.scrollTop-P.y,w.y&&O.scrollBy({top:-w.y,behavior:d});break}}this.handleMove(t,jo(Pu(v,this.referenceCoordinates),w))}}}handleMove(t,i){const{onMove:r}=this.props;t.preventDefault(),r(i)}handleEnd(t){const{onEnd:i}=this.props;t.preventDefault(),this.detach(),i()}handleCancel(t){const{onCancel:i}=this.props;t.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Iy.activators=[{eventName:"onKeyDown",handler:(e,t,i)=>{let{keyboardCodes:r=XA,onActivation:o}=t,{active:u}=i;const{code:c}=e.nativeEvent;if(r.start.includes(c)){const d=u.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function YT(e){return!!(e&&"distance"in e)}function XT(e){return!!(e&&"delay"in e)}class Oy{constructor(t,i,r){var o;r===void 0&&(r=d6(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=i;const{event:u}=t,{target:c}=u;this.props=t,this.events=i,this.document=Wo(c),this.documentListeners=new yu(this.document),this.listeners=new yu(r),this.windowListeners=new yu(Un(c)),this.initialCoordinates=(o=pf(u))!=null?o:qi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:i,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Si.Resize,this.handleCancel),this.windowListeners.add(Si.DragStart,KT),this.windowListeners.add(Si.VisibilityChange,this.handleCancel),this.windowListeners.add(Si.ContextMenu,KT),this.documentListeners.add(Si.Keydown,this.handleKeydown),i){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(XT(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(YT(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,i){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:t}=this,{onStart:i}=this.props;t&&(this.activated=!0,this.documentListeners.add(Si.Click,m6,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Si.SelectionChange,this.removeTextSelection),i(t))}handleMove(t){var i;const{activated:r,initialCoordinates:o,props:u}=this,{onMove:c,options:{activationConstraint:d}}=u;if(!o)return;const m=(i=pf(t))!=null?i:qi,g=Pu(o,m);if(!r&&d){if(YT(d)){if(d.tolerance!=null&&yp(g,d.tolerance))return this.handleCancel();if(yp(g,d.distance))return this.handleStart()}if(XT(d)&&yp(g,d.tolerance))return this.handleCancel();this.handlePending(d,g);return}t.cancelable&&t.preventDefault(),c(m)}handleEnd(){const{onAbort:t,onEnd:i}=this.props;this.detach(),this.activated||t(this.props.active),i()}handleCancel(){const{onAbort:t,onCancel:i}=this.props;this.detach(),this.activated||t(this.props.active),i()}handleKeydown(t){t.code===Gt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const g6={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class jy extends Oy{constructor(t){const{event:i}=t,r=Wo(i.target);super(t,g6,r)}}jy.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:i}=e,{onActivation:r}=t;return!i.isPrimary||i.button!==0?!1:(r?.({event:i}),!0)}}];const y6={move:{name:"mousemove"},end:{name:"mouseup"}};var pg;(function(e){e[e.RightClick=2]="RightClick"})(pg||(pg={}));class v6 extends Oy{constructor(t){super(t,y6,Wo(t.event.target))}}v6.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:i}=e,{onActivation:r}=t;return i.button===pg.RightClick?!1:(r?.({event:i}),!0)}}];const vp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class b6 extends Oy{constructor(t){super(t,vp)}static setup(){return window.addEventListener(vp.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(vp.move.name,t)};function t(){}}}b6.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:i}=e,{onActivation:r}=t;const{touches:o}=i;return o.length>1?!1:(r?.({event:i}),!0)}}];var vu;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(vu||(vu={}));var yf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(yf||(yf={}));function _6(e){let{acceleration:t,activator:i=vu.Pointer,canScroll:r,draggingRect:o,enabled:u,interval:c=5,order:d=yf.TreeOrder,pointerCoordinates:m,scrollableAncestors:g,scrollableAncestorRects:y,delta:v,threshold:T}=e;const w=E6({delta:v,disabled:!u}),[z,O]=I5(),M=V.useRef({x:0,y:0}),L=V.useRef({x:0,y:0}),B=V.useMemo(()=>{switch(i){case vu.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case vu.DraggableRect:return o}},[i,o,m]),U=V.useRef(null),K=V.useCallback(()=>{const P=U.current;if(!P)return;const A=M.current.x*L.current.x,x=M.current.y*L.current.y;P.scrollBy(A,x)},[]),Y=V.useMemo(()=>d===yf.TreeOrder?[...g].reverse():g,[d,g]);V.useEffect(()=>{if(!u||!g.length||!B){O();return}for(const P of Y){if(r?.(P)===!1)continue;const A=g.indexOf(P),x=y[A];if(!x)continue;const{direction:D,speed:j}=l6(P,x,B,t,T);for(const I of["x","y"])w[I][D[I]]||(j[I]=0,D[I]=0);if(j.x>0||j.y>0){O(),U.current=P,z(K,c),M.current=j,L.current=D;return}}M.current={x:0,y:0},L.current={x:0,y:0},O()},[t,K,r,O,u,c,JSON.stringify(B),JSON.stringify(w),z,g,Y,y,JSON.stringify(T)])}const T6={x:{[ln.Backward]:!1,[ln.Forward]:!1},y:{[ln.Backward]:!1,[ln.Forward]:!1}};function E6(e){let{delta:t,disabled:i}=e;const r=mf(t);return $u(o=>{if(i||!r||!o)return T6;const u={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[ln.Backward]:o.x[ln.Backward]||u.x===-1,[ln.Forward]:o.x[ln.Forward]||u.x===1},y:{[ln.Backward]:o.y[ln.Backward]||u.y===-1,[ln.Forward]:o.y[ln.Forward]||u.y===1}}},[i,t,r])}function x6(e,t){const i=t!=null?e.get(t):void 0,r=i?i.node.current:null;return $u(o=>{var u;return t==null?null:(u=r??o)!=null?u:null},[r,t])}function S6(e,t){return V.useMemo(()=>e.reduce((i,r)=>{const{sensor:o}=r,u=o.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,r)}));return[...i,...u]},[]),[e,t])}var Uu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Uu||(Uu={}));var gg;(function(e){e.Optimized="optimized"})(gg||(gg={}));const QT=new Map;function A6(e,t){let{dragging:i,dependencies:r,config:o}=t;const[u,c]=V.useState(null),{frequency:d,measure:m,strategy:g}=o,y=V.useRef(e),v=M(),T=ku(v),w=V.useCallback(function(L){L===void 0&&(L=[]),!T.current&&c(B=>B===null?L:B.concat(L.filter(U=>!B.includes(U))))},[T]),z=V.useRef(null),O=$u(L=>{if(v&&!i)return QT;if(!L||L===QT||y.current!==e||u!=null){const B=new Map;for(let U of e){if(!U)continue;if(u&&u.length>0&&!u.includes(U.id)&&U.rect.current){B.set(U.id,U.rect.current);continue}const K=U.node.current,Y=K?new Vy(m(K),K):null;U.rect.current=Y,Y&&B.set(U.id,Y)}return B}return L},[e,u,i,v,m]);return V.useEffect(()=>{y.current=e},[e]),V.useEffect(()=>{v||w()},[i,v]),V.useEffect(()=>{u&&u.length>0&&c(null)},[JSON.stringify(u)]),V.useEffect(()=>{v||typeof d!="number"||z.current!==null||(z.current=setTimeout(()=>{w(),z.current=null},d))},[d,v,w,...r]),{droppableRects:O,measureDroppableContainers:w,measuringScheduled:u!=null};function M(){switch(g){case Uu.Always:return!1;case Uu.BeforeDragging:return i;default:return!i}}}function Ly(e,t){return $u(i=>e?i||(typeof t=="function"?t(e):e):null,[t,e])}function w6(e,t){return Ly(e,t)}function C6(e){let{callback:t,disabled:i}=e;const r=Pf(t),o=V.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(r)},[r,i]);return V.useEffect(()=>()=>o?.disconnect(),[o]),o}function Bf(e){let{callback:t,disabled:i}=e;const r=Pf(t),o=V.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(r)},[i]);return V.useEffect(()=>()=>o?.disconnect(),[o]),o}function R6(e){return new Vy(tl(e),e)}function $T(e,t,i){t===void 0&&(t=R6);const[r,o]=V.useState(null);function u(){o(m=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=m??i)!=null?g:null}const y=t(e);return JSON.stringify(m)===JSON.stringify(y)?m:y})}const c=C6({callback(m){if(e)for(const g of m){const{type:y,target:v}=g;if(y==="childList"&&v instanceof HTMLElement&&v.contains(e)){u();break}}}}),d=Bf({callback:u});return Fi(()=>{u(),e?(d?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[e]),r}function D6(e){const t=Ly(e);return UA(e,t)}const ZT=[];function N6(e){const t=V.useRef(e),i=$u(r=>e?r&&r!==ZT&&e&&t.current&&e.parentNode===t.current.parentNode?r:zf(e):ZT,[e]);return V.useEffect(()=>{t.current=e},[e]),i}function M6(e){const[t,i]=V.useState(null),r=V.useRef(e),o=V.useCallback(u=>{const c=gp(u.target);c&&i(d=>d?(d.set(c,mg(c)),new Map(d)):null)},[]);return V.useEffect(()=>{const u=r.current;if(e!==u){c(u);const d=e.map(m=>{const g=gp(m);return g?(g.addEventListener("scroll",o,{passive:!0}),[g,mg(g)]):null}).filter(m=>m!=null);i(d.length?new Map(d):null),r.current=e}return()=>{c(e),c(u)};function c(d){d.forEach(m=>{const g=gp(m);g?.removeEventListener("scroll",o)})}},[o,e]),V.useMemo(()=>e.length?t?Array.from(t.values()).reduce((u,c)=>jo(u,c),qi):KA(e):qi,[e,t])}function JT(e,t){t===void 0&&(t=[]);const i=V.useRef(null);return V.useEffect(()=>{i.current=null},t),V.useEffect(()=>{const r=e!==qi;r&&!i.current&&(i.current=e),!r&&i.current&&(i.current=null)},[e]),i.current?Pu(e,i.current):qi}function V6(e){V.useEffect(()=>{if(!kf)return;const t=e.map(i=>{let{sensor:r}=i;return r.setup==null?void 0:r.setup()});return()=>{for(const i of t)i?.()}},e.map(t=>{let{sensor:i}=t;return i}))}function I6(e,t){return V.useMemo(()=>e.reduce((i,r)=>{let{eventName:o,handler:u}=r;return i[o]=c=>{u(c,t)},i},{}),[e,t])}function QA(e){return V.useMemo(()=>e?s6(e):null,[e])}const WT=[];function O6(e,t){t===void 0&&(t=tl);const[i]=e,r=QA(i?Un(i):null),[o,u]=V.useState(WT);function c(){u(()=>e.length?e.map(m=>HA(m)?r:new Vy(t(m),m)):WT)}const d=Bf({callback:c});return Fi(()=>{d?.disconnect(),c(),e.forEach(m=>d?.observe(m))},[e]),o}function $A(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Qu(t)?t:e}function j6(e){let{measure:t}=e;const[i,r]=V.useState(null),o=V.useCallback(g=>{for(const{target:y}of g)if(Qu(y)){r(v=>{const T=t(y);return v?{...v,width:T.width,height:T.height}:T});break}},[t]),u=Bf({callback:o}),c=V.useCallback(g=>{const y=$A(g);u?.disconnect(),y&&u?.observe(y),r(y?t(y):null)},[t,u]),[d,m]=df(c);return V.useMemo(()=>({nodeRef:d,rect:i,setRef:m}),[i,d,m])}const L6=[{sensor:jy,options:{}},{sensor:Iy,options:{}}],k6={current:{}},Bh={draggable:{measure:GT},droppable:{measure:GT,strategy:Uu.WhileDragging,frequency:gg.Optimized},dragOverlay:{measure:tl}};class bu extends Map{get(t){var i;return t!=null&&(i=super.get(t))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:i}=t;return!i})}getNodeFor(t){var i,r;return(i=(r=this.get(t))==null?void 0:r.node.current)!=null?i:void 0}}const P6={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Bh,measureDroppableContainers:gf,windowRect:null,measuringScheduled:!1},ZA={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gf,draggableNodes:new Map,over:null,measureDroppableContainers:gf},Ju=V.createContext(ZA),JA=V.createContext(P6);function U6(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bu}}}function z6(e,t){switch(t.type){case Je.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Je.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Je.DragEnd:case Je.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Je.RegisterDroppable:{const{element:i}=t,{id:r}=i,o=new bu(e.droppable.containers);return o.set(r,i),{...e,droppable:{...e.droppable,containers:o}}}case Je.SetDroppableDisabled:{const{id:i,key:r,disabled:o}=t,u=e.droppable.containers.get(i);if(!u||r!==u.key)return e;const c=new bu(e.droppable.containers);return c.set(i,{...u,disabled:o}),{...e,droppable:{...e.droppable,containers:c}}}case Je.UnregisterDroppable:{const{id:i,key:r}=t,o=e.droppable.containers.get(i);if(!o||r!==o.key)return e;const u=new bu(e.droppable.containers);return u.delete(i),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function B6(e){let{disabled:t}=e;const{active:i,activatorEvent:r,draggableNodes:o}=V.useContext(Ju),u=mf(r),c=mf(i?.id);return V.useEffect(()=>{if(!t&&!r&&u&&c!=null){if(!Uf(u)||document.activeElement===u.target)return;const d=o.get(c);if(!d)return;const{activatorNode:m,node:g}=d;if(!m.current&&!g.current)return;requestAnimationFrame(()=>{for(const y of[m.current,g.current]){if(!y)continue;const v=L5(y);if(v){v.focus();break}}})}},[r,t,o,c,u]),null}function WA(e,t){let{transform:i,...r}=t;return e!=null&&e.length?e.reduce((o,u)=>u({transform:o,...r}),i):i}function F6(e){return V.useMemo(()=>({draggable:{...Bh.draggable,...e?.draggable},droppable:{...Bh.droppable,...e?.droppable},dragOverlay:{...Bh.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function q6(e){let{activeNode:t,measure:i,initialRect:r,config:o=!0}=e;const u=V.useRef(!1),{x:c,y:d}=typeof o=="boolean"?{x:o,y:o}:o;Fi(()=>{if(!c&&!d||!t){u.current=!1;return}if(u.current||!r)return;const g=t?.node.current;if(!g||g.isConnected===!1)return;const y=i(g),v=UA(y,r);if(c||(v.x=0),d||(v.y=0),u.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const T=BA(g);T&&T.scrollBy({top:v.y,left:v.x})}},[t,c,d,r,i])}const Ff=V.createContext({...qi,scaleX:1,scaleY:1});var Ar;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ar||(Ar={}));const H6=V.memo(function(t){var i,r,o,u;let{id:c,accessibility:d,autoScroll:m=!0,children:g,sensors:y=L6,collisionDetection:v=J5,measuring:T,modifiers:w,...z}=t;const O=V.useReducer(z6,void 0,U6),[M,L]=O,[B,U]=F5(),[K,Y]=V.useState(Ar.Uninitialized),P=K===Ar.Initialized,{draggable:{active:A,nodes:x,translate:D},droppable:{containers:j}}=M,I=A!=null?x.get(A):null,H=V.useRef({initial:null,translated:null}),N=V.useMemo(()=>{var kt;return A!=null?{id:A,data:(kt=I?.data)!=null?kt:k6,rect:H}:null},[A,I]),Ct=V.useRef(null),[Lt,tt]=V.useState(null),[st,ft]=V.useState(null),yt=ku(z,Object.values(z)),pt=Zu("DndDescribedBy",c),F=V.useMemo(()=>j.getEnabled(),[j]),et=F6(T),{droppableRects:ut,measureDroppableContainers:ht,measuringScheduled:_t}=A6(F,{dragging:P,dependencies:[D.x,D.y],config:et.droppable}),vt=x6(x,A),lt=V.useMemo(()=>st?pf(st):null,[st]),Vt=Es(),Tt=w6(vt,et.draggable.measure);q6({activeNode:A!=null?x.get(A):null,config:Vt.layoutShiftCompensation,initialRect:Tt,measure:et.draggable.measure});const At=$T(vt,et.draggable.measure,Tt),Mn=$T(vt?vt.parentElement:null),Xe=V.useRef({activatorEvent:null,active:null,activeNode:vt,collisionRect:null,collisions:null,droppableRects:ut,draggableNodes:x,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),bn=j.getNodeFor((i=Xe.current.over)==null?void 0:i.id),Ae=j6({measure:et.dragOverlay.measure}),zn=(r=Ae.nodeRef.current)!=null?r:vt,_n=P?(o=Ae.rect)!=null?o:At:null,Hi=!!(Ae.nodeRef.current&&Ae.rect),Gi=D6(Hi?null:At),he=QA(zn?Un(zn):null),te=N6(P?bn??vt:null),Vn=O6(te),Ki=WA(w,{transform:{x:D.x-Gi.x,y:D.y-Gi.y,scaleX:1,scaleY:1},activatorEvent:st,active:N,activeNodeRect:At,containerNodeRect:Mn,draggingNodeRect:_n,over:Xe.current.over,overlayNodeRect:Ae.rect,scrollableAncestors:te,scrollableAncestorRects:Vn,windowRect:he}),bs=lt?jo(lt,D):null,je=M6(te),Ni=JT(je),Qt=JT(je,[At]),ne=jo(Ki,Ni),Le=_n?e6(_n,Ki):null,_s=N&&Le?v({active:N,collisionRect:Le,droppableRects:ut,droppableContainers:F,pointerCoordinates:bs}):null,Hr=PA(_s,"id"),[Zn,Gr]=V.useState(null),Jn=Hi?Ki:jo(Ki,Qt),Qe=W5(Jn,(u=Zn?.rect)!=null?u:null,At),Tn=V.useRef(null),pe=V.useCallback((kt,ge)=>{let{sensor:ye,options:ke}=ge;if(Ct.current==null)return;const En=x.get(Ct.current);if(!En)return;const nn=kt.nativeEvent,De=new ye({active:Ct.current,activeNode:En,event:nn,options:ke,context:Xe,onAbort(Ne){if(!x.get(Ne))return;const{onDragAbort:Sn}=yt.current,In={id:Ne};Sn?.(In),B({type:"onDragAbort",event:In})},onPending(Ne,xn,Sn,In){if(!x.get(Ne))return;const{onDragPending:On}=yt.current,ti={id:Ne,constraint:xn,initialCoordinates:Sn,offset:In};On?.(ti),B({type:"onDragPending",event:ti})},onStart(Ne){const xn=Ct.current;if(xn==null)return;const Sn=x.get(xn);if(!Sn)return;const{onDragStart:In}=yt.current,Wn={activatorEvent:nn,active:{id:xn,data:Sn.data,rect:H}};ou.unstable_batchedUpdates(()=>{In?.(Wn),Y(Ar.Initializing),L({type:Je.DragStart,initialCoordinates:Ne,active:xn}),B({type:"onDragStart",event:Wn}),tt(Tn.current),ft(nn)})},onMove(Ne){L({type:Je.DragMove,coordinates:Ne})},onEnd:Bn(Je.DragEnd),onCancel:Bn(Je.DragCancel)});Tn.current=De;function Bn(Ne){return async function(){const{active:Sn,collisions:In,over:Wn,scrollAdjustedTranslate:On}=Xe.current;let ti=null;if(Sn&&On){const{cancelDrop:un}=yt.current;ti={activatorEvent:nn,active:Sn,collisions:In,delta:On,over:Wn},Ne===Je.DragEnd&&typeof un=="function"&&await Promise.resolve(un(ti))&&(Ne=Je.DragCancel)}Ct.current=null,ou.unstable_batchedUpdates(()=>{L({type:Ne}),Y(Ar.Uninitialized),Gr(null),tt(null),ft(null),Tn.current=null;const un=Ne===Je.DragEnd?"onDragEnd":"onDragCancel";if(ti){const jn=yt.current[un];jn?.(ti),B({type:un,event:ti})}})}}},[x]),Va=V.useCallback((kt,ge)=>(ye,ke)=>{const En=ye.nativeEvent,nn=x.get(ke);if(Ct.current!==null||!nn||En.dndKit||En.defaultPrevented)return;const De={active:nn};kt(ye,ge.options,De)===!0&&(En.dndKit={capturedBy:ge.sensor},Ct.current=ke,pe(ye,ge))},[x,pe]),Ts=S6(y,Va);V6(y),Fi(()=>{At&&K===Ar.Initializing&&Y(Ar.Initialized)},[At,K]),V.useEffect(()=>{const{onDragMove:kt}=yt.current,{active:ge,activatorEvent:ye,collisions:ke,over:En}=Xe.current;if(!ge||!ye)return;const nn={active:ge,activatorEvent:ye,collisions:ke,delta:{x:ne.x,y:ne.y},over:En};ou.unstable_batchedUpdates(()=>{kt?.(nn),B({type:"onDragMove",event:nn})})},[ne.x,ne.y]),V.useEffect(()=>{const{active:kt,activatorEvent:ge,collisions:ye,droppableContainers:ke,scrollAdjustedTranslate:En}=Xe.current;if(!kt||Ct.current==null||!ge||!En)return;const{onDragOver:nn}=yt.current,De=ke.get(Hr),Bn=De&&De.rect.current?{id:De.id,rect:De.rect.current,data:De.data,disabled:De.disabled}:null,Ne={active:kt,activatorEvent:ge,collisions:ye,delta:{x:En.x,y:En.y},over:Bn};ou.unstable_batchedUpdates(()=>{Gr(Bn),nn?.(Ne),B({type:"onDragOver",event:Ne})})},[Hr]),Fi(()=>{Xe.current={activatorEvent:st,active:N,activeNode:vt,collisionRect:Le,collisions:_s,droppableRects:ut,draggableNodes:x,draggingNode:zn,draggingNodeRect:_n,droppableContainers:j,over:Zn,scrollableAncestors:te,scrollAdjustedTranslate:ne},H.current={initial:_n,translated:Le}},[N,vt,_s,Le,x,zn,_n,ut,j,Zn,te,ne]),_6({...Vt,delta:D,draggingRect:Le,pointerCoordinates:bs,scrollableAncestors:te,scrollableAncestorRects:Vn});const Ia=V.useMemo(()=>({active:N,activeNode:vt,activeNodeRect:At,activatorEvent:st,collisions:_s,containerNodeRect:Mn,dragOverlay:Ae,draggableNodes:x,droppableContainers:j,droppableRects:ut,over:Zn,measureDroppableContainers:ht,scrollableAncestors:te,scrollableAncestorRects:Vn,measuringConfiguration:et,measuringScheduled:_t,windowRect:he}),[N,vt,At,st,_s,Mn,Ae,x,j,ut,Zn,ht,te,Vn,et,_t,he]),ci=V.useMemo(()=>({activatorEvent:st,activators:Ts,active:N,activeNodeRect:At,ariaDescribedById:{draggable:pt},dispatch:L,draggableNodes:x,over:Zn,measureDroppableContainers:ht}),[st,Ts,N,At,L,pt,x,Zn,ht]);return Te.createElement(jA.Provider,{value:U},Te.createElement(Ju.Provider,{value:ci},Te.createElement(JA.Provider,{value:Ia},Te.createElement(Ff.Provider,{value:Qe},g)),Te.createElement(B6,{disabled:d?.restoreFocus===!1})),Te.createElement(G5,{...d,hiddenTextDescribedById:pt}));function Es(){const kt=Lt?.autoScrollEnabled===!1,ge=typeof m=="object"?m.enabled===!1:m===!1,ye=P&&!kt&&!ge;return typeof m=="object"?{...m,enabled:ye}:{enabled:ye}}}),G6=V.createContext(null),tE="button",K6="Draggable";function Y6(e){let{id:t,data:i,disabled:r=!1,attributes:o}=e;const u=Zu(K6),{activators:c,activatorEvent:d,active:m,activeNodeRect:g,ariaDescribedById:y,draggableNodes:v,over:T}=V.useContext(Ju),{role:w=tE,roleDescription:z="draggable",tabIndex:O=0}=o??{},M=m?.id===t,L=V.useContext(M?Ff:G6),[B,U]=df(),[K,Y]=df(),P=I6(c,t),A=ku(i);Fi(()=>(v.set(t,{id:t,key:u,node:B,activatorNode:K,data:A}),()=>{const D=v.get(t);D&&D.key===u&&v.delete(t)}),[v,t]);const x=V.useMemo(()=>({role:w,tabIndex:O,"aria-disabled":r,"aria-pressed":M&&w===tE?!0:void 0,"aria-roledescription":z,"aria-describedby":y.draggable}),[r,w,O,M,z,y.draggable]);return{active:m,activatorEvent:d,activeNodeRect:g,attributes:x,isDragging:M,listeners:r?void 0:P,node:B,over:T,setNodeRef:U,setActivatorNodeRef:Y,transform:L}}function tw(){return V.useContext(JA)}const X6="Droppable",Q6={timeout:25};function $6(e){let{data:t,disabled:i=!1,id:r,resizeObserverConfig:o}=e;const u=Zu(X6),{active:c,dispatch:d,over:m,measureDroppableContainers:g}=V.useContext(Ju),y=V.useRef({disabled:i}),v=V.useRef(!1),T=V.useRef(null),w=V.useRef(null),{disabled:z,updateMeasurementsFor:O,timeout:M}={...Q6,...o},L=ku(O??r),B=V.useCallback(()=>{if(!v.current){v.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{g(Array.isArray(L.current)?L.current:[L.current]),w.current=null},M)},[M]),U=Bf({callback:B,disabled:z||!c}),K=V.useCallback((x,D)=>{U&&(D&&(U.unobserve(D),v.current=!1),x&&U.observe(x))},[U]),[Y,P]=df(K),A=ku(t);return V.useEffect(()=>{!U||!Y.current||(U.disconnect(),v.current=!1,U.observe(Y.current))},[Y,U]),V.useEffect(()=>(d({type:Je.RegisterDroppable,element:{id:r,key:u,disabled:i,node:Y,rect:T,data:A}}),()=>d({type:Je.UnregisterDroppable,key:u,id:r})),[r]),V.useEffect(()=>{i!==y.current.disabled&&(d({type:Je.SetDroppableDisabled,id:r,key:u,disabled:i}),y.current.disabled=i)},[r,u,i,d]),{active:c,rect:T,isOver:m?.id===r,node:Y,over:m,setNodeRef:P}}function Z6(e){let{animation:t,children:i}=e;const[r,o]=V.useState(null),[u,c]=V.useState(null),d=mf(i);return!i&&!r&&d&&o(d),Fi(()=>{if(!u)return;const m=r?.key,g=r?.props.id;if(m==null||g==null){o(null);return}Promise.resolve(t(g,u)).then(()=>{o(null)})},[t,r,u]),Te.createElement(Te.Fragment,null,i,r?V.cloneElement(r,{ref:c}):null)}const J6={x:0,y:0,scaleX:1,scaleY:1};function W6(e){let{children:t}=e;return Te.createElement(Ju.Provider,{value:ZA},Te.createElement(Ff.Provider,{value:J6},t))}const t9={position:"fixed",touchAction:"none"},e9=e=>Uf(e)?"transform 250ms ease":void 0,n9=V.forwardRef((e,t)=>{let{as:i,activatorEvent:r,adjustScale:o,children:u,className:c,rect:d,style:m,transform:g,transition:y=e9}=e;if(!d)return null;const v=o?g:{...g,scaleX:1,scaleY:1},T={...t9,width:d.width,height:d.height,top:d.top,left:d.left,transform:Br.Transform.toString(v),transformOrigin:o&&r?Y5(r,d):void 0,transition:typeof y=="function"?y(r):y,...m};return Te.createElement(i,{className:c,style:T,ref:t},u)}),i9=e=>t=>{let{active:i,dragOverlay:r}=t;const o={},{styles:u,className:c}=e;if(u!=null&&u.active)for(const[d,m]of Object.entries(u.active))m!==void 0&&(o[d]=i.node.style.getPropertyValue(d),i.node.style.setProperty(d,m));if(u!=null&&u.dragOverlay)for(const[d,m]of Object.entries(u.dragOverlay))m!==void 0&&r.node.style.setProperty(d,m);return c!=null&&c.active&&i.node.classList.add(c.active),c!=null&&c.dragOverlay&&r.node.classList.add(c.dragOverlay),function(){for(const[m,g]of Object.entries(o))i.node.style.setProperty(m,g);c!=null&&c.active&&i.node.classList.remove(c.active)}},s9=e=>{let{transform:{initial:t,final:i}}=e;return[{transform:Br.Transform.toString(t)},{transform:Br.Transform.toString(i)}]},r9={duration:250,easing:"ease",keyframes:s9,sideEffects:i9({styles:{active:{opacity:"0"}}})};function a9(e){let{config:t,draggableNodes:i,droppableContainers:r,measuringConfiguration:o}=e;return Pf((u,c)=>{if(t===null)return;const d=i.get(u);if(!d)return;const m=d.node.current;if(!m)return;const g=$A(c);if(!g)return;const{transform:y}=Un(c).getComputedStyle(c),v=zA(y);if(!v)return;const T=typeof t=="function"?t:o9(t);return YA(m,o.draggable.measure),T({active:{id:u,data:d.data,node:m,rect:o.draggable.measure(m)},draggableNodes:i,dragOverlay:{node:c,rect:o.dragOverlay.measure(g)},droppableContainers:r,measuringConfiguration:o,transform:v})})}function o9(e){const{duration:t,easing:i,sideEffects:r,keyframes:o}={...r9,...e};return u=>{let{active:c,dragOverlay:d,transform:m,...g}=u;if(!t)return;const y={x:d.rect.left-c.rect.left,y:d.rect.top-c.rect.top},v={scaleX:m.scaleX!==1?c.rect.width*m.scaleX/d.rect.width:1,scaleY:m.scaleY!==1?c.rect.height*m.scaleY/d.rect.height:1},T={x:m.x-y.x,y:m.y-y.y,...v},w=o({...g,active:c,dragOverlay:d,transform:{initial:m,final:T}}),[z]=w,O=w[w.length-1];if(JSON.stringify(z)===JSON.stringify(O))return;const M=r?.({active:c,dragOverlay:d,...g}),L=d.node.animate(w,{duration:t,easing:i,fill:"forwards"});return new Promise(B=>{L.onfinish=()=>{M?.(),B()}})}}let eE=0;function l9(e){return V.useMemo(()=>{if(e!=null)return eE++,eE},[e])}const u9=Te.memo(e=>{let{adjustScale:t=!1,children:i,dropAnimation:r,style:o,transition:u,modifiers:c,wrapperElement:d="div",className:m,zIndex:g=999}=e;const{activatorEvent:y,active:v,activeNodeRect:T,containerNodeRect:w,draggableNodes:z,droppableContainers:O,dragOverlay:M,over:L,measuringConfiguration:B,scrollableAncestors:U,scrollableAncestorRects:K,windowRect:Y}=tw(),P=V.useContext(Ff),A=l9(v?.id),x=WA(c,{activatorEvent:y,active:v,activeNodeRect:T,containerNodeRect:w,draggingNodeRect:M.rect,over:L,overlayNodeRect:M.rect,scrollableAncestors:U,scrollableAncestorRects:K,transform:P,windowRect:Y}),D=Ly(T),j=a9({config:r,draggableNodes:z,droppableContainers:O,measuringConfiguration:B}),I=D?M.setRef:void 0;return Te.createElement(W6,null,Te.createElement(Z6,{animation:j},v&&A?Te.createElement(n9,{key:A,id:v.id,ref:I,as:d,activatorEvent:y,adjustScale:t,className:m,transition:u,rect:D,style:{zIndex:g,...o},transform:x},i):null))});function ew(e,t,i){const r=e.slice();return r.splice(i<0?r.length+i:i,0,r.splice(t,1)[0]),r}function c9(e,t){return e.reduce((i,r,o)=>{const u=t.get(r);return u&&(i[o]=u),i},Array(e.length))}function Dh(e){return e!==null&&e>=0}function h9(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function f9(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const ky=e=>{let{rects:t,activeIndex:i,overIndex:r,index:o}=e;const u=ew(t,r,i),c=t[o],d=u[o];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},nw="Sortable",iw=Te.createContext({activeIndex:-1,containerId:nw,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ky,disabled:{draggable:!1,droppable:!1}});function d9(e){let{children:t,id:i,items:r,strategy:o=ky,disabled:u=!1}=e;const{active:c,dragOverlay:d,droppableRects:m,over:g,measureDroppableContainers:y}=tw(),v=Zu(nw,i),T=d.rect!==null,w=V.useMemo(()=>r.map(P=>typeof P=="object"&&"id"in P?P.id:P),[r]),z=c!=null,O=c?w.indexOf(c.id):-1,M=g?w.indexOf(g.id):-1,L=V.useRef(w),B=!h9(w,L.current),U=M!==-1&&O===-1||B,K=f9(u);Fi(()=>{B&&z&&y(w)},[B,w,z,y]),V.useEffect(()=>{L.current=w},[w]);const Y=V.useMemo(()=>({activeIndex:O,containerId:v,disabled:K,disableTransforms:U,items:w,overIndex:M,useDragOverlay:T,sortedRects:c9(w,m),strategy:o}),[O,v,K.draggable,K.droppable,U,w,M,m,T,o]);return Te.createElement(iw.Provider,{value:Y},t)}const m9=e=>{let{id:t,items:i,activeIndex:r,overIndex:o}=e;return ew(i,r,o).indexOf(t)},p9=e=>{let{containerId:t,isSorting:i,wasDragging:r,index:o,items:u,newIndex:c,previousItems:d,previousContainerId:m,transition:g}=e;return!g||!r||d!==u&&o===c?!1:i?!0:c!==o&&t===m},g9={duration:200,easing:"ease"},sw="transform",y9=Br.Transition.toString({property:sw,duration:0,easing:"linear"}),v9={roleDescription:"sortable"};function b9(e){let{disabled:t,index:i,node:r,rect:o}=e;const[u,c]=V.useState(null),d=V.useRef(i);return Fi(()=>{if(!t&&i!==d.current&&r.current){const m=o.current;if(m){const g=tl(r.current,{ignoreTransform:!0}),y={x:m.left-g.left,y:m.top-g.top,scaleX:m.width/g.width,scaleY:m.height/g.height};(y.x||y.y)&&c(y)}}i!==d.current&&(d.current=i)},[t,i,r,o]),V.useEffect(()=>{u&&c(null)},[u]),u}function _9(e){let{animateLayoutChanges:t=p9,attributes:i,disabled:r,data:o,getNewIndex:u=m9,id:c,strategy:d,resizeObserverConfig:m,transition:g=g9}=e;const{items:y,containerId:v,activeIndex:T,disabled:w,disableTransforms:z,sortedRects:O,overIndex:M,useDragOverlay:L,strategy:B}=V.useContext(iw),U=T9(r,w),K=y.indexOf(c),Y=V.useMemo(()=>({sortable:{containerId:v,index:K,items:y},...o}),[v,o,K,y]),P=V.useMemo(()=>y.slice(y.indexOf(c)),[y,c]),{rect:A,node:x,isOver:D,setNodeRef:j}=$6({id:c,data:Y,disabled:U.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...m}}),{active:I,activatorEvent:H,activeNodeRect:N,attributes:Ct,setNodeRef:Lt,listeners:tt,isDragging:st,over:ft,setActivatorNodeRef:yt,transform:pt}=Y6({id:c,data:Y,attributes:{...v9,...i},disabled:U.draggable}),F=V5(j,Lt),et=!!I,ut=et&&!z&&Dh(T)&&Dh(M),ht=!L&&st,_t=ht&&ut?pt:null,lt=ut?_t??(d??B)({rects:O,activeNodeRect:N,activeIndex:T,overIndex:M,index:K}):null,Vt=Dh(T)&&Dh(M)?u({id:c,items:y,activeIndex:T,overIndex:M}):K,Tt=I?.id,At=V.useRef({activeId:Tt,items:y,newIndex:Vt,containerId:v}),Mn=y!==At.current.items,Xe=t({active:I,containerId:v,isDragging:st,isSorting:et,id:c,index:K,items:y,newIndex:At.current.newIndex,previousItems:At.current.items,previousContainerId:At.current.containerId,transition:g,wasDragging:At.current.activeId!=null}),bn=b9({disabled:!Xe,index:K,node:x,rect:A});return V.useEffect(()=>{et&&At.current.newIndex!==Vt&&(At.current.newIndex=Vt),v!==At.current.containerId&&(At.current.containerId=v),y!==At.current.items&&(At.current.items=y)},[et,Vt,v,y]),V.useEffect(()=>{if(Tt===At.current.activeId)return;if(Tt!=null&&At.current.activeId==null){At.current.activeId=Tt;return}const zn=setTimeout(()=>{At.current.activeId=Tt},50);return()=>clearTimeout(zn)},[Tt]),{active:I,activeIndex:T,attributes:Ct,data:Y,rect:A,index:K,newIndex:Vt,items:y,isOver:D,isSorting:et,isDragging:st,listeners:tt,node:x,overIndex:M,over:ft,setNodeRef:F,setActivatorNodeRef:yt,setDroppableNodeRef:j,setDraggableNodeRef:Lt,transform:bn??lt,transition:Ae()};function Ae(){if(bn||Mn&&At.current.newIndex===K)return y9;if(!(ht&&!Uf(H)||!g)&&(et||Xe))return Br.Transition.toString({...g,property:sw})}}function T9(e,t){var i,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(i=e?.draggable)!=null?i:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function vf(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const E9=[Gt.Down,Gt.Right,Gt.Up,Gt.Left],x9=(e,t)=>{let{context:{active:i,collisionRect:r,droppableRects:o,droppableContainers:u,over:c,scrollableAncestors:d}}=t;if(E9.includes(e.code)){if(e.preventDefault(),!i||!r)return;const m=[];u.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const T=o.get(v.id);if(T)switch(e.code){case Gt.Down:r.top<T.top&&m.push(v);break;case Gt.Up:r.top>T.top&&m.push(v);break;case Gt.Left:r.left>T.left&&m.push(v);break;case Gt.Right:r.left<T.left&&m.push(v);break}});const g=$5({collisionRect:r,droppableRects:o,droppableContainers:m});let y=PA(g,"id");if(y===c?.id&&g.length>1&&(y=g[1].id),y!=null){const v=u.get(i.id),T=u.get(y),w=T?o.get(T.id):null,z=T?.node.current;if(z&&w&&v&&T){const M=zf(z).some((P,A)=>d[A]!==P),L=rw(v,T),B=S9(v,T),U=M||!L?{x:0,y:0}:{x:B?r.width-w.width:0,y:B?r.height-w.height:0},K={x:w.left,y:w.top};return U.x&&U.y?K:Pu(K,U)}}}};function rw(e,t){return!vf(e)||!vf(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function S9(e,t){return!vf(e)||!vf(t)||!rw(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function A9({url:e,index:t,onEdit:i,onDelete:r,onClick:o}){const[u,c]=V.useState(!1),[d,m]=V.useState(!1),g=(()=>{try{return new URL(e.url).hostname.replace(/^www\./,"")}catch{return e.url}})(),[y,v]=V.useState(e.customFavicon||`https://www.google.com/s2/favicons?domain=${new URL(e.url).hostname}&sz=128`);V.useEffect(()=>{v(e.customFavicon||`https://www.google.com/s2/favicons?domain=${new URL(e.url).hostname}&sz=128`)},[e.url,e.customFavicon]);const T=()=>{e.customFavicon&&y===e.customFavicon?v(`https://www.google.com/s2/favicons?domain=${new URL(e.url).hostname}&sz=128`):y.includes("google.com")?v(`https://icons.duckduckgo.com/ip3/${new URL(e.url).hostname}.ico`):m(!0)};return S.jsxs(Dn.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:t*.05},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),className:"group relative",children:[S.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",onClick:o,className:"block p-3 rounded-xl bg-[var(--bg-input)] border border-transparent hover:border-[var(--border-subtle)] hover:bg-[var(--bg-card-hover)] transition-all duration-200 group-hover:shadow-lg flex items-center gap-3.5",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:`absolute inset-0 bg-white/20 blur-md rounded-lg transition-opacity duration-300 ${u?"opacity-100":"opacity-0"}`}),S.jsx("div",{className:"relative w-9 h-9 rounded-lg bg-[#18181b] border border-[var(--border-subtle)] flex items-center justify-center flex-shrink-0 z-10 transition-transform duration-200 group-hover:scale-105",children:d?S.jsx(s5,{className:"w-4 h-4 text-[var(--text-tertiary)]"}):S.jsx("img",{src:y,alt:"",className:"w-5 h-5 object-contain opacity-90 group-hover:opacity-100",onError:T})})]}),S.jsxs("div",{className:"flex-1 min-w-0 py-0.5",children:[S.jsxs("div",{className:"flex items-center justify-between gap-2",children:[S.jsx("h4",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:e.title}),S.jsx(PO,{className:"w-3.5 h-3.5 text-[var(--text-secondary)] opacity-0 -translate-y-1 translate-x-1 group-hover:opacity-100 group-hover:translate-y-0 group-hover:translate-x-0 transition-all duration-200"})]}),S.jsx("p",{className:"text-[11px] text-[var(--text-tertiary)] truncate group-hover:text-[var(--text-secondary)] transition-colors",children:g})]})]}),(i||r)&&S.jsxs("div",{className:`absolute top-2 right-2 flex gap-1 transition-all duration-200 ${u?"opacity-100 translate-y-0":"opacity-0 -translate-y-1"}`,children:[i&&S.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),i()},className:"p-1.5 rounded-lg bg-[var(--bg-card)] border border-[var(--border-subtle)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:border-[var(--text-primary)] shadow-lg",children:S.jsx(MA,{className:"w-3.5 h-3.5"})}),r&&S.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),r()},className:"p-1.5 rounded-lg bg-[var(--bg-card)] border border-[var(--border-subtle)] text-[var(--text-secondary)] hover:text-red-400 hover:border-red-400 shadow-lg",children:S.jsx(ff,{className:"w-3.5 h-3.5"})})]})]})}function bp({category:e,viewMode:t,onEdit:i,onDelete:r,onAddUrl:o,onEditUrl:u,onDeleteUrl:c,onTogglePin:d,onToggleCollapse:m,isReadOnly:g=!1,onIncrementClick:y,linkLayout:v="list"}){const[T,w]=V.useState(!1),[z,O]=V.useState(!1),{attributes:M,listeners:L,setNodeRef:B,transform:U,transition:K,isDragging:Y}=_9({id:e.id,disabled:g||e.pinned}),P={transform:Br.Transform.toString(U),transition:K,zIndex:Y?50:"auto",opacity:Y?.5:1,breakInside:"avoid-column",WebkitColumnBreakInside:"avoid-column"};return S.jsx("div",{ref:B,style:P,children:S.jsxs(Dn.div,{layout:!0,className:`card-premium rounded-2xl flex flex-col group ${Y?"shadow-2xl ring-2 ring-[var(--primary-500)]":""}`,onMouseEnter:()=>O(!0),onMouseLeave:()=>{O(!1),w(!1)},children:[S.jsxs("div",{className:"relative p-5 pl-12 flex items-center justify-between border-b border-[var(--border-subtle)]/50",children:[!g&&(e.pinned?S.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 p-1.5 text-amber-400",children:S.jsx(zT,{className:"w-5 h-5 fill-current"})}):S.jsx("div",{...M,...L,className:"absolute left-3 top-1/2 -translate-y-1/2 p-1.5 cursor-grab active:cursor-grabbing text-[var(--text-tertiary)] hover:text-[var(--text-secondary)] rounded-lg hover:bg-[var(--bg-input)]/50 opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-all duration-200",children:S.jsx(l5,{className:"w-5 h-5"})})),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("button",{onClick:()=>m&&m(),className:"w-10 h-10 rounded-xl bg-[var(--bg-input)] flex items-center justify-center text-[var(--text-secondary)] border border-[var(--border-subtle)] shadow-sm hover:bg-[var(--bg-card-hover)] transition-colors cursor-pointer",title:e.isCollapsed?"Expand":"Collapse",children:e.isCollapsed?S.jsx(UT,{className:"w-5 h-5 transition-transform duration-300"}):S.jsx(e5,{className:"w-5 h-5 transition-transform duration-300"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-[var(--text-primary)] tracking-tight",children:e.name}),S.jsxs("p",{className:"text-xs text-[var(--text-secondary)] font-medium flex items-center gap-2",children:[S.jsxs("span",{children:[e.urls.length," Links"]}),e.mode==="work"&&S.jsx(zO,{className:"w-3 h-3 text-[var(--text-tertiary)]"}),e.mode==="personal"&&S.jsx(D5,{className:"w-3 h-3 text-[var(--text-tertiary)]"})]})]})]}),S.jsxs("div",{className:"flex items-center -mr-2",children:[!g&&S.jsx(Dn.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:o,className:"btn-icon p-2 opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-opacity focus:opacity-100",title:"Add Link",children:S.jsx(fg,{className:"w-5 h-5"})}),!g&&S.jsxs("div",{className:"relative",children:[S.jsx("button",{onClick:()=>w(!T),className:`p-2 rounded-lg transition-all ${z?"opacity-100":"opacity-100 lg:opacity-0"} hover:bg-[var(--bg-card-hover)] text-[var(--text-tertiary)] hover:text-[var(--text-primary)]`,children:S.jsx(WO,{className:"w-5 h-5"})}),S.jsx(Cr,{children:T&&S.jsxs(Dn.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},className:"absolute right-0 top-full mt-2 w-48 py-1 rounded-xl bg-[#1a1a1f] border border-[var(--border-subtle)] shadow-2xl z-20 overflow-hidden",children:[S.jsxs("button",{onClick:()=>{w(!1),i()},className:"w-full px-4 py-2.5 text-left text-sm text-[var(--text-secondary)] hover:bg-[var(--bg-card-hover)] hover:text-[var(--text-primary)] flex items-center gap-2",children:[S.jsx(MA,{className:"w-4 h-4"})," Rename Collection"]}),S.jsxs("button",{onClick:()=>{w(!1),d&&d()},className:`w-full px-4 py-2.5 text-left text-sm flex items-center gap-2 ${e.pinned?"text-amber-400 hover:bg-amber-500/10":"text-[var(--text-secondary)] hover:bg-[var(--bg-card-hover)] hover:text-[var(--text-primary)]"}`,children:[S.jsx(zT,{className:`w-4 h-4 ${e.pinned?"fill-current":""}`})," ",e.pinned?"Unpin Collection":"Pin Collection"]}),S.jsxs("button",{onClick:()=>{w(!1),r()},className:"w-full px-4 py-2.5 text-left text-sm text-red-400 hover:bg-red-500/10 flex items-center gap-2",children:[S.jsx(VA,{className:"w-4 h-4"})," Delete Collection"]})]})})]})]})]}),S.jsx(Cr,{initial:!1,children:!e.isCollapsed&&S.jsx(Dn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:S.jsx("div",{className:"p-5 flex-1 relative",children:S.jsx(Cr,{mode:"popLayout",children:e.urls.length===0?S.jsxs("button",{onClick:g?void 0:o,disabled:g,className:`w-full h-32 rounded-xl border-2 border-dashed border-[var(--border-subtle)] flex flex-col items-center justify-center gap-3 group/empty transition-all duration-300 ${g?"cursor-default opacity-50":"cursor-pointer hover:border-[var(--primary-500)]/50 hover:bg-[var(--bg-card-hover)]"}`,children:[S.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${g?"bg-[var(--bg-input)] text-[var(--text-tertiary)]":"bg-[var(--bg-input)] text-[var(--text-secondary)] group-hover/empty:bg-[var(--primary-500)]/10 group-hover/empty:text-[var(--primary-500)] group-hover/empty:scale-110"}`,children:g?S.jsx(UT,{className:"w-5 h-5"}):S.jsx(fg,{className:"w-5 h-5"})}),S.jsx("p",{className:`text-xs font-medium transition-colors ${g?"text-[var(--text-tertiary)]":"text-[var(--text-secondary)] group-hover/empty:text-[var(--primary-500)]"}`,children:g?"Empty Collection":"Add your first link"})]}):S.jsx("div",{className:`grid gap-3 ${v==="grid"?"grid-cols-2":"grid-cols-1"}`,children:S.jsx(Cr,{initial:!1,mode:"popLayout",children:e.urls.map((A,x)=>S.jsx(A9,{url:A,index:x,viewMode:t,onEdit:g?null:()=>u(A),onDelete:g?null:()=>c(A.id),onClick:()=>y&&y(e.id,A.id)},A.id))})})})})})})]})})}function w9({team:e,onView:t,onDelete:i}){return S.jsxs(Dn.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"card-premium rounded-2xl p-5 flex flex-col justify-between h-full group relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-start justify-between mb-4",children:[S.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-500/10 flex items-center justify-center text-indigo-400 border border-indigo-500/20",children:S.jsx(dg,{className:"w-5 h-5"})}),S.jsx("button",{onClick:r=>{r.stopPropagation(),i()},className:"p-2 rounded-lg hover:bg-red-500/10 text-[var(--text-tertiary)] hover:text-red-400 transition-colors",title:"Leave Team",children:S.jsx(VA,{className:"w-4 h-4"})})]}),S.jsx("h3",{className:"text-lg font-semibold text-[var(--text-primary)] mb-1",children:e.name}),S.jsxs("p",{className:"text-xs text-[var(--text-secondary)] flex items-center gap-2 mb-6",children:[S.jsx(FO,{className:"w-3 h-3"}),"Joined ",new Date(e.joinedAt).toLocaleDateString()]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs("div",{className:"text-xs font-medium px-2 py-1 rounded-md bg-[var(--bg-card-hover)] text-[var(--text-secondary)] border border-[var(--border-subtle)]",children:[e.categories.length," Collections"]}),S.jsxs("div",{className:"text-xs font-medium px-2 py-1 rounded-md bg-[var(--bg-card-hover)] text-[var(--text-secondary)] border border-[var(--border-subtle)]",children:[e.categories.reduce((r,o)=>r+o.urls.length,0)," Links"]})]})]}),S.jsxs("button",{onClick:t,className:"mt-6 w-full py-2.5 rounded-xl bg-[var(--bg-card-hover)] hover:bg-[var(--border-subtle)] border border-[var(--border-subtle)] text-sm font-medium transition-colors flex items-center justify-center gap-2 group-hover:border-indigo-500/30 group-hover:text-indigo-400",children:["View Team Dashboard ",S.jsx(LO,{className:"w-4 h-4"})]})]})}function ya({children:e,content:t,side:i="bottom"}){const[r,o]=V.useState(!1),u={hidden:{opacity:0,scale:.9,y:i==="bottom"?-5:5},visible:{opacity:1,scale:1,y:0}},c={top:"bottom-full mb-2 left-1/2 -translate-x-1/2",bottom:"top-full mt-2 left-1/2 -translate-x-1/2",left:"right-full mr-2 top-1/2 -translate-y-1/2",right:"left-full ml-2 top-1/2 -translate-y-1/2"};return S.jsxs("div",{className:"relative flex items-center justify-center",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[e,S.jsx(Cr,{children:r&&S.jsx(Dn.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:u,transition:{duration:.15,ease:"easeOut"},className:`absolute z-50 whitespace-nowrap px-2.5 py-1.5 rounded-lg text-[11px] font-medium bg-[var(--bg-card)] border border-[var(--border-subtle)] text-[var(--text-primary)] shadow-xl pointer-events-none ${c[i]}`,children:t})})]})}function C9({categories:e,teams:t=[],onAddCategory:i,onEditCategory:r,onDeleteCategory:o,onAddUrl:u,onEditUrl:c,onDeleteUrl:d,onDeleteTeam:m,onOpenCreateTeam:g,onOpenJoinTeam:y,syncState:v,onEnableSync:T,onRecoverAccount:w,onPullFromCloud:z,onDisconnect:O,onIncrementClick:M,onOpenSettings:L,reorderCategories:B,onTogglePin:U,onToggleCollapse:K,linkLayout:Y}){const[P]=V.useState("grid"),[A,x]=V.useState(!1),[D,j]=V.useState(null),[I,H]=V.useState(""),[N,Ct]=V.useState("all"),[Lt,tt]=V.useState(null),[st,ft]=V.useState(()=>{if(typeof window>"u")return 1;const lt=window.innerWidth;return lt>=1536?4:lt>=1280?3:lt>=768?2:1});V.useEffect(()=>{const lt=()=>{const Vt=window.innerWidth;Vt>=1536?ft(4):Vt>=1280?ft(3):Vt>=768?ft(2):ft(1)};return lt(),window.addEventListener("resize",lt),()=>window.removeEventListener("resize",lt)},[]);const yt=K5(FT(jy,{activationConstraint:{distance:8}}),FT(Iy,{coordinateGetter:x9})),pt=D?t.find(lt=>lt.id===D):null,F=pt?pt.categories:e,et=!!pt,ht=F.filter(lt=>N==="all"?!0:lt.mode===N||lt.mode==="neutral"||!lt.mode).map(lt=>{const Vt=lt.name.toLowerCase().includes(I.toLowerCase()),Tt=lt.urls.filter(At=>At.title.toLowerCase().includes(I.toLowerCase())||At.url.toLowerCase().includes(I.toLowerCase()));return Vt?{...lt}:{...lt,urls:Tt}}).filter(lt=>lt.name.toLowerCase().includes(I.toLowerCase())||lt.urls.length>0),_t=lt=>{tt(lt.active.id)},vt=lt=>{const{active:Vt,over:Tt}=lt;Vt.id!==Tt?.id&&B(Vt.id,Tt.id),tt(null)};return S.jsxs("div",{className:"min-h-screen pb-20",children:[S.jsx("header",{className:"sticky top-0 z-40 bg-black/40 backdrop-blur-2xl border-b border-[var(--border-subtle)] transition-all duration-300 supports-[backdrop-filter]:bg-black/20",children:S.jsxs("div",{className:"max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between gap-4",children:[S.jsx(Cr,{children:A&&S.jsxs(Dn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute inset-0 z-50 bg-[var(--bg-card)] flex items-center px-4 gap-3 md:hidden",children:[S.jsxs("div",{className:"relative flex-1",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-[var(--text-tertiary)]",children:S.jsx(au,{className:"w-4 h-4"})}),S.jsx("input",{type:"text",value:I,onChange:lt=>H(lt.target.value),placeholder:"Search...",autoFocus:!0,className:"w-full pl-9 pr-4 py-2 rounded-lg bg-[var(--bg-input)] border border-[var(--border-subtle)] focus:border-[var(--primary-500)] focus:ring-1 focus:ring-[var(--primary-500)] text-sm outline-none"})]}),S.jsx("button",{onClick:()=>{x(!1),H("")},className:"p-2 text-[var(--text-secondary)] hover:bg-[var(--bg-card-hover)] rounded-lg",children:S.jsx(ff,{className:"w-5 h-5"})})]})}),S.jsxs("div",{className:`flex items-center gap-3 transition-opacity duration-200 ${A?"opacity-0 md:opacity-100":"opacity-100"} min-w-0 md:min-w-[240px]`,children:[pt?S.jsxs(Dn.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},onClick:()=>j(null),className:"group flex items-center gap-2 p-1.5 pr-3 rounded-lg hover:bg-[var(--bg-card-hover)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-all",children:[S.jsx(OO,{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform"}),S.jsx("span",{className:"text-sm font-medium hidden sm:block",children:"Back"})]}):S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-8 h-8 rounded-xl bg-[var(--primary-500)] flex items-center justify-center shadow-lg shadow-[var(--primary-500)]/20 shrink-0",children:S.jsx(hg,{className:"w-4 h-4 text-[var(--text-on-primary)]"})}),S.jsxs("h1",{className:"text-lg font-bold tracking-tight text-[var(--text-primary)] hidden sm:block",children:["Link",S.jsx("span",{className:"text-[var(--text-secondary)]",children:"Dash"})]})]}),pt&&S.jsx("div",{className:"h-4 w-px bg-[var(--border-subtle)] mx-2 hidden sm:block"}),pt&&S.jsx("h1",{className:"text-lg font-bold tracking-tight text-[var(--text-primary)] truncate",children:pt.name})]}),S.jsx("div",{className:"flex-1 max-w-2xl hidden md:block",children:S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-[var(--text-tertiary)] group-focus-within:text-[var(--primary-500)] transition-colors",children:S.jsx(au,{className:"w-4 h-4"})}),S.jsx("input",{type:"text",value:I,onChange:lt=>H(lt.target.value),placeholder:"Search links, commands, or teams (Cmd+K)...",className:"w-full pl-11 pr-4 py-2.5 rounded-xl bg-[var(--bg-input)]/50 border border-[var(--border-subtle)] hover:border-[var(--border-hover)] focus:border-[var(--primary-500)]/50 focus:bg-[var(--bg-card)] focus:ring-4 focus:ring-[var(--primary-500)]/10 transition-all text-sm text-[var(--text-primary)] placeholder-[var(--text-tertiary)] outline-none"}),S.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:S.jsxs("kbd",{className:"hidden lg:inline-flex items-center gap-1 px-1.5 py-0.5 font-sans text-[10px] font-medium text-[var(--text-tertiary)] opacity-50 bg-transparent border-none shadow-none ring-0",children:[S.jsx("span",{className:"text-xs",children:""}),"K"]})})]})}),S.jsxs("div",{className:`flex items-center justify-end gap-2 md:gap-3 transition-opacity duration-200 ${A?"opacity-0 md:opacity-100":"opacity-100"} min-w-0 md:min-w-[240px]`,children:[S.jsx("button",{onClick:()=>x(!0),className:"md:hidden p-2 rounded-lg text-[var(--text-secondary)] hover:bg-[var(--bg-card-hover)] hover:text-[var(--text-primary)]",children:S.jsx(au,{className:"w-5 h-5"})}),S.jsx("div",{className:"hidden xl:flex items-center p-1 rounded-xl bg-[var(--bg-input)]/50 border border-[var(--border-subtle)]",children:["all","work","personal"].map(lt=>S.jsx("button",{onClick:()=>Ct(lt),className:`px-3 py-1.5 rounded-[8px] text-[11px] font-semibold uppercase tracking-wider transition-all ${N===lt?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm ring-1 ring-white/5":"text-[var(--text-tertiary)] hover:text-[var(--text-secondary)] hover:bg-[var(--bg-card-hover)]/50"}`,children:lt},lt))}),S.jsx("div",{className:"w-px h-6 bg-[var(--border-subtle)] hidden xl:block"}),!pt&&S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(ya,{content:"Join an existing team",children:S.jsx("button",{onClick:y,className:"h-9 w-9 flex items-center justify-center rounded-lg hover:bg-[var(--bg-card-hover)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-all",title:"Join Team",children:S.jsx(g5,{className:"w-4 h-4"})})}),S.jsx(ya,{content:"Create a new team",children:S.jsx("button",{onClick:g,className:"h-9 w-9 flex items-center justify-center rounded-lg hover:bg-[var(--bg-card-hover)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-all",title:"Create Team",children:S.jsx(dg,{className:"w-4 h-4"})})})]}),!pt&&(v?.status==="synced"?S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(ya,{content:"Refresh from Cloud",children:S.jsx("button",{onClick:z,className:"h-9 w-9 flex items-center justify-center rounded-lg text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 transition-all",title:"Refresh from Cloud",children:S.jsx(T5,{className:"w-4 h-4"})})}),S.jsx(ya,{content:"Synced (Click to Disconnect)",children:S.jsxs("button",{onClick:O,className:"h-9 w-9 flex items-center justify-center rounded-lg text-green-400 hover:bg-red-500/10 hover:text-red-400 transition-all group",title:"Synced (Click to Disconnect)",children:[S.jsx(Lu,{className:"w-4 h-4 group-hover:hidden"}),S.jsx(ff,{className:"w-4 h-4 hidden group-hover:block"})]})})]}):S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(ya,{content:"Enable Cloud Sync",children:S.jsx("button",{onClick:T,className:"h-9 w-9 flex items-center justify-center rounded-lg text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-card-hover)] transition-all",title:"Enable Cloud Sync",children:S.jsx(Lu,{className:"w-4 h-4"})})}),S.jsx(ya,{content:"Recover Data",children:S.jsx("button",{onClick:w,className:"h-9 w-9 flex items-center justify-center rounded-lg text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-card-hover)] transition-all",title:"Recover Data",children:S.jsx(ZO,{className:"w-4 h-4"})})})]})),S.jsx(ya,{content:"Dashboard Settings",children:S.jsx("button",{onClick:L,className:"h-9 w-9 flex items-center justify-center rounded-lg hover:bg-[var(--bg-card-hover)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-all",title:"Settings",children:S.jsx(S5,{className:"w-4 h-4"})})}),S.jsxs(Dn.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:pt?void 0:i,disabled:et,className:`ml-2 h-9 px-4 rounded-xl bg-[var(--primary-500)] text-[var(--text-on-primary)] text-sm font-semibold shadow-lg shadow-[var(--primary-500)]/20 flex items-center gap-2 border border-white/10 ${pt?"opacity-50 grayscale":"hover:brightness-110"}`,children:[S.jsx(fg,{className:"w-4 h-4"}),S.jsx("span",{className:"hidden sm:inline",children:"New"})]})]})]})}),S.jsxs("main",{className:"max-w-[1600px] mx-auto px-4 sm:px-8 py-8 space-y-12",children:[!pt&&!I&&t.length>0&&S.jsxs("section",{children:[S.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:[S.jsx(dg,{className:"w-4 h-4"})," Joined Teams"]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(lt=>S.jsx(w9,{team:lt,onView:()=>j(lt.id),onDelete:()=>m(lt.id)},lt.id))})]}),S.jsxs("section",{children:[!pt&&t.length>0&&!I&&S.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:[S.jsx(hg,{className:"w-4 h-4"})," My Collections"]}),pt?S.jsx("div",{className:`grid gap-6 ${P==="grid"?"grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4":"grid-cols-1 max-w-4xl mx-auto"}`,children:ht.map(lt=>S.jsx(bp,{category:lt,viewMode:P,isReadOnly:!0,onIncrementClick:M},lt.id))}):S.jsxs(H6,{sensors:yt,collisionDetection:Q5,onDragStart:_t,onDragEnd:vt,children:[S.jsxs(d9,{items:ht.filter(lt=>!lt.pinned).map(lt=>lt.id),strategy:ky,children:[S.jsx(Dn.div,{layout:!0,className:`flex gap-6 items-start ${P==="grid"?"":"max-w-4xl mx-auto"}`,children:Array.from({length:st}).map((lt,Vt)=>S.jsx("div",{className:"flex-1 flex flex-col gap-6",children:S.jsx(Cr,{mode:"popLayout",children:ht.map((Tt,At)=>({...Tt,originalIndex:At})).filter((Tt,At)=>At%st===Vt).map(Tt=>S.jsx(Dn.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{duration:.3,delay:Tt.originalIndex*.05},className:"break-inside-avoid",children:S.jsx(bp,{category:Tt,viewMode:P,onEdit:()=>r(Tt),onDelete:()=>o(Tt.id),onAddUrl:()=>u(Tt.id),onEditUrl:At=>c(Tt.id,At),onDeleteUrl:At=>d(Tt.id,At),onTogglePin:()=>U(Tt.id),onToggleCollapse:()=>K(Tt.id),isReadOnly:!1,onIncrementClick:M,linkLayout:Y})},Tt.id))})},Vt))}),ht.length===0&&S.jsx("div",{className:"w-full",style:{columnSpan:"all"},children:S.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-[var(--text-tertiary)]",children:[S.jsx(au,{className:"w-12 h-12 mb-4 opacity-30"}),S.jsx("p",{className:"text-lg font-medium",children:I?`No matches for "${I}"`:"No collections found"})]})})]}),S.jsx(u9,{children:Lt?S.jsx("div",{className:"opacity-90 scale-105 cursor-grabbing",children:S.jsx(bp,{category:e.find(lt=>lt.id===Lt),viewMode:P,isReadOnly:!0})}):null})]})]})]})]})}const R9={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}}},D9={hidden:{opacity:0,scale:.95,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",damping:30,stiffness:300}},exit:{opacity:0,scale:.95,y:10,transition:{duration:.15}}};function qr({isOpen:e,onClose:t,title:i,children:r}){return V.useEffect(()=>{const o=u=>u.key==="Escape"&&t();return e&&(document.body.style.overflow="hidden",window.addEventListener("keydown",o)),()=>{document.body.style.overflow="unset",window.removeEventListener("keydown",o)}},[e,t]),S.jsx(Cr,{children:e&&S.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[S.jsx(Dn.div,{variants:R9,initial:"hidden",animate:"visible",exit:"exit",onClick:t,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),S.jsxs(Dn.div,{variants:D9,initial:"hidden",animate:"visible",exit:"exit",className:"relative w-full max-w-md glass-panel rounded-2xl shadow-2xl overflow-hidden bg-[#09090b]",onClick:o=>o.stopPropagation(),children:[S.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-[var(--border-subtle)] bg-[var(--bg-card)]",children:[S.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:i}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"hidden sm:inline-flex items-center gap-1 text-[10px] text-[var(--text-tertiary)] border border-[var(--border-subtle)] px-1.5 py-0.5 rounded font-mono",children:"ESC"}),S.jsx("button",{onClick:t,className:"p-1 rounded-md hover:bg-[var(--bg-card-hover)] text-[var(--text-secondary)] hover:text-white transition-colors",children:S.jsx(ff,{className:"w-5 h-5"})})]})]}),S.jsx("div",{className:"p-6",children:r})]})]})})}function N9({isOpen:e,onClose:t,onSubmit:i,editData:r}){return S.jsx(qr,{isOpen:e,onClose:t,title:r?"Rename Collection":"New Collection",children:S.jsxs("form",{onSubmit:o=>{o.preventDefault();const u=new FormData(o.target),c=u.get("name").toString().trim(),d=u.get("mode").toString();c&&(i(c,d),t())},className:"flex flex-col gap-5",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"col-span-2",children:[S.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Collection Name"}),S.jsx("input",{name:"name",defaultValue:r?.name,placeholder:"e.g. Development...",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm",autoFocus:!0})]}),S.jsxs("div",{className:"col-span-2",children:[S.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Focus Mode"}),S.jsx("div",{className:"flex gap-2",children:["neutral","work","personal"].map(o=>S.jsxs("label",{className:"flex-1 cursor-pointer",children:[S.jsx("input",{type:"radio",name:"mode",value:o,defaultChecked:r?r.mode===o:o==="neutral",className:"hidden peer"}),S.jsx("div",{className:"h-10 rounded-lg border border-[var(--border-subtle)] bg-[var(--bg-input)] flex items-center justify-center text-sm capitalize text-[var(--text-secondary)] peer-checked:bg-[var(--text-primary)] peer-checked:text-[var(--bg-main)] peer-checked:font-semibold transition-all hover:bg-[var(--bg-card-hover)]",children:o})]},o))})]})]}),S.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[S.jsx("button",{type:"button",onClick:t,className:"px-4 py-2.5 rounded-xl text-sm font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-card-hover)] transition-colors",children:"Cancel"}),S.jsx("button",{type:"submit",className:"btn-primary px-6 py-2.5 rounded-xl text-sm shadow-lg shadow-white/10",children:r?"Save Changes":"Create Collection"})]})]})})}function M9({isOpen:e,onClose:t,onSubmit:i,editData:r,categoryName:o,prefillUrl:u=""}){const[c,d]=V.useState(""),[m,g]=V.useState(""),[y,v]=V.useState("");return V.useEffect(()=>{if(e){if(r)d(r.title),g(r.url),v(r.customFavicon||"");else if(d(""),g(u||""),v(""),u)try{const T=new URL(u).hostname;d(T.replace("www.",""))}catch{}}},[e,r,u]),S.jsx(qr,{isOpen:e,onClose:t,title:r?"Edit Link":`Add to ${o}`,children:S.jsxs("form",{onSubmit:T=>{T.preventDefault();const w=new FormData(T.target),z=w.get("title").toString().trim();let O=w.get("url").toString().trim();const M=w.get("customFavicon").toString().trim()||null;O.match(/^https?:\/\//)||(O="https://"+O),z&&O&&(i(z,O,M),t())},className:"flex flex-col gap-5",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Title"}),S.jsx("input",{name:"title",value:c,onChange:T=>d(T.target.value),placeholder:"e.g. GitHub Repository",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm",autoFocus:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"URL"}),S.jsx("input",{name:"url",value:m,onChange:T=>g(T.target.value),placeholder:"https://example.com",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm font-mono text-[var(--text-tertiary)] focus:text-[var(--text-primary)]"})]}),S.jsxs("div",{children:[S.jsxs("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:["Icon URL ",S.jsx("span",{className:"text-[var(--text-tertiary)] lowercase font-normal",children:"(optional)"})]}),S.jsx("input",{name:"customFavicon",value:y,onChange:T=>v(T.target.value),placeholder:"https://example.com/icon.png",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm font-mono text-[var(--text-tertiary)] focus:text-[var(--text-primary)]"})]}),S.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[S.jsx("button",{type:"button",onClick:t,className:"px-4 py-2.5 rounded-xl text-sm font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-card-hover)] transition-colors",children:"Cancel"}),S.jsx("button",{type:"submit",className:"btn-primary px-6 py-2.5 rounded-xl text-sm shadow-lg shadow-white/10",children:r?"Save Changes":"Add Link"})]})]})})}function V9({isOpen:e,onClose:t,onConfirm:i,title:r,message:o,actionLabel:u="Delete"}){return S.jsx(qr,{isOpen:e,onClose:t,title:r,children:S.jsxs("div",{className:"flex flex-col gap-6",children:[S.jsx("p",{className:"text-sm text-[var(--text-secondary)] leading-relaxed",children:o}),S.jsxs("div",{className:"flex justify-end gap-3",children:[S.jsx("button",{onClick:t,className:"px-4 py-2.5 rounded-xl text-sm font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-card-hover)] transition-colors",children:"Cancel"}),S.jsx("button",{onClick:()=>{i(),t()},className:"btn-primary px-6 py-2.5 rounded-xl text-sm shadow-lg shadow-red-500/10 bg-red-600 hover:bg-red-500 text-white border-none",style:{background:"#dc2626",color:"white"},children:u})]})]})})}var _p={exports:{}},nE;function I9(){return nE||(nE=1,(function(e){var t=(function(){var i=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",u={};function c(m,g){if(!u[m]){u[m]={};for(var y=0;y<m.length;y++)u[m][m.charAt(y)]=y}return u[m][g]}var d={compressToBase64:function(m){if(m==null)return"";var g=d._compress(m,6,function(y){return r.charAt(y)});switch(g.length%4){default:case 0:return g;case 1:return g+"===";case 2:return g+"==";case 3:return g+"="}},decompressFromBase64:function(m){return m==null?"":m==""?null:d._decompress(m.length,32,function(g){return c(r,m.charAt(g))})},compressToUTF16:function(m){return m==null?"":d._compress(m,15,function(g){return i(g+32)})+" "},decompressFromUTF16:function(m){return m==null?"":m==""?null:d._decompress(m.length,16384,function(g){return m.charCodeAt(g)-32})},compressToUint8Array:function(m){for(var g=d.compress(m),y=new Uint8Array(g.length*2),v=0,T=g.length;v<T;v++){var w=g.charCodeAt(v);y[v*2]=w>>>8,y[v*2+1]=w%256}return y},decompressFromUint8Array:function(m){if(m==null)return d.decompress(m);for(var g=new Array(m.length/2),y=0,v=g.length;y<v;y++)g[y]=m[y*2]*256+m[y*2+1];var T=[];return g.forEach(function(w){T.push(i(w))}),d.decompress(T.join(""))},compressToEncodedURIComponent:function(m){return m==null?"":d._compress(m,6,function(g){return o.charAt(g)})},decompressFromEncodedURIComponent:function(m){return m==null?"":m==""?null:(m=m.replace(/ /g,"+"),d._decompress(m.length,32,function(g){return c(o,m.charAt(g))}))},compress:function(m){return d._compress(m,16,function(g){return i(g)})},_compress:function(m,g,y){if(m==null)return"";var v,T,w={},z={},O="",M="",L="",B=2,U=3,K=2,Y=[],P=0,A=0,x;for(x=0;x<m.length;x+=1)if(O=m.charAt(x),Object.prototype.hasOwnProperty.call(w,O)||(w[O]=U++,z[O]=!0),M=L+O,Object.prototype.hasOwnProperty.call(w,M))L=M;else{if(Object.prototype.hasOwnProperty.call(z,L)){if(L.charCodeAt(0)<256){for(v=0;v<K;v++)P=P<<1,A==g-1?(A=0,Y.push(y(P)),P=0):A++;for(T=L.charCodeAt(0),v=0;v<8;v++)P=P<<1|T&1,A==g-1?(A=0,Y.push(y(P)),P=0):A++,T=T>>1}else{for(T=1,v=0;v<K;v++)P=P<<1|T,A==g-1?(A=0,Y.push(y(P)),P=0):A++,T=0;for(T=L.charCodeAt(0),v=0;v<16;v++)P=P<<1|T&1,A==g-1?(A=0,Y.push(y(P)),P=0):A++,T=T>>1}B--,B==0&&(B=Math.pow(2,K),K++),delete z[L]}else for(T=w[L],v=0;v<K;v++)P=P<<1|T&1,A==g-1?(A=0,Y.push(y(P)),P=0):A++,T=T>>1;B--,B==0&&(B=Math.pow(2,K),K++),w[M]=U++,L=String(O)}if(L!==""){if(Object.prototype.hasOwnProperty.call(z,L)){if(L.charCodeAt(0)<256){for(v=0;v<K;v++)P=P<<1,A==g-1?(A=0,Y.push(y(P)),P=0):A++;for(T=L.charCodeAt(0),v=0;v<8;v++)P=P<<1|T&1,A==g-1?(A=0,Y.push(y(P)),P=0):A++,T=T>>1}else{for(T=1,v=0;v<K;v++)P=P<<1|T,A==g-1?(A=0,Y.push(y(P)),P=0):A++,T=0;for(T=L.charCodeAt(0),v=0;v<16;v++)P=P<<1|T&1,A==g-1?(A=0,Y.push(y(P)),P=0):A++,T=T>>1}B--,B==0&&(B=Math.pow(2,K),K++),delete z[L]}else for(T=w[L],v=0;v<K;v++)P=P<<1|T&1,A==g-1?(A=0,Y.push(y(P)),P=0):A++,T=T>>1;B--,B==0&&(B=Math.pow(2,K),K++)}for(T=2,v=0;v<K;v++)P=P<<1|T&1,A==g-1?(A=0,Y.push(y(P)),P=0):A++,T=T>>1;for(;;)if(P=P<<1,A==g-1){Y.push(y(P));break}else A++;return Y.join("")},decompress:function(m){return m==null?"":m==""?null:d._decompress(m.length,32768,function(g){return m.charCodeAt(g)})},_decompress:function(m,g,y){var v=[],T=4,w=4,z=3,O="",M=[],L,B,U,K,Y,P,A,x={val:y(0),position:g,index:1};for(L=0;L<3;L+=1)v[L]=L;for(U=0,Y=Math.pow(2,2),P=1;P!=Y;)K=x.val&x.position,x.position>>=1,x.position==0&&(x.position=g,x.val=y(x.index++)),U|=(K>0?1:0)*P,P<<=1;switch(U){case 0:for(U=0,Y=Math.pow(2,8),P=1;P!=Y;)K=x.val&x.position,x.position>>=1,x.position==0&&(x.position=g,x.val=y(x.index++)),U|=(K>0?1:0)*P,P<<=1;A=i(U);break;case 1:for(U=0,Y=Math.pow(2,16),P=1;P!=Y;)K=x.val&x.position,x.position>>=1,x.position==0&&(x.position=g,x.val=y(x.index++)),U|=(K>0?1:0)*P,P<<=1;A=i(U);break;case 2:return""}for(v[3]=A,B=A,M.push(A);;){if(x.index>m)return"";for(U=0,Y=Math.pow(2,z),P=1;P!=Y;)K=x.val&x.position,x.position>>=1,x.position==0&&(x.position=g,x.val=y(x.index++)),U|=(K>0?1:0)*P,P<<=1;switch(A=U){case 0:for(U=0,Y=Math.pow(2,8),P=1;P!=Y;)K=x.val&x.position,x.position>>=1,x.position==0&&(x.position=g,x.val=y(x.index++)),U|=(K>0?1:0)*P,P<<=1;v[w++]=i(U),A=w-1,T--;break;case 1:for(U=0,Y=Math.pow(2,16),P=1;P!=Y;)K=x.val&x.position,x.position>>=1,x.position==0&&(x.position=g,x.val=y(x.index++)),U|=(K>0?1:0)*P,P<<=1;v[w++]=i(U),A=w-1,T--;break;case 2:return M.join("")}if(T==0&&(T=Math.pow(2,z),z++),v[A])O=v[A];else if(A===w)O=B+B.charAt(0);else return null;M.push(O),v[w++]=B+O.charAt(0),T--,B=O,T==0&&(T=Math.pow(2,z),z++)}}};return d})();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(_p)),_p.exports}var O9=I9();const aw=iE(O9),j9=e=>{try{return aw.compressToEncodedURIComponent(JSON.stringify(e))}catch(t){return console.error("Failed to encode team data",t),null}},L9=e=>{try{let t=aw.decompressFromEncodedURIComponent(e);if(t&&t.startsWith("{"))return JSON.parse(t);const i=decodeURIComponent(atob(e));return JSON.parse(i)}catch(t){return console.warn("Failed to decode team data (legacy fallback also failed)",t),null}};function k9({isOpen:e,onClose:t,categories:i}){const[r,o]=V.useState(1),[u,c]=V.useState([]),[d,m]=V.useState(""),[g,y]=V.useState(""),[v,T]=V.useState(!1),[w,z]=V.useState(!1),[O,M]=V.useState(!1),L=()=>{if(!d||u.length===0)return;const P={name:d,categories:i.filter(x=>u.includes(x.id))},A=j9(P);y(A),T(!1),o(2)},B=async()=>{if(!(!d||u.length===0)){z(!0);try{const P={name:d,categories:i.filter(x=>u.includes(x.id))},A=await $g.saveTeam(P);y(A),T(!0),o(2)}catch(P){P.code==="permission-denied"?alert("Permission Denied: You need to update your Firestore Security Rules to allow 'shared_teams'."):alert("Failed to generate cloud code. Please check your connection."),console.error(P)}finally{z(!1)}}},U=P=>{u.includes(P)?c(u.filter(A=>A!==P)):c([...u,P])},K=()=>{navigator.clipboard.writeText(g),M(!0),setTimeout(()=>M(!1),2e3)},Y=()=>{o(1),c([]),m(""),y(""),T(!1),M(!1),t()};return S.jsx(qr,{isOpen:e,onClose:Y,title:r===1?"Create Team Dashboard":v?"Easy Share Code":"Share Team Code",children:r===1?S.jsxs("div",{className:"flex flex-col gap-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Team Name"}),S.jsx("input",{value:d,onChange:P=>m(P.target.value),placeholder:"e.g. Engineering Team",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm",autoFocus:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-3 uppercase tracking-wider",children:"Select Collections to Share"}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-60 overflow-y-auto pr-1",children:i.map(P=>S.jsxs("div",{onClick:()=>U(P.id),className:`p-3 rounded-lg border cursor-pointer transition-all flex items-center gap-3 ${u.includes(P.id)?"bg-indigo-500/10 border-indigo-500/50 text-indigo-200":"bg-[var(--bg-input)] border-[var(--border-subtle)] text-[var(--text-secondary)] hover:border-[var(--text-secondary)]"}`,children:[S.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${u.includes(P.id)?"bg-indigo-500 border-indigo-500 text-white":"border-[var(--border-strong)]"}`,children:u.includes(P.id)&&S.jsx(hf,{className:"w-3 h-3"})}),S.jsx("span",{className:"text-sm font-medium truncate",children:P.name})]},P.id))}),i.length===0&&S.jsx("p",{className:"text-sm text-[var(--text-tertiary)] italic",children:"No collections available to share."})]}),S.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-subtle)] mt-4",children:[S.jsx("button",{onClick:Y,className:"px-3 py-2 rounded-lg text-xs font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-secondary)] transition-colors",children:"Cancel"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:L,disabled:!d||u.length===0||w,className:"px-3 py-2 rounded-lg text-xs font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] border border-[var(--border-subtle)] hover:border-[var(--border-hover)] bg-[var(--bg-input)] hover:bg-[var(--bg-secondary)] transition-all",children:"Copy Offline Code"}),S.jsx("button",{onClick:B,disabled:!d||u.length===0||w,className:"btn-primary px-4 py-2 rounded-lg text-xs font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 shadow-sm",children:w?"Generating...":S.jsxs(S.Fragment,{children:[S.jsx(Lu,{className:"w-3.5 h-3.5"})," Generate Easy Code"]})})]})]})]}):S.jsxs("div",{className:"flex flex-col items-center text-center gap-6",children:[S.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center border ${v?"bg-blue-500/10 text-blue-500 border-blue-500/20":"bg-green-500/10 text-green-500 border-green-500/20"}`,children:v?S.jsx(Lu,{className:"w-8 h-8"}):S.jsx(m5,{className:"w-8 h-8"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold mb-2",children:v?"Easy Share Code Ready!":"Offline Team Code Ready!"}),S.jsx("p",{className:"text-sm text-[var(--text-secondary)] max-w-xs mx-auto",children:v?"Share this short code with your team. They can enter it to join instantly.":"This offline code works without internet. Share it securely."})]}),S.jsxs("div",{className:"w-full relative group",children:[S.jsx("div",{className:`absolute inset-0 bg-gradient-to-r blur-xl opacity-0 group-hover:opacity-100 transition-opacity ${v?"from-blue-500/20 to-cyan-500/20":"from-green-500/20 to-emerald-500/20"}`}),S.jsx("div",{className:`relative bg-[var(--bg-input)] border border-[var(--border-subtle)] rounded-xl p-4 font-mono text-center cursor-pointer hover:border-[var(--text-secondary)] transition-colors ${v?"text-2xl font-bold tracking-widest text-[var(--text-primary)]":"text-xs break-all text-[var(--text-secondary)] text-left"}`,onClick:K,children:g})]}),S.jsx("button",{onClick:K,className:`w-full py-2.5 rounded-lg font-medium flex items-center justify-center gap-2 transition-all text-sm ${O?"bg-green-500 text-white":"btn-primary"}`,children:O?S.jsxs(S.Fragment,{children:[S.jsx(hf,{className:"w-3.5 h-3.5"})," Copied"]}):S.jsxs(S.Fragment,{children:[S.jsx(DA,{className:"w-3.5 h-3.5"})," Copy Code"]})})]})})}function P9({isOpen:e,onClose:t,onJoin:i}){const[r,o]=V.useState(""),[u,c]=V.useState(""),[d,m]=V.useState(!1),g=async y=>{if(y.preventDefault(),!!r){m(!0),c("");try{if(r.length<20){const v=await $g.getTeam(r);v?(i(v),o(""),t()):c("Team code not found. Check the code and try again.")}else{const v=L9(r);v&&v.name&&v.categories?(i(v),o(""),t()):c("Invalid or corrupted team code.")}}catch(v){console.error(v),c("Failed to join team. Please try again.")}finally{m(!1)}}};return S.jsx(qr,{isOpen:e,onClose:t,title:"Join Team Dashboard",children:S.jsxs("form",{onSubmit:g,className:"flex flex-col gap-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Enter Team Code"}),S.jsx("textarea",{value:r,onChange:y=>{o(y.target.value),c("")},placeholder:"Paste the code here (e.g. ABC-123 or offline code)...",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm font-mono min-h-[100px] resize-none",autoFocus:!0}),u&&S.jsxs("p",{className:"text-red-400 text-xs mt-2 flex items-center gap-1",children:[S.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-400"})," ",u]})]}),S.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-subtle)] mt-4",children:[S.jsx("button",{type:"button",onClick:t,className:"px-3 py-2 rounded-lg text-xs font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-secondary)] transition-colors",children:"Cancel"}),S.jsxs("button",{type:"submit",disabled:!r||d,className:"btn-primary px-4 py-2 rounded-lg text-xs font-medium disabled:opacity-50 flex items-center gap-1.5 shadow-sm",children:[d&&S.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-white/30 border-t-white animate-spin"}),d?"Joining...":"Import Dashboard"]})]})]})})}function U9({isOpen:e,onClose:t,onEnable:i}){const[r,o]=V.useState(1),[u,c]=V.useState(""),[d,m]=V.useState(!1),[g,y]=V.useState(!1),[v,T]=V.useState(""),w=async()=>{y(!0),T("");try{const O=await i();c(O),o(2)}catch{T("Failed to enable sync. Please check your network.")}finally{y(!1)}},z=()=>{navigator.clipboard.writeText(u),m(!0),setTimeout(()=>m(!1),2e3)};return S.jsx(qr,{isOpen:e,onClose:t,title:r===1?"Enable Cloud Sync":"Save Your Secret Key",children:r===1?S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-500/20 rounded-xl p-4 flex items-start gap-3",children:[S.jsx("div",{className:"p-2 bg-indigo-500/20 rounded-lg text-indigo-400",children:S.jsx(Lu,{className:"w-5 h-5"})}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-semibold text-indigo-200",children:"Zero-Knowledge Sync"}),S.jsx("p",{className:"text-sm text-indigo-200/70 mt-1",children:"Your data is uniquely encrypted on your device. We cannot see it, and no one can access it without your key."})]})]}),S.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"We will generate a **Secret Recovery Key** for you. This key is your only way to access your data on other devices. If you lose it, your data cannot be recovered."}),S.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[S.jsx("button",{onClick:t,className:"px-4 py-2 rounded-xl text-sm text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"Cancel"}),S.jsx("button",{onClick:w,disabled:g,className:"btn-primary px-6 py-2.5 rounded-xl text-sm flex items-center gap-2",children:g?S.jsx(NA,{className:"w-4 h-4 animate-spin"}):"Generate Key & Sync"})]}),v&&S.jsx("p",{className:"text-red-400 text-xs text-center",children:v})]}):S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 flex items-start gap-3",children:[S.jsx(C5,{className:"w-5 h-5 text-red-400 shrink-0"}),S.jsxs("p",{className:"text-sm text-red-200/80",children:[S.jsx("strong",{className:"text-red-200",children:"IMPORTANT:"})," Save this key securely! We do not store it. If you lose it, you lose access."]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Your Secret Recovery Key"}),S.jsxs("div",{onClick:z,className:"bg-[var(--bg-input)] border border-[var(--border-subtle)] rounded-xl p-4 cursor-pointer hover:border-[var(--text-secondary)] transition-colors group relative",children:[S.jsx("code",{className:"text-lg font-mono text-[var(--text-primary)] break-all",children:u}),S.jsx("div",{className:"absolute top-2 right-2 p-2 rounded-lg bg-[var(--bg-card)] text-[var(--text-secondary)] opacity-0 group-hover:opacity-100 transition-opacity",children:d?S.jsx(hf,{className:"w-4 h-4 text-green-400"}):S.jsx(DA,{className:"w-4 h-4"})})]})]}),S.jsx("div",{className:"flex justify-end",children:S.jsx("button",{onClick:t,className:"btn-primary px-6 py-2.5 rounded-xl text-sm",children:"I have saved my key"})})]})})}function z9({isOpen:e,onClose:t,onRecover:i}){const[r,o]=V.useState(""),[u,c]=V.useState(!1),[d,m]=V.useState(""),g=async y=>{if(y.preventDefault(),!!r.trim()){c(!0),m("");try{await i(r.trim())?t():m("Invalid key or no data found.")}catch{m("Recovery failed.")}finally{c(!1)}}};return S.jsx(qr,{isOpen:e,onClose:t,title:"Recover Account",children:S.jsxs("form",{onSubmit:g,className:"space-y-6",children:[S.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Enter your Secret Recovery Key to decrypt and restore your dashboard. This will overwrite any current data."}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Secret Key"}),S.jsx("textarea",{value:r,onChange:y=>{o(y.target.value),m("")},placeholder:"Paste your key here...",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm font-mono min-h-[100px] resize-none",autoFocus:!0}),d&&S.jsx("p",{className:"text-red-400 text-xs mt-2 flex items-center gap-1",children:d})]}),S.jsxs("div",{className:"flex justify-end gap-3",children:[S.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-xl text-sm text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"Cancel"}),S.jsx("button",{type:"submit",disabled:!r||u,className:"btn-primary px-6 py-2.5 rounded-xl text-sm disabled:opacity-50 flex items-center gap-2",children:u?S.jsx(NA,{className:"w-4 h-4 animate-spin"}):"Decrypt & Restore"})]})]})})}function B9({isOpen:e,onClose:t,categories:i,onIncrementClick:r}){const[o,u]=V.useState(""),[c,d]=V.useState(0),m=V.useMemo(()=>{const v=[];return i.forEach(T=>{T.urls.forEach(w=>{v.push({type:"url",id:w.id,title:w.title,subtitle:T.name,url:w.url,icon:w.customFavicon||`https://www.google.com/s2/favicons?domain=${new URL(w.url).hostname}`,originalObj:w,categoryId:T.id,clickCount:w.clickCount||0})})}),v.sort((T,w)=>w.clickCount-T.clickCount)},[i]),g=V.useMemo(()=>o?m.filter(v=>v.title.toLowerCase().includes(o.toLowerCase())||v.url.toLowerCase().includes(o.toLowerCase())||v.subtitle.toLowerCase().includes(o.toLowerCase())).slice(0,8):m.slice(0,10),[o,m]),y=V.useCallback(v=>{v.type==="url"&&(window.open(v.url,"_blank"),r(v.categoryId,v.id),t(),u(""))},[r,t]);return V.useEffect(()=>{d(0)},[o]),V.useEffect(()=>{const v=T=>{e&&(T.key==="ArrowDown"?(T.preventDefault(),d(w=>(w+1)%g.length)):T.key==="ArrowUp"?(T.preventDefault(),d(w=>(w-1+g.length)%g.length)):T.key==="Enter"?(T.preventDefault(),g[c]&&y(g[c])):T.key==="Escape"&&t())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[e,g,c,t,y]),e?S.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[15vh] px-4",children:[S.jsx(Dn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),S.jsxs(Dn.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},className:"w-full max-w-xl bg-[#09090b] border border-[var(--border-subtle)] rounded-2xl shadow-2xl overflow-hidden relative z-10 flex flex-col max-h-[60vh]",children:[S.jsxs("div",{className:"flex items-center px-4 py-4 border-b border-[var(--border-subtle)] gap-3",children:[S.jsx(au,{className:"w-5 h-5 text-[var(--text-tertiary)]"}),S.jsx("input",{autoFocus:!0,value:o,onChange:v=>u(v.target.value),placeholder:"Type a command or search...",className:"cmd-palette-input flex-1 bg-transparent border-none outline-none focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:outline-none text-[var(--text-primary)] placeholder-[var(--text-tertiary)] text-lg h-full"}),S.jsx("div",{className:"px-2 py-1 rounded bg-[var(--bg-input)] border border-[var(--border-subtle)] text-[10px] text-[var(--text-tertiary)] font-mono",children:"ESC"})]}),S.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1 scrollbar-hide",children:g.length===0?S.jsx("div",{className:"py-8 text-center text-[var(--text-tertiary)] text-sm",children:"No results found."}):g.map((v,T)=>S.jsxs("button",{onClick:()=>y(v),onMouseEnter:()=>d(T),className:`w-full text-left px-3 py-3 rounded-xl flex items-center gap-3 transition-colors ${T===c?"bg-[var(--bg-card-hover)]":"hover:bg-[var(--bg-input)]"}`,children:[S.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center border border-[var(--border-subtle)] ${T===c?"bg-indigo-500/10 border-indigo-500/30":"bg-[var(--bg-input)]"}`,children:S.jsx("img",{src:v.icon,className:"w-4 h-4 object-contain opacity-80",onError:w=>w.target.style.display="none"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h4",{className:`text-sm font-medium truncate ${T===c?"text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:v.title}),T===c&&S.jsx(QO,{className:"w-3.5 h-3.5 text-[var(--text-tertiary)]"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-[var(--text-tertiary)]",children:v.subtitle}),v.clickCount>0&&S.jsxs("span",{className:"text-[10px] px-1.5 rounded-full bg-[var(--bg-input)] text-[var(--text-tertiary)] border border-[var(--border-subtle)]",children:[v.clickCount," visits"]})]})]})]},`${v.id}-${T}`))}),S.jsxs("div",{className:"px-4 py-2 bg-[var(--bg-input)] border-t border-[var(--border-subtle)] flex items-center justify-between text-[11px] text-[var(--text-tertiary)]",children:[S.jsxs("span",{children:[S.jsx("span",{className:"font-medium text-[var(--text-secondary)]",children:"ProTip:"})," Use arrow keys to navigate"]}),S.jsx("div",{className:"flex items-center gap-4",children:S.jsx("span",{children:"Open Link "})})]})]})]}):null}function F9({isOpen:e,onClose:t,currentTheme:i,currentPattern:r,currentLinkLayout:o="list",onUpdate:u}){const c=[{id:"theme-white",name:"White",color:"#ffffff"},{id:"theme-indigo",name:"Indigo",color:"#6366f1"},{id:"theme-violet",name:"Violet",color:"#8b5cf6"},{id:"theme-rose",name:"Rose",color:"#f43f5e"},{id:"theme-teal",name:"Teal",color:"#14b8a6"},{id:"theme-amber",name:"Amber",color:"#f59e0b"}],d=[{id:"dots",name:"Dots",icon:GO},{id:"grid",name:"Grid",icon:a5},{id:"none",name:"Plain",icon:null}];return S.jsxs(qr,{isOpen:e,onClose:t,title:"Appearance Settings",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-3 uppercase tracking-wider",children:"Accent Color"}),S.jsx("div",{className:"flex gap-3",children:c.map(m=>S.jsx("button",{onClick:()=>u({theme:m.id}),className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${i===m.id?"ring-2 ring-white ring-offset-2 ring-offset-[#09090b] scale-110":"hover:scale-105"}`,style:{backgroundColor:m.color},title:m.name,children:i===m.id&&S.jsx(hf,{className:`w-5 h-5 drop-shadow-md ${m.id==="theme-white"?"text-black":"text-white"}`})},m.id))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-3 uppercase tracking-wider",children:"Background Pattern"}),S.jsx("div",{className:"grid grid-cols-3 gap-3",children:d.map(m=>S.jsxs("button",{onClick:()=>u({pattern:m.id}),className:`h-24 rounded-xl border flex flex-col items-center justify-center gap-2 transition-all ${r===m.id?"bg-[var(--bg-input)] border-[var(--primary-color)] text-[var(--text-primary)]":"bg-[var(--bg-card)] border-[var(--border-subtle)] text-[var(--text-tertiary)] hover:border-[var(--text-secondary)]"}`,children:[m.icon?S.jsx(m.icon,{className:"w-6 h-6"}):S.jsx("div",{className:"w-6 h-6 border rounded-sm"}),S.jsx("span",{className:"text-xs font-medium",children:m.name})]},m.id))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-3 uppercase tracking-wider",children:"Link Layout"}),S.jsx("div",{className:"grid grid-cols-3 gap-3",children:["list","grid"].map(m=>S.jsxs("button",{onClick:()=>u({linkLayout:m}),className:`h-20 rounded-xl border flex flex-col items-center justify-center gap-2 transition-all ${o===m?"bg-[var(--bg-input)] border-[var(--primary-color)] text-[var(--text-primary)]":"bg-[var(--bg-card)] border-[var(--border-subtle)] text-[var(--text-tertiary)] hover:border-[var(--text-secondary)]"}`,children:[m==="list"?S.jsx(h5,{className:"w-5 h-5"}):S.jsx(hg,{className:"w-5 h-5"}),S.jsx("span",{className:"text-xs font-medium capitalize",children:m})]},m))})]})]}),S.jsx("div",{className:"flex justify-end pt-6 mt-6 border-t border-[var(--border-subtle)]",children:S.jsx("button",{onClick:t,className:"btn-primary px-6 py-2.5 rounded-xl text-sm",children:"Done"})})]})}function q9(){const{categories:e,teams:t,data:i,addCategory:r,updateCategory:o,deleteCategory:u,addUrl:c,updateUrl:d,deleteUrl:m,incrementUrlClick:g,joinTeam:y,deleteTeam:v,importData:T,updateTheme:w,reorderCategories:z,togglePinCategory:O,toggleCategoryCollapse:M}=K2(),{syncState:L,enableSync:B,recoverAccount:U,pullFromCloud:K,disconnect:Y}=Q4(i,T),[P,A]=V.useState(!1),[x,D]=V.useState(null),[j,I]=V.useState(!1),[H,N]=V.useState(null),[Ct,Lt]=V.useState(null),[tt,st]=V.useState(""),[ft,yt]=V.useState(!1),[pt,F]=V.useState({title:"",message:"",action:()=>{}}),[et,ut]=V.useState(!1),[ht,_t]=V.useState(!1),[vt,lt]=V.useState(!1),[Vt,Tt]=V.useState(!1),[At,Mn]=V.useState(!1),[Xe,bn]=V.useState(!1);V.useEffect(()=>{const Qt=ne=>{(ne.metaKey||ne.ctrlKey)&&ne.key==="k"&&(ne.preventDefault(),Mn(Le=>!Le))};return window.addEventListener("keydown",Qt),()=>window.removeEventListener("keydown",Qt)},[]);const Ae=()=>{D(null),A(!0)},zn=Qt=>{D(Qt),A(!0)},_n=(Qt,ne)=>{x?o(x.id,Qt,ne):r(Qt,ne)},Hi=Qt=>{F({title:"Delete Collection?",message:"This will permanently delete this collection and all the links inside it. This action cannot be undone.",action:()=>u(Qt)}),yt(!0)},Gi=(Qt,ne="")=>{N(Qt),Lt(null),st(ne),I(!0)},he=(Qt,ne)=>{N(Qt),Lt(ne),I(!0)},te=(Qt,ne,Le)=>{Ct?d(H,Ct.id,Qt,ne,Le):c(H,Qt,ne,Le)},Vn=(Qt,ne)=>{F({title:"Delete Link?",message:"Are you sure you want to remove this link from your collection?",action:()=>m(Qt,ne)}),yt(!0)},Ki=Qt=>{y(Qt)},bs=Qt=>{F({title:"Delete Team Dashboard?",message:"This will remove the team dashboard from your view. You can re-join later if you have the code.",action:()=>v(Qt)}),yt(!0)},je=()=>{F({title:"Disconnect Cloud Sync?",message:"This will stop backing up your data to the cloud. Your local data will remain safe.",action:Y,actionLabel:"Disconnect"}),yt(!0)},Ni=e.find(Qt=>Qt.id===H);return S.jsxs("div",{className:`min-h-screen transition-colors duration-500 ${i.theme||"theme-white"}`,children:[S.jsx(C9,{categories:e,teams:t,syncState:L,onAddCategory:Ae,onEditCategory:zn,onDeleteCategory:Hi,onAddUrl:Gi,onEditUrl:he,onDeleteUrl:Vn,onDeleteTeam:bs,onOpenCreateTeam:()=>ut(!0),onOpenJoinTeam:()=>_t(!0),onEnableSync:()=>lt(!0),onRecoverAccount:()=>Tt(!0),onPullFromCloud:K,onDisconnect:je,onIncrementClick:g,onOpenSettings:()=>bn(!0),reorderCategories:z,onTogglePin:O,onToggleCollapse:M,linkLayout:i.linkLayout||"list"}),S.jsx(N9,{isOpen:P,onClose:()=>A(!1),onSubmit:_n,editData:x}),S.jsx(M9,{isOpen:j,onClose:()=>I(!1),onSubmit:te,editData:Ct,prefillUrl:tt,categoryName:Ni?.name||""}),S.jsx(V9,{isOpen:ft,onClose:()=>yt(!1),onConfirm:pt.action,title:pt.title,message:pt.message,actionLabel:pt.actionLabel}),S.jsx(k9,{isOpen:et,onClose:()=>ut(!1),categories:e}),S.jsx(P9,{isOpen:ht,onClose:()=>_t(!1),onJoin:Ki}),S.jsx(U9,{isOpen:vt,onClose:()=>lt(!1),onEnable:B}),S.jsx(z9,{isOpen:Vt,onClose:()=>Tt(!1),onRecover:U}),S.jsx(B9,{isOpen:At,onClose:()=>Mn(!1),categories:e,onIncrementClick:g}),S.jsx(F9,{isOpen:Xe,onClose:()=>bn(!1),currentTheme:i.theme||"theme-white",currentPattern:i.pattern||"dots",currentLinkLayout:i.linkLayout||"list",onUpdate:w}),S.jsx("div",{className:"fixed inset-0 pointer-events-none -z-10",style:{backgroundImage:i.pattern==="dots"||!i.pattern?"radial-gradient(rgba(255, 255, 255, 0.08) 1.5px, transparent 1.5px)":i.pattern==="grid"?"linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px)":"none",backgroundSize:i.pattern==="grid"?"40px 40px":"24px 24px"}})]})}G2.createRoot(document.getElementById("root")).render(S.jsx(V.StrictMode,{children:S.jsx(q9,{})}));
