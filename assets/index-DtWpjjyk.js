(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function sT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lm={exports:{}},Jl={};var s1;function P2(){if(s1)return Jl;s1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:e,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Jl.Fragment=t,Jl.jsx=i,Jl.jsxs=i,Jl}var r1;function U2(){return r1||(r1=1,Lm.exports=P2()),Lm.exports}var E=U2(),Pm={exports:{}},Nt={};var a1;function z2(){if(a1)return Nt;a1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,D={};function k(F,et,ut){this.props=F,this.context=et,this.refs=D,this.updater=ut||j}k.prototype.isReactComponent={},k.prototype.setState=function(F,et){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,et,"setState")},k.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function B(){}B.prototype=k.prototype;function P(F,et,ut){this.props=F,this.context=et,this.refs=D,this.updater=ut||j}var G=P.prototype=new B;G.constructor=P,I(G,k.prototype),G.isPureReactComponent=!0;var Y=Array.isArray;function z(){}var A={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(F,et,ut){var ht=ut.ref;return{$$typeof:e,type:F,key:et,ref:ht!==void 0?ht:null,props:ut}}function L(F,et){return N(F.type,et,F.props)}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function q(F){var et={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ut){return et[ut]})}var M=/\/+/g;function Ct(F,et){return typeof F=="object"&&F!==null&&F.key!=null?q(""+F.key):et.toString(36)}function Pt(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(z,z):(F.status="pending",F.then(function(et){F.status==="pending"&&(F.status="fulfilled",F.value=et)},function(et){F.status==="pending"&&(F.status="rejected",F.reason=et)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function tt(F,et,ut,ht,_t){var vt=typeof F;(vt==="undefined"||vt==="boolean")&&(F=null);var lt=!1;if(F===null)lt=!0;else switch(vt){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(F.$$typeof){case e:case t:lt=!0;break;case y:return lt=F._init,tt(lt(F._payload),et,ut,ht,_t)}}if(lt)return _t=_t(F),lt=ht===""?"."+Ct(F,0):ht,Y(_t)?(ut="",lt!=null&&(ut=lt.replace(M,"$&/")+"/"),tt(_t,et,ut,"",function(At){return At})):_t!=null&&(O(_t)&&(_t=L(_t,ut+(_t.key==null||F&&F.key===_t.key?"":(""+_t.key).replace(M,"$&/")+"/")+lt)),et.push(_t)),1;lt=0;var Vt=ht===""?".":ht+":";if(Y(F))for(var xt=0;xt<F.length;xt++)ht=F[xt],vt=Vt+Ct(ht,xt),lt+=tt(ht,et,ut,vt,_t);else if(xt=w(F),typeof xt=="function")for(F=xt.call(F),xt=0;!(ht=F.next()).done;)ht=ht.value,vt=Vt+Ct(ht,xt++),lt+=tt(ht,et,ut,vt,_t);else if(vt==="object"){if(typeof F.then=="function")return tt(Pt(F),et,ut,ht,_t);throw et=String(F),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return lt}function st(F,et,ut){if(F==null)return F;var ht=[],_t=0;return tt(F,ht,"","",function(vt){return et.call(ut,vt,_t++)}),ht}function ft(F){if(F._status===-1){var et=F._result;et=et(),et.then(function(ut){(F._status===0||F._status===-1)&&(F._status=1,F._result=ut)},function(ut){(F._status===0||F._status===-1)&&(F._status=2,F._result=ut)}),F._status===-1&&(F._status=0,F._result=et)}if(F._status===1)return F._result.default;throw F._result}var yt=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},pt={map:st,forEach:function(F,et,ut){st(F,function(){et.apply(this,arguments)},ut)},count:function(F){var et=0;return st(F,function(){et++}),et},toArray:function(F){return st(F,function(et){return et})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Nt.Activity=v,Nt.Children=pt,Nt.Component=k,Nt.Fragment=i,Nt.Profiler=o,Nt.PureComponent=P,Nt.StrictMode=r,Nt.Suspense=m,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return A.H.useMemoCache(F)}},Nt.cache=function(F){return function(){return F.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(F,et,ut){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ht=I({},F.props),_t=F.key;if(et!=null)for(vt in et.key!==void 0&&(_t=""+et.key),et)!S.call(et,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&et.ref===void 0||(ht[vt]=et[vt]);var vt=arguments.length-2;if(vt===1)ht.children=ut;else if(1<vt){for(var lt=Array(vt),Vt=0;Vt<vt;Vt++)lt[Vt]=arguments[Vt+2];ht.children=lt}return N(F.type,_t,ht)},Nt.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:u,_context:F},F},Nt.createElement=function(F,et,ut){var ht,_t={},vt=null;if(et!=null)for(ht in et.key!==void 0&&(vt=""+et.key),et)S.call(et,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(_t[ht]=et[ht]);var lt=arguments.length-2;if(lt===1)_t.children=ut;else if(1<lt){for(var Vt=Array(lt),xt=0;xt<lt;xt++)Vt[xt]=arguments[xt+2];_t.children=Vt}if(F&&F.defaultProps)for(ht in lt=F.defaultProps,lt)_t[ht]===void 0&&(_t[ht]=lt[ht]);return N(F,vt,_t)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(F){return{$$typeof:d,render:F}},Nt.isValidElement=O,Nt.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ft}},Nt.memo=function(F,et){return{$$typeof:p,type:F,compare:et===void 0?null:et}},Nt.startTransition=function(F){var et=A.T,ut={};A.T=ut;try{var ht=F(),_t=A.S;_t!==null&&_t(ut,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(z,yt)}catch(vt){yt(vt)}finally{et!==null&&ut.types!==null&&(et.types=ut.types),A.T=et}},Nt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Nt.use=function(F){return A.H.use(F)},Nt.useActionState=function(F,et,ut){return A.H.useActionState(F,et,ut)},Nt.useCallback=function(F,et){return A.H.useCallback(F,et)},Nt.useContext=function(F){return A.H.useContext(F)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(F,et){return A.H.useDeferredValue(F,et)},Nt.useEffect=function(F,et){return A.H.useEffect(F,et)},Nt.useEffectEvent=function(F){return A.H.useEffectEvent(F)},Nt.useId=function(){return A.H.useId()},Nt.useImperativeHandle=function(F,et,ut){return A.H.useImperativeHandle(F,et,ut)},Nt.useInsertionEffect=function(F,et){return A.H.useInsertionEffect(F,et)},Nt.useLayoutEffect=function(F,et){return A.H.useLayoutEffect(F,et)},Nt.useMemo=function(F,et){return A.H.useMemo(F,et)},Nt.useOptimistic=function(F,et){return A.H.useOptimistic(F,et)},Nt.useReducer=function(F,et,ut){return A.H.useReducer(F,et,ut)},Nt.useRef=function(F){return A.H.useRef(F)},Nt.useState=function(F){return A.H.useState(F)},Nt.useSyncExternalStore=function(F,et,ut){return A.H.useSyncExternalStore(F,et,ut)},Nt.useTransition=function(){return A.H.useTransition()},Nt.version="19.2.3",Nt}var o1;function yg(){return o1||(o1=1,Pm.exports=z2()),Pm.exports}var V=yg();const Te=sT(V);var Um={exports:{}},Wl={},zm={exports:{}},Bm={};var l1;function B2(){return l1||(l1=1,(function(e){function t(tt,st){var ft=tt.length;tt.push(st);t:for(;0<ft;){var yt=ft-1>>>1,pt=tt[yt];if(0<o(pt,st))tt[yt]=st,tt[ft]=pt,ft=yt;else break t}}function i(tt){return tt.length===0?null:tt[0]}function r(tt){if(tt.length===0)return null;var st=tt[0],ft=tt.pop();if(ft!==st){tt[0]=ft;t:for(var yt=0,pt=tt.length,F=pt>>>1;yt<F;){var et=2*(yt+1)-1,ut=tt[et],ht=et+1,_t=tt[ht];if(0>o(ut,ft))ht<pt&&0>o(_t,ut)?(tt[yt]=_t,tt[ht]=ft,yt=ht):(tt[yt]=ut,tt[et]=ft,yt=et);else if(ht<pt&&0>o(_t,ft))tt[yt]=_t,tt[ht]=ft,yt=ht;else break t}}return st}function o(tt,st){var ft=tt.sortIndex-st.sortIndex;return ft!==0?ft:tt.id-st.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,v=null,x=3,w=!1,j=!1,I=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function G(tt){for(var st=i(p);st!==null;){if(st.callback===null)r(p);else if(st.startTime<=tt)r(p),st.sortIndex=st.expirationTime,t(m,st);else break;st=i(p)}}function Y(tt){if(I=!1,G(tt),!j)if(i(m)!==null)j=!0,z||(z=!0,q());else{var st=i(p);st!==null&&Pt(Y,st.startTime-tt)}}var z=!1,A=-1,S=5,N=-1;function L(){return D?!0:!(e.unstable_now()-N<S)}function O(){if(D=!1,z){var tt=e.unstable_now();N=tt;var st=!0;try{t:{j=!1,I&&(I=!1,B(A),A=-1),w=!0;var ft=x;try{e:{for(G(tt),v=i(m);v!==null&&!(v.expirationTime>tt&&L());){var yt=v.callback;if(typeof yt=="function"){v.callback=null,x=v.priorityLevel;var pt=yt(v.expirationTime<=tt);if(tt=e.unstable_now(),typeof pt=="function"){v.callback=pt,G(tt),st=!0;break e}v===i(m)&&r(m),G(tt)}else r(m);v=i(m)}if(v!==null)st=!0;else{var F=i(p);F!==null&&Pt(Y,F.startTime-tt),st=!1}}break t}finally{v=null,x=ft,w=!1}st=void 0}}finally{st?q():z=!1}}}var q;if(typeof P=="function")q=function(){P(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ct=M.port2;M.port1.onmessage=O,q=function(){Ct.postMessage(null)}}else q=function(){k(O,0)};function Pt(tt,st){A=k(function(){tt(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(tt){tt.callback=null},e.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<tt?Math.floor(1e3/tt):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(tt){switch(x){case 1:case 2:case 3:var st=3;break;default:st=x}var ft=x;x=st;try{return tt()}finally{x=ft}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(tt,st){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var ft=x;x=tt;try{return st()}finally{x=ft}},e.unstable_scheduleCallback=function(tt,st,ft){var yt=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?yt+ft:yt):ft=yt,tt){case 1:var pt=-1;break;case 2:pt=250;break;case 5:pt=1073741823;break;case 4:pt=1e4;break;default:pt=5e3}return pt=ft+pt,tt={id:y++,callback:st,priorityLevel:tt,startTime:ft,expirationTime:pt,sortIndex:-1},ft>yt?(tt.sortIndex=ft,t(p,tt),i(m)===null&&tt===i(p)&&(I?(B(A),A=-1):I=!0,Pt(Y,ft-yt))):(tt.sortIndex=pt,t(m,tt),j||w||(j=!0,z||(z=!0,q()))),tt},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(tt){var st=x;return function(){var ft=x;x=st;try{return tt.apply(this,arguments)}finally{x=ft}}}})(Bm)),Bm}var u1;function F2(){return u1||(u1=1,zm.exports=B2()),zm.exports}var Fm={exports:{}},En={};var c1;function H2(){if(c1)return En;c1=1;var e=yg();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,En.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(m,p,null,y)},En.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},En.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},En.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},En.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):y==="script"&&r.d.X(m,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},En.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},En.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},En.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},En.requestFormReset=function(m){r.d.r(m)},En.unstable_batchedUpdates=function(m,p){return m(p)},En.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},En.useFormStatus=function(){return c.H.useHostTransitionStatus()},En.version="19.2.3",En}var h1;function rT(){if(h1)return Fm.exports;h1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fm.exports=H2(),Fm.exports}var f1;function q2(){if(f1)return Wl;f1=1;var e=F2(),t=yg(),i=rT();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(r(188))}function p(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return m(f),n;if(g===l)return m(f),s;g=g.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=g;else{for(var _=!1,C=f.child;C;){if(C===a){_=!0,a=f,l=g;break}if(C===l){_=!0,l=f,a=g;break}C=C.sibling}if(!_){for(C=g.child;C;){if(C===a){_=!0,a=g,l=f;break}if(C===l){_=!0,l=g,a=f;break}C=C.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),P=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function Ct(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case I:return"Fragment";case k:return"Profiler";case D:return"StrictMode";case Y:return"Suspense";case z:return"SuspenseList";case N:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case P:return n.displayName||"Context";case B:return(n._context.displayName||"Context")+".Consumer";case G:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case A:return s=n.displayName||null,s!==null?s:Ct(n.type)||"Memo";case S:s=n._payload,n=n._init;try{return Ct(n(s))}catch{}}return null}var Pt=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},yt=[],pt=-1;function F(n){return{current:n}}function et(n){0>pt||(n.current=yt[pt],yt[pt]=null,pt--)}function ut(n,s){pt++,yt[pt]=n.current,n.current=s}var ht=F(null),_t=F(null),vt=F(null),lt=F(null);function Vt(n,s){switch(ut(vt,s),ut(_t,n),ut(ht,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Cb(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Cb(s),n=Rb(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}et(ht),ut(ht,n)}function xt(){et(ht),et(_t),et(vt)}function At(n){n.memoizedState!==null&&ut(lt,n);var s=ht.current,a=Rb(s,n.type);s!==a&&(ut(_t,n),ut(ht,a))}function Dn(n){_t.current===n&&(et(ht),et(_t)),lt.current===n&&(et(lt),Xl._currentValue=ft)}var Ye,Nn;function xe(n){if(Ye===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ye=s&&s[1]||"",Nn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ye+n+Nn}var Un=!1;function vn(n,s){if(!n||Un)return"";Un=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(W){var Z=W}Reflect.construct(n,[],rt)}else{try{rt.call()}catch(W){Z=W}n.call(rt.prototype)}}else{try{throw Error()}catch(W){Z=W}(rt=n())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(W){if(W&&Z&&typeof W.stack=="string")return[W.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),_=g[0],C=g[1];if(_&&C){var U=_.split(`
`),$=C.split(`
`);for(f=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(l===U.length||f===$.length)for(l=U.length-1,f=$.length-1;1<=l&&0<=f&&U[l]!==$[f];)f--;for(;1<=l&&0<=f;l--,f--)if(U[l]!==$[f]){if(l!==1||f!==1)do if(l--,f--,0>f||U[l]!==$[f]){var nt=`
`+U[l].replace(" at new "," at ");return n.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",n.displayName)),nt}while(1<=l&&0<=f);break}}}finally{Un=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?xe(a):""}function qi(n,s){switch(n.tag){case 26:case 27:case 5:return xe(n.type);case 16:return xe("Lazy");case 13:return n.child!==s&&s!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return vn(n.type,!1);case 11:return vn(n.type.render,!1);case 1:return vn(n.type,!0);case 31:return xe("Activity");default:return""}}function Gi(n){try{var s="",a=null;do s+=qi(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var he=Object.prototype.hasOwnProperty,ee=e.unstable_scheduleCallback,Mn=e.unstable_cancelCallback,Ki=e.unstable_shouldYield,bs=e.unstable_requestPaint,je=e.unstable_now,Ni=e.unstable_getCurrentPriorityLevel,_s=e.unstable_ImmediatePriority,kt=e.unstable_UserBlockingPriority,$t=e.unstable_NormalPriority,zn=e.unstable_LowPriority,qr=e.unstable_IdlePriority,Zn=e.log,Gr=e.unstable_setDisableYieldValue,Jn=null,Xe=null;function bn(n){if(typeof Zn=="function"&&Gr(n),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Jn,n)}catch{}}var pe=Math.clz32?Math.clz32:Ia,Va=Math.log,xs=Math.LN2;function Ia(n){return n>>>=0,n===0?32:31-(Va(n)/xs|0)|0}var ci=256,Ts=262144,Ut=4194304;function ge(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ye(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,g=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var C=l&134217727;return C!==0?(l=C&~g,l!==0?f=ge(l):(_&=C,_!==0?f=ge(_):a||(a=C&~n,a!==0&&(f=ge(a))))):(C=l&~g,C!==0?f=ge(C):_!==0?f=ge(_):a||(a=l&~n,a!==0&&(f=ge(a)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,a=s&-s,g>=a||g===32&&(a&4194048)!==0)?s:f}function ke(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function _n(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function en(){var n=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),n}function De(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Bn(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ne(n,s,a,l,f,g){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,U=n.expirationTimes,$=n.hiddenUpdates;for(a=_&~a;0<a;){var nt=31-pe(a),rt=1<<nt;C[nt]=0,U[nt]=-1;var Z=$[nt];if(Z!==null)for($[nt]=null,nt=0;nt<Z.length;nt++){var W=Z[nt];W!==null&&(W.lane&=-536870913)}a&=~rt}l!==0&&xn(n,l,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(_&~s))}function xn(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-pe(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Tn(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-pe(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Vn(n,s){var a=s&-s;return a=(a&42)!==0?1:Wn(a),(a&(n.suspendedLanes|s))!==0?0:a}function Wn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function In(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ti(){var n=st.p;return n!==0?n:(n=window.event,n===void 0?32:Zb(n.type))}function ln(n,s){var a=st.p;try{return st.p=n,s()}finally{st.p=a}}var On=Math.random().toString(36).slice(2),Le="__reactFiber$"+On,nn="__reactProps$"+On,Yi="__reactContainer$"+On,Oa="__reactEvents$"+On,Hf="__reactListeners$"+On,Wu="__reactHandles$"+On,tc="__reactResources$"+On,Xi="__reactMarker$"+On;function ja(n){delete n[Le],delete n[nn],delete n[Oa],delete n[Hf],delete n[Wu]}function Qi(n){var s=n[Le];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Yi]||a[Le]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=jb(n);n!==null;){if(a=n[Le])return a;n=jb(n)}return s}n=a,a=n.parentNode}return null}function hi(n){if(n=n[Le]||n[Yi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function ei(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function $i(n){var s=n[tc];return s||(s=n[tc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Pe(n){n[Xi]=!0}var el=new Set,nl={};function Zi(n,s){Ji(n,s),Ji(n+"Capture",s)}function Ji(n,s){for(nl[n]=s,n=0;n<s.length;n++)el.add(s[n])}var il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},rl={};function ec(n){return he.call(rl,n)?!0:he.call(sl,n)?!1:il.test(n)?rl[n]=!0:(sl[n]=!0,!1)}function ka(n,s,a){if(ec(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function ni(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Ue(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ys(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function al(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,g.call(this,_)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ie(n){if(!n._valueTracker){var s=Ys(n)?"checked":"value";n._valueTracker=al(n,s,""+n[s])}}function Kr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Ys(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Wi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Yr=/[\n"\\]/g;function Fn(n){return n.replace(Yr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function La(n,s,a,l,f,g,_,C){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+sn(s)):n.value!==""+sn(s)&&(n.value=""+sn(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?ol(n,_,sn(s)):a!=null?ol(n,_,sn(a)):l!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+sn(C):n.removeAttribute("name")}function nc(n,s,a,l,f,g,_,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){ie(n);return}a=a!=null?""+sn(a):"",s=s!=null?""+sn(s):a,C||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=C?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),ie(n)}function ol(n,s,a){s==="number"&&Wi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Xs(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+sn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function ic(n,s,a){if(s!=null&&(s=""+sn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+sn(a):""}function Qs(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Pt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=sn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),ie(n)}function Hn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||sc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function ul(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&ll(n,f,l)}else for(var g in s)s.hasOwnProperty(g)&&ll(n,g,s[g])}function Pa(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(n){return $s.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Mi(){}var cl=null;function fi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zs=null,ts=null;function Xr(n){var s=hi(n);if(s&&(n=s.stateNode)){var a=n[nn]||null;t:switch(n=s.stateNode,s.type){case"input":if(La(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Fn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[nn]||null;if(!f)throw Error(r(90));La(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Kr(l)}break t;case"textarea":ic(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Xs(n,!!a.multiple,s,!1)}}}var za=!1;function Js(n,s,a){if(za)return n(s,a);za=!0;try{var l=n(s);return l}finally{if(za=!1,(Zs!==null||ts!==null)&&(Jc(),Zs&&(s=Zs,n=ts,ts=Zs=null,Xr(s),n)))for(s=0;s<n.length;s++)Xr(n[s])}}function Vi(n,s){var a=n.stateNode;if(a===null)return null;var l=a[nn]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=!1;if(di)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{Qr=!1}var es=null,hl=null,$r=null;function fl(){if($r)return $r;var n,s=hl,a=s.length,l,f="value"in es?es.value:es.textContent,g=f.length;for(n=0;n<a&&s[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&s[a-l]===f[g-l];l++);return $r=f.slice(n,1<l?1-l:void 0)}function Zr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Es(){return!0}function Ii(){return!1}function un(n){function s(a,l,f,g,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Es:Ii,this.isPropagationStopped=Ii,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),s}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=un(Ss),Ws=v({},Ss,{view:0,detail:0}),dl=un(Ws),tr,Ba,is,Fa=v({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==is&&(is&&n.type==="mousemove"?(tr=n.screenX-is.screenX,Ba=n.screenY-is.screenY):Ba=tr=0,is=n),tr)},movementY:function(n){return"movementY"in n?n.movementY:Ba}}),ml=un(Fa),Jr=v({},Fa,{dataTransfer:0}),ac=un(Jr),oc=v({},Ws,{relatedTarget:0}),Wr=un(oc),pl=v({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),lc=un(pl),Ha=v({},Ss,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),uc=un(Ha),cc=v({},Ss,{data:0}),ss=un(cc),hc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=dc[n])?!!s[n]:!1}function er(){return mc}var jn=v({},Ws,{key:function(n){if(n.key){var s=hc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Zr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(n){return n.type==="keypress"?Zr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),pc=un(jn),gc=v({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),As=un(gc),h=v({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),b=un(h),T=v({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=un(T),X=v({},Fa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),J=un(X),ct=v({},Ss,{newState:0,oldState:0}),It=un(ct),Me=[9,13,27,32],Wt=di&&"CompositionEvent"in window,ve=null;di&&"documentMode"in document&&(ve=document.documentMode);var mi=di&&"TextEvent"in window&&!ve,rs=di&&(!Wt||ve&&8<ve&&11>=ve),Oi=" ",ji=!1;function ta(n,s){switch(n){case"keyup":return Me.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qa(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ga=!1;function lw(n,s){switch(n){case"compositionend":return qa(s);case"keypress":return s.which!==32?null:(ji=!0,Oi);case"textInput":return n=s.data,n===Oi&&ji?null:n;default:return null}}function uw(n,s){if(Ga)return n==="compositionend"||!Wt&&ta(n,s)?(n=fl(),$r=hl=es=null,Ga=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return rs&&s.locale!=="ko"?null:s.data;default:return null}}var cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Py(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!cw[n.type]:s==="textarea"}function Uy(n,s,a,l){Zs?ts?ts.push(l):ts=[l]:Zs=l,s=rh(s,"onChange"),0<s.length&&(a=new ns("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var gl=null,yl=null;function hw(n){xb(n,0)}function yc(n){var s=ei(n);if(Kr(s))return n}function zy(n,s){if(n==="change")return s}var By=!1;if(di){var qf;if(di){var Gf="oninput"in document;if(!Gf){var Fy=document.createElement("div");Fy.setAttribute("oninput","return;"),Gf=typeof Fy.oninput=="function"}qf=Gf}else qf=!1;By=qf&&(!document.documentMode||9<document.documentMode)}function Hy(){gl&&(gl.detachEvent("onpropertychange",qy),yl=gl=null)}function qy(n){if(n.propertyName==="value"&&yc(yl)){var s=[];Uy(s,yl,n,fi(n)),Js(hw,s)}}function fw(n,s,a){n==="focusin"?(Hy(),gl=s,yl=a,gl.attachEvent("onpropertychange",qy)):n==="focusout"&&Hy()}function dw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yc(yl)}function mw(n,s){if(n==="click")return yc(s)}function pw(n,s){if(n==="input"||n==="change")return yc(s)}function gw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ii=typeof Object.is=="function"?Object.is:gw;function vl(n,s){if(ii(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!he.call(s,f)||!ii(n[f],s[f]))return!1}return!0}function Gy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ky(n,s){var a=Gy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gy(a)}}function Yy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Yy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Xy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Wi(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Wi(n.document)}return s}function Kf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var yw=di&&"documentMode"in document&&11>=document.documentMode,Ka=null,Yf=null,bl=null,Xf=!1;function Qy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xf||Ka==null||Ka!==Wi(l)||(l=Ka,"selectionStart"in l&&Kf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&vl(bl,l)||(bl=l,l=rh(Yf,"onSelect"),0<l.length&&(s=new ns("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Ka)))}function ea(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ya={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Qf={},$y={};di&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function na(n){if(Qf[n])return Qf[n];if(!Ya[n])return n;var s=Ya[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in $y)return Qf[n]=s[a];return n}var Zy=na("animationend"),Jy=na("animationiteration"),Wy=na("animationstart"),vw=na("transitionrun"),bw=na("transitionstart"),_w=na("transitioncancel"),tv=na("transitionend"),ev=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function ki(n,s){ev.set(n,s),Zi(s,[n])}var vc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},pi=[],Xa=0,Zf=0;function bc(){for(var n=Xa,s=Zf=Xa=0;s<n;){var a=pi[s];pi[s++]=null;var l=pi[s];pi[s++]=null;var f=pi[s];pi[s++]=null;var g=pi[s];if(pi[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}g!==0&&nv(a,f,g)}}function _c(n,s,a,l){pi[Xa++]=n,pi[Xa++]=s,pi[Xa++]=a,pi[Xa++]=l,Zf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Jf(n,s,a,l){return _c(n,s,a,l),xc(n)}function ia(n,s){return _c(n,null,null,s),xc(n)}function nv(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,g=n.return;g!==null;)g.childLanes|=a,l=g.alternate,l!==null&&(l.childLanes|=a),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&s!==null&&(f=31-pe(a),n=g.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),g):null}function xc(n){if(50<Bl)throw Bl=0,om=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Qa={};function xw(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(n,s,a,l){return new xw(n,s,a,l)}function Wf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ws(n,s){var a=n.alternate;return a===null?(a=si(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function iv(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Tc(n,s,a,l,f,g){var _=0;if(l=n,typeof n=="function")Wf(n)&&(_=1);else if(typeof n=="string")_=w2(n,a,ht.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case N:return n=si(31,a,s,f),n.elementType=N,n.lanes=g,n;case I:return sa(a.children,f,g,s);case D:_=8,f|=24;break;case k:return n=si(12,a,s,f|2),n.elementType=k,n.lanes=g,n;case Y:return n=si(13,a,s,f),n.elementType=Y,n.lanes=g,n;case z:return n=si(19,a,s,f),n.elementType=z,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:_=10;break t;case B:_=9;break t;case G:_=11;break t;case A:_=14;break t;case S:_=16,l=null;break t}_=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=si(_,a,s,f),s.elementType=n,s.type=l,s.lanes=g,s}function sa(n,s,a,l){return n=si(7,n,l,s),n.lanes=a,n}function td(n,s,a){return n=si(6,n,null,s),n.lanes=a,n}function sv(n){var s=si(18,null,null,0);return s.stateNode=n,s}function ed(n,s,a){return s=si(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var rv=new WeakMap;function gi(n,s){if(typeof n=="object"&&n!==null){var a=rv.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Gi(s)},rv.set(n,s),s)}return{value:n,source:s,stack:Gi(s)}}var $a=[],Za=0,Ec=null,_l=0,yi=[],vi=0,nr=null,as=1,os="";function Cs(n,s){$a[Za++]=_l,$a[Za++]=Ec,Ec=n,_l=s}function av(n,s,a){yi[vi++]=as,yi[vi++]=os,yi[vi++]=nr,nr=n;var l=as;n=os;var f=32-pe(l)-1;l&=~(1<<f),a+=1;var g=32-pe(s)+f;if(30<g){var _=f-f%5;g=(l&(1<<_)-1).toString(32),l>>=_,f-=_,as=1<<32-pe(s)+f|a<<f|l,os=g+n}else as=1<<g|a<<f|l,os=n}function nd(n){n.return!==null&&(Cs(n,1),av(n,1,0))}function id(n){for(;n===Ec;)Ec=$a[--Za],$a[Za]=null,_l=$a[--Za],$a[Za]=null;for(;n===nr;)nr=yi[--vi],yi[vi]=null,os=yi[--vi],yi[vi]=null,as=yi[--vi],yi[vi]=null}function ov(n,s){yi[vi++]=as,yi[vi++]=os,yi[vi++]=nr,as=s.id,os=s.overflow,nr=n}var cn=null,fe=null,Kt=!1,ir=null,bi=!1,sd=Error(r(519));function sr(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(gi(s,n)),sd}function lv(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Le]=n,s[nn]=l,a){case"dialog":Bt("cancel",s),Bt("close",s);break;case"iframe":case"object":case"embed":Bt("load",s);break;case"video":case"audio":for(a=0;a<Hl.length;a++)Bt(Hl[a],s);break;case"source":Bt("error",s);break;case"img":case"image":case"link":Bt("error",s),Bt("load",s);break;case"details":Bt("toggle",s);break;case"input":Bt("invalid",s),nc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Bt("invalid",s);break;case"textarea":Bt("invalid",s),Qs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Ab(s.textContent,a)?(l.popover!=null&&(Bt("beforetoggle",s),Bt("toggle",s)),l.onScroll!=null&&Bt("scroll",s),l.onScrollEnd!=null&&Bt("scrollend",s),l.onClick!=null&&(s.onclick=Mi),s=!0):s=!1,s||sr(n,!0)}function uv(n){for(cn=n.return;cn;)switch(cn.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:cn=cn.return}}function Ja(n){if(n!==cn)return!1;if(!Kt)return uv(n),Kt=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Tm(n.type,n.memoizedProps)),a=!a),a&&fe&&sr(n),uv(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));fe=Ob(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));fe=Ob(n)}else s===27?(s=fe,vr(n.type)?(n=Cm,Cm=null,fe=n):fe=s):fe=cn?xi(n.stateNode.nextSibling):null;return!0}function ra(){fe=cn=null,Kt=!1}function rd(){var n=ir;return n!==null&&(Yn===null?Yn=n:Yn.push.apply(Yn,n),ir=null),n}function xl(n){ir===null?ir=[n]:ir.push(n)}var ad=F(null),aa=null,Rs=null;function rr(n,s,a){ut(ad,s._currentValue),s._currentValue=a}function Ds(n){n._currentValue=ad.current,et(ad)}function od(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function ld(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var _=f.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=f;for(var U=0;U<s.length;U++)if(C.context===s[U]){g.lanes|=a,C=g.alternate,C!==null&&(C.lanes|=a),od(g.return,a,n),l||(_=null);break t}g=C.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,g=_.alternate,g!==null&&(g.lanes|=a),od(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Wa(n,s,a,l){n=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var C=f.type;ii(f.pendingProps.value,_.value)||(n!==null?n.push(C):n=[C])}}else if(f===lt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Xl):n=[Xl])}f=f.return}n!==null&&ld(s,n,a,l),s.flags|=262144}function Sc(n){for(n=n.firstContext;n!==null;){if(!ii(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function oa(n){aa=n,Rs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function hn(n){return cv(aa,n)}function Ac(n,s){return aa===null&&oa(n),cv(n,s)}function cv(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Rs===null){if(n===null)throw Error(r(308));Rs=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Rs=Rs.next=s;return a}var Tw=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Ew=e.unstable_scheduleCallback,Sw=e.unstable_NormalPriority,ze={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ud(){return{controller:new Tw,data:new Map,refCount:0}}function Tl(n){n.refCount--,n.refCount===0&&Ew(Sw,function(){n.controller.abort()})}var El=null,cd=0,to=0,eo=null;function Aw(n,s){if(El===null){var a=El=[];cd=0,to=dm(),eo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cd++,s.then(hv,hv),s}function hv(){if(--cd===0&&El!==null){eo!==null&&(eo.status="fulfilled");var n=El;El=null,to=0,eo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function ww(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var fv=tt.S;tt.S=function(n,s){Q0=je(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Aw(n,s),fv!==null&&fv(n,s)};var la=F(null);function hd(){var n=la.current;return n!==null?n:ce.pooledCache}function wc(n,s){s===null?ut(la,la.current):ut(la,s.pool)}function dv(){var n=hd();return n===null?null:{parent:ze._currentValue,pool:n}}var no=Error(r(460)),fd=Error(r(474)),Cc=Error(r(542)),Rc={then:function(){}};function mv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pv(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Mi,Mi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,yv(n),n;default:if(typeof s.status=="string")s.then(Mi,Mi);else{if(n=ce,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,yv(n),n}throw ca=s,no}}function ua(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ca=a,no):a}}var ca=null;function gv(){if(ca===null)throw Error(r(459));var n=ca;return ca=null,n}function yv(n){if(n===no||n===Cc)throw Error(r(483))}var io=null,Sl=0;function Dc(n){var s=Sl;return Sl+=1,io===null&&(io=[]),pv(io,n,s)}function Al(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Nc(n,s){throw s.$$typeof===x?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function vv(n){function s(K,H){if(n){var Q=K.deletions;Q===null?(K.deletions=[H],K.flags|=16):Q.push(H)}}function a(K,H){if(!n)return null;for(;H!==null;)s(K,H),H=H.sibling;return null}function l(K){for(var H=new Map;K!==null;)K.key!==null?H.set(K.key,K):H.set(K.index,K),K=K.sibling;return H}function f(K,H){return K=ws(K,H),K.index=0,K.sibling=null,K}function g(K,H,Q){return K.index=Q,n?(Q=K.alternate,Q!==null?(Q=Q.index,Q<H?(K.flags|=67108866,H):Q):(K.flags|=67108866,H)):(K.flags|=1048576,H)}function _(K){return n&&K.alternate===null&&(K.flags|=67108866),K}function C(K,H,Q,it){return H===null||H.tag!==6?(H=td(Q,K.mode,it),H.return=K,H):(H=f(H,Q),H.return=K,H)}function U(K,H,Q,it){var Tt=Q.type;return Tt===I?nt(K,H,Q.props.children,it,Q.key):H!==null&&(H.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===S&&ua(Tt)===H.type)?(H=f(H,Q.props),Al(H,Q),H.return=K,H):(H=Tc(Q.type,Q.key,Q.props,null,K.mode,it),Al(H,Q),H.return=K,H)}function $(K,H,Q,it){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=ed(Q,K.mode,it),H.return=K,H):(H=f(H,Q.children||[]),H.return=K,H)}function nt(K,H,Q,it,Tt){return H===null||H.tag!==7?(H=sa(Q,K.mode,it,Tt),H.return=K,H):(H=f(H,Q),H.return=K,H)}function rt(K,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=td(""+H,K.mode,Q),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return Q=Tc(H.type,H.key,H.props,null,K.mode,Q),Al(Q,H),Q.return=K,Q;case j:return H=ed(H,K.mode,Q),H.return=K,H;case S:return H=ua(H),rt(K,H,Q)}if(Pt(H)||q(H))return H=sa(H,K.mode,Q,null),H.return=K,H;if(typeof H.then=="function")return rt(K,Dc(H),Q);if(H.$$typeof===P)return rt(K,Ac(K,H),Q);Nc(K,H)}return null}function Z(K,H,Q,it){var Tt=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Tt!==null?null:C(K,H,""+Q,it);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return Q.key===Tt?U(K,H,Q,it):null;case j:return Q.key===Tt?$(K,H,Q,it):null;case S:return Q=ua(Q),Z(K,H,Q,it)}if(Pt(Q)||q(Q))return Tt!==null?null:nt(K,H,Q,it,null);if(typeof Q.then=="function")return Z(K,H,Dc(Q),it);if(Q.$$typeof===P)return Z(K,H,Ac(K,Q),it);Nc(K,Q)}return null}function W(K,H,Q,it,Tt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return K=K.get(Q)||null,C(H,K,""+it,Tt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case w:return K=K.get(it.key===null?Q:it.key)||null,U(H,K,it,Tt);case j:return K=K.get(it.key===null?Q:it.key)||null,$(H,K,it,Tt);case S:return it=ua(it),W(K,H,Q,it,Tt)}if(Pt(it)||q(it))return K=K.get(Q)||null,nt(H,K,it,Tt,null);if(typeof it.then=="function")return W(K,H,Q,Dc(it),Tt);if(it.$$typeof===P)return W(K,H,Q,Ac(H,it),Tt);Nc(H,it)}return null}function mt(K,H,Q,it){for(var Tt=null,Zt=null,gt=H,jt=H=0,Ht=null;gt!==null&&jt<Q.length;jt++){gt.index>jt?(Ht=gt,gt=null):Ht=gt.sibling;var Jt=Z(K,gt,Q[jt],it);if(Jt===null){gt===null&&(gt=Ht);break}n&&gt&&Jt.alternate===null&&s(K,gt),H=g(Jt,H,jt),Zt===null?Tt=Jt:Zt.sibling=Jt,Zt=Jt,gt=Ht}if(jt===Q.length)return a(K,gt),Kt&&Cs(K,jt),Tt;if(gt===null){for(;jt<Q.length;jt++)gt=rt(K,Q[jt],it),gt!==null&&(H=g(gt,H,jt),Zt===null?Tt=gt:Zt.sibling=gt,Zt=gt);return Kt&&Cs(K,jt),Tt}for(gt=l(gt);jt<Q.length;jt++)Ht=W(gt,K,jt,Q[jt],it),Ht!==null&&(n&&Ht.alternate!==null&&gt.delete(Ht.key===null?jt:Ht.key),H=g(Ht,H,jt),Zt===null?Tt=Ht:Zt.sibling=Ht,Zt=Ht);return n&&gt.forEach(function(Er){return s(K,Er)}),Kt&&Cs(K,jt),Tt}function St(K,H,Q,it){if(Q==null)throw Error(r(151));for(var Tt=null,Zt=null,gt=H,jt=H=0,Ht=null,Jt=Q.next();gt!==null&&!Jt.done;jt++,Jt=Q.next()){gt.index>jt?(Ht=gt,gt=null):Ht=gt.sibling;var Er=Z(K,gt,Jt.value,it);if(Er===null){gt===null&&(gt=Ht);break}n&&gt&&Er.alternate===null&&s(K,gt),H=g(Er,H,jt),Zt===null?Tt=Er:Zt.sibling=Er,Zt=Er,gt=Ht}if(Jt.done)return a(K,gt),Kt&&Cs(K,jt),Tt;if(gt===null){for(;!Jt.done;jt++,Jt=Q.next())Jt=rt(K,Jt.value,it),Jt!==null&&(H=g(Jt,H,jt),Zt===null?Tt=Jt:Zt.sibling=Jt,Zt=Jt);return Kt&&Cs(K,jt),Tt}for(gt=l(gt);!Jt.done;jt++,Jt=Q.next())Jt=W(gt,K,jt,Jt.value,it),Jt!==null&&(n&&Jt.alternate!==null&&gt.delete(Jt.key===null?jt:Jt.key),H=g(Jt,H,jt),Zt===null?Tt=Jt:Zt.sibling=Jt,Zt=Jt);return n&&gt.forEach(function(L2){return s(K,L2)}),Kt&&Cs(K,jt),Tt}function ue(K,H,Q,it){if(typeof Q=="object"&&Q!==null&&Q.type===I&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:t:{for(var Tt=Q.key;H!==null;){if(H.key===Tt){if(Tt=Q.type,Tt===I){if(H.tag===7){a(K,H.sibling),it=f(H,Q.props.children),it.return=K,K=it;break t}}else if(H.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===S&&ua(Tt)===H.type){a(K,H.sibling),it=f(H,Q.props),Al(it,Q),it.return=K,K=it;break t}a(K,H);break}else s(K,H);H=H.sibling}Q.type===I?(it=sa(Q.props.children,K.mode,it,Q.key),it.return=K,K=it):(it=Tc(Q.type,Q.key,Q.props,null,K.mode,it),Al(it,Q),it.return=K,K=it)}return _(K);case j:t:{for(Tt=Q.key;H!==null;){if(H.key===Tt)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){a(K,H.sibling),it=f(H,Q.children||[]),it.return=K,K=it;break t}else{a(K,H);break}else s(K,H);H=H.sibling}it=ed(Q,K.mode,it),it.return=K,K=it}return _(K);case S:return Q=ua(Q),ue(K,H,Q,it)}if(Pt(Q))return mt(K,H,Q,it);if(q(Q)){if(Tt=q(Q),typeof Tt!="function")throw Error(r(150));return Q=Tt.call(Q),St(K,H,Q,it)}if(typeof Q.then=="function")return ue(K,H,Dc(Q),it);if(Q.$$typeof===P)return ue(K,H,Ac(K,Q),it);Nc(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(a(K,H.sibling),it=f(H,Q),it.return=K,K=it):(a(K,H),it=td(Q,K.mode,it),it.return=K,K=it),_(K)):a(K,H)}return function(K,H,Q,it){try{Sl=0;var Tt=ue(K,H,Q,it);return io=null,Tt}catch(gt){if(gt===no||gt===Cc)throw gt;var Zt=si(29,gt,null,K.mode);return Zt.lanes=it,Zt.return=K,Zt}}}var ha=vv(!0),bv=vv(!1),ar=!1;function dd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function or(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function lr(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=xc(n),nv(n,null,a),s}return _c(n,l,s,a),xc(n)}function wl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Tn(n,a)}}function pd(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=_:g=g.next=_,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var gd=!1;function Cl(){if(gd){var n=eo;if(n!==null)throw n}}function Rl(n,s,a,l){gd=!1;var f=n.updateQueue;ar=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var U=C,$=U.next;U.next=null,_===null?g=$:_.next=$,_=U;var nt=n.alternate;nt!==null&&(nt=nt.updateQueue,C=nt.lastBaseUpdate,C!==_&&(C===null?nt.firstBaseUpdate=$:C.next=$,nt.lastBaseUpdate=U))}if(g!==null){var rt=f.baseState;_=0,nt=$=U=null,C=g;do{var Z=C.lane&-536870913,W=Z!==C.lane;if(W?(Ft&Z)===Z:(l&Z)===Z){Z!==0&&Z===to&&(gd=!0),nt!==null&&(nt=nt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var mt=n,St=C;Z=s;var ue=a;switch(St.tag){case 1:if(mt=St.payload,typeof mt=="function"){rt=mt.call(ue,rt,Z);break t}rt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=St.payload,Z=typeof mt=="function"?mt.call(ue,rt,Z):mt,Z==null)break t;rt=v({},rt,Z);break t;case 2:ar=!0}}Z=C.callback,Z!==null&&(n.flags|=64,W&&(n.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Z]:W.push(Z))}else W={lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},nt===null?($=nt=W,U=rt):nt=nt.next=W,_|=Z;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;W=C,C=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);nt===null&&(U=rt),f.baseState=U,f.firstBaseUpdate=$,f.lastBaseUpdate=nt,g===null&&(f.shared.lanes=0),dr|=_,n.lanes=_,n.memoizedState=rt}}function _v(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function xv(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)_v(a[n],s)}var so=F(null),Mc=F(0);function Tv(n,s){n=Ps,ut(Mc,n),ut(so,s),Ps=n|s.baseLanes}function yd(){ut(Mc,Ps),ut(so,so.current)}function vd(){Ps=Mc.current,et(so),et(Mc)}var ri=F(null),_i=null;function ur(n){var s=n.alternate;ut(Ve,Ve.current&1),ut(ri,n),_i===null&&(s===null||so.current!==null||s.memoizedState!==null)&&(_i=n)}function bd(n){ut(Ve,Ve.current),ut(ri,n),_i===null&&(_i=n)}function Ev(n){n.tag===22?(ut(Ve,Ve.current),ut(ri,n),_i===null&&(_i=n)):cr()}function cr(){ut(Ve,Ve.current),ut(ri,ri.current)}function ai(n){et(ri),_i===n&&(_i=null),et(Ve)}var Ve=F(0);function Vc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Am(a)||wm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ns=0,Ot=null,oe=null,Be=null,Ic=!1,ro=!1,fa=!1,Oc=0,Dl=0,ao=null,Cw=0;function we(){throw Error(r(321))}function _d(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!ii(n[a],s[a]))return!1;return!0}function xd(n,s,a,l,f,g){return Ns=g,Ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,tt.H=n===null||n.memoizedState===null?a0:kd,fa=!1,g=a(l,f),fa=!1,ro&&(g=Av(s,a,l,f)),Sv(n),g}function Sv(n){tt.H=Vl;var s=oe!==null&&oe.next!==null;if(Ns=0,Be=oe=Ot=null,Ic=!1,Dl=0,ao=null,s)throw Error(r(300));n===null||Fe||(n=n.dependencies,n!==null&&Sc(n)&&(Fe=!0))}function Av(n,s,a,l){Ot=n;var f=0;do{if(ro&&(ao=null),Dl=0,ro=!1,25<=f)throw Error(r(301));if(f+=1,Be=oe=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}tt.H=o0,g=s(a,l)}while(ro);return g}function Rw(){var n=tt.H,s=n.useState()[0];return s=typeof s.then=="function"?Nl(s):s,n=n.useState()[0],(oe!==null?oe.memoizedState:null)!==n&&(Ot.flags|=1024),s}function Td(){var n=Oc!==0;return Oc=0,n}function Ed(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Sd(n){if(Ic){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ic=!1}Ns=0,Be=oe=Ot=null,ro=!1,Dl=Oc=0,ao=null}function kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ot.memoizedState=Be=n:Be=Be.next=n,Be}function Ie(){if(oe===null){var n=Ot.alternate;n=n!==null?n.memoizedState:null}else n=oe.next;var s=Be===null?Ot.memoizedState:Be.next;if(s!==null)Be=s,oe=n;else{if(n===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));oe=n,n={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Be===null?Ot.memoizedState=Be=n:Be=Be.next=n}return Be}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(n){var s=Dl;return Dl+=1,ao===null&&(ao=[]),n=pv(ao,n,s),s=Ot,(Be===null?s.memoizedState:Be.next)===null&&(s=s.alternate,tt.H=s===null||s.memoizedState===null?a0:kd),n}function kc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Nl(n);if(n.$$typeof===P)return hn(n)}throw Error(r(438,String(n)))}function Ad(n){var s=null,a=Ot.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=jc(),Ot.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=L;return s.index++,a}function Ms(n,s){return typeof s=="function"?s(n):s}function Lc(n){var s=Ie();return wd(s,oe,n)}function wd(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,g=l.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}s.baseQueue=f=g,l.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{s=f.next;var C=_=null,U=null,$=s,nt=!1;do{var rt=$.lane&-536870913;if(rt!==$.lane?(Ft&rt)===rt:(Ns&rt)===rt){var Z=$.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),rt===to&&(nt=!0);else if((Ns&Z)===Z){$=$.next,Z===to&&(nt=!0);continue}else rt={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},U===null?(C=U=rt,_=g):U=U.next=rt,Ot.lanes|=Z,dr|=Z;rt=$.action,fa&&a(g,rt),g=$.hasEagerState?$.eagerState:a(g,rt)}else Z={lane:rt,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},U===null?(C=U=Z,_=g):U=U.next=Z,Ot.lanes|=rt,dr|=rt;$=$.next}while($!==null&&$!==s);if(U===null?_=g:U.next=C,!ii(g,n.memoizedState)&&(Fe=!0,nt&&(a=eo,a!==null)))throw a;n.memoizedState=g,n.baseState=_,n.baseQueue=U,l.lastRenderedState=g}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Cd(n){var s=Ie(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do g=n(g,_.action),_=_.next;while(_!==f);ii(g,s.memoizedState)||(Fe=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,l]}function wv(n,s,a){var l=Ot,f=Ie(),g=Kt;if(g){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!ii((oe||f).memoizedState,a);if(_&&(f.memoizedState=a,Fe=!0),f=f.queue,Nd(Dv.bind(null,l,f,n),[n]),f.getSnapshot!==s||_||Be!==null&&Be.memoizedState.tag&1){if(l.flags|=2048,oo(9,{destroy:void 0},Rv.bind(null,l,f,a,s),null),ce===null)throw Error(r(349));g||(Ns&127)!==0||Cv(l,s,a)}return a}function Cv(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ot.updateQueue,s===null?(s=jc(),Ot.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Rv(n,s,a,l){s.value=a,s.getSnapshot=l,Nv(s)&&Mv(n)}function Dv(n,s,a){return a(function(){Nv(s)&&Mv(n)})}function Nv(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!ii(n,a)}catch{return!0}}function Mv(n){var s=ia(n,2);s!==null&&Xn(s,n,2)}function Rd(n){var s=kn();if(typeof n=="function"){var a=n;if(n=a(),fa){bn(!0);try{a()}finally{bn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:n},s}function Vv(n,s,a,l){return n.baseState=a,wd(n,oe,typeof l=="function"?l:Ms)}function Dw(n,s,a,l,f){if(zc(n))throw Error(r(485));if(n=s.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};tt.T!==null?a(!0):g.isTransition=!1,l(g),a=s.pending,a===null?(g.next=s.pending=g,Iv(s,g)):(g.next=a.next,s.pending=a.next=g)}}function Iv(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var g=tt.T,_={};tt.T=_;try{var C=a(f,l),U=tt.S;U!==null&&U(_,C),Ov(n,s,C)}catch($){Dd(n,s,$)}finally{g!==null&&_.types!==null&&(g.types=_.types),tt.T=g}}else try{g=a(f,l),Ov(n,s,g)}catch($){Dd(n,s,$)}}function Ov(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jv(n,s,l)},function(l){return Dd(n,s,l)}):jv(n,s,a)}function jv(n,s,a){s.status="fulfilled",s.value=a,kv(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Iv(n,a)))}function Dd(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,kv(s),s=s.next;while(s!==l)}n.action=null}function kv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Lv(n,s){return s}function Pv(n,s){if(Kt){var a=ce.formState;if(a!==null){t:{var l=Ot;if(Kt){if(fe){e:{for(var f=fe,g=bi;f.nodeType!==8;){if(!g){f=null;break e}if(f=xi(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){fe=xi(f.nextSibling),l=f.data==="F!";break t}}sr(l)}l=!1}l&&(s=a[0])}}return a=kn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lv,lastRenderedState:s},a.queue=l,a=i0.bind(null,Ot,l),l.dispatch=a,l=Rd(!1),g=jd.bind(null,Ot,!1,l.queue),l=kn(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=Dw.bind(null,Ot,f,g,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function Uv(n){var s=Ie();return zv(s,oe,n)}function zv(n,s,a){if(s=wd(n,s,Lv)[0],n=Lc(Ms)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Nl(s)}catch(_){throw _===no?Cc:_}else l=s;s=Ie();var f=s.queue,g=f.dispatch;return a!==s.memoizedState&&(Ot.flags|=2048,oo(9,{destroy:void 0},Nw.bind(null,f,a),null)),[l,g,n]}function Nw(n,s){n.action=s}function Bv(n){var s=Ie(),a=oe;if(a!==null)return zv(s,a,n);Ie(),s=s.memoizedState,a=Ie();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function oo(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Ot.updateQueue,s===null&&(s=jc(),Ot.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function Fv(){return Ie().memoizedState}function Pc(n,s,a,l){var f=kn();Ot.flags|=n,f.memoizedState=oo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Uc(n,s,a,l){var f=Ie();l=l===void 0?null:l;var g=f.memoizedState.inst;oe!==null&&l!==null&&_d(l,oe.memoizedState.deps)?f.memoizedState=oo(s,g,a,l):(Ot.flags|=n,f.memoizedState=oo(1|s,g,a,l))}function Hv(n,s){Pc(8390656,8,n,s)}function Nd(n,s){Uc(2048,8,n,s)}function Mw(n){Ot.flags|=4;var s=Ot.updateQueue;if(s===null)s=jc(),Ot.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function qv(n){var s=Ie().memoizedState;return Mw({ref:s,nextImpl:n}),function(){if((te&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Gv(n,s){return Uc(4,2,n,s)}function Kv(n,s){return Uc(4,4,n,s)}function Yv(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Xv(n,s,a){a=a!=null?a.concat([n]):null,Uc(4,4,Yv.bind(null,s,n),a)}function Md(){}function Qv(n,s){var a=Ie();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&_d(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function $v(n,s){var a=Ie();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&_d(s,l[1]))return l[0];if(l=n(),fa){bn(!0);try{n()}finally{bn(!1)}}return a.memoizedState=[l,s],l}function Vd(n,s,a){return a===void 0||(Ns&1073741824)!==0&&(Ft&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=Z0(),Ot.lanes|=n,dr|=n,a)}function Zv(n,s,a,l){return ii(a,s)?a:so.current!==null?(n=Vd(n,a,l),ii(n,s)||(Fe=!0),n):(Ns&42)===0||(Ns&1073741824)!==0&&(Ft&261930)===0?(Fe=!0,n.memoizedState=a):(n=Z0(),Ot.lanes|=n,dr|=n,s)}function Jv(n,s,a,l,f){var g=st.p;st.p=g!==0&&8>g?g:8;var _=tt.T,C={};tt.T=C,jd(n,!1,s,a);try{var U=f(),$=tt.S;if($!==null&&$(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var nt=ww(U,l);Ml(n,s,nt,ui(n))}else Ml(n,s,l,ui(n))}catch(rt){Ml(n,s,{then:function(){},status:"rejected",reason:rt},ui())}finally{st.p=g,_!==null&&C.types!==null&&(_.types=C.types),tt.T=_}}function Vw(){}function Id(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=Wv(n).queue;Jv(n,f,s,ft,a===null?Vw:function(){return t0(n),a(l)})}function Wv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function t0(n){var s=Wv(n);s.next===null&&(s=n.alternate.memoizedState),Ml(n,s.next.queue,{},ui())}function Od(){return hn(Xl)}function e0(){return Ie().memoizedState}function n0(){return Ie().memoizedState}function Iw(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=ui();n=or(a);var l=lr(s,n,a);l!==null&&(Xn(l,s,a),wl(l,s,a)),s={cache:ud()},n.payload=s;return}s=s.return}}function Ow(n,s,a){var l=ui();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zc(n)?s0(s,a):(a=Jf(n,s,a,l),a!==null&&(Xn(a,n,l),r0(a,s,l)))}function i0(n,s,a){var l=ui();Ml(n,s,a,l)}function Ml(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zc(n))s0(s,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,C=g(_,a);if(f.hasEagerState=!0,f.eagerState=C,ii(C,_))return _c(n,s,f,0),ce===null&&bc(),!1}catch{}if(a=Jf(n,s,f,l),a!==null)return Xn(a,n,l),r0(a,s,l),!0}return!1}function jd(n,s,a,l){if(l={lane:2,revertLane:dm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zc(n)){if(s)throw Error(r(479))}else s=Jf(n,a,l,2),s!==null&&Xn(s,n,2)}function zc(n){var s=n.alternate;return n===Ot||s!==null&&s===Ot}function s0(n,s){ro=Ic=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function r0(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Tn(n,a)}}var Vl={readContext:hn,use:kc,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};Vl.useEffectEvent=we;var a0={readContext:hn,use:kc,useCallback:function(n,s){return kn().memoizedState=[n,s===void 0?null:s],n},useContext:hn,useEffect:Hv,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Pc(4194308,4,Yv.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Pc(4194308,4,n,s)},useInsertionEffect:function(n,s){Pc(4,2,n,s)},useMemo:function(n,s){var a=kn();s=s===void 0?null:s;var l=n();if(fa){bn(!0);try{n()}finally{bn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=kn();if(a!==void 0){var f=a(s);if(fa){bn(!0);try{a(s)}finally{bn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Ow.bind(null,Ot,n),[l.memoizedState,n]},useRef:function(n){var s=kn();return n={current:n},s.memoizedState=n},useState:function(n){n=Rd(n);var s=n.queue,a=i0.bind(null,Ot,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Md,useDeferredValue:function(n,s){var a=kn();return Vd(a,n,s)},useTransition:function(){var n=Rd(!1);return n=Jv.bind(null,Ot,n.queue,!0,!1),kn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Ot,f=kn();if(Kt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ce===null)throw Error(r(349));(Ft&127)!==0||Cv(l,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Hv(Dv.bind(null,l,g,n),[n]),l.flags|=2048,oo(9,{destroy:void 0},Rv.bind(null,l,g,a,s),null),a},useId:function(){var n=kn(),s=ce.identifierPrefix;if(Kt){var a=os,l=as;a=(l&~(1<<32-pe(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Oc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Cw++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Od,useFormState:Pv,useActionState:Pv,useOptimistic:function(n){var s=kn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=jd.bind(null,Ot,!0,a),a.dispatch=s,[n,s]},useMemoCache:Ad,useCacheRefresh:function(){return kn().memoizedState=Iw.bind(null,Ot)},useEffectEvent:function(n){var s=kn(),a={impl:n};return s.memoizedState=a,function(){if((te&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},kd={readContext:hn,use:kc,useCallback:Qv,useContext:hn,useEffect:Nd,useImperativeHandle:Xv,useInsertionEffect:Gv,useLayoutEffect:Kv,useMemo:$v,useReducer:Lc,useRef:Fv,useState:function(){return Lc(Ms)},useDebugValue:Md,useDeferredValue:function(n,s){var a=Ie();return Zv(a,oe.memoizedState,n,s)},useTransition:function(){var n=Lc(Ms)[0],s=Ie().memoizedState;return[typeof n=="boolean"?n:Nl(n),s]},useSyncExternalStore:wv,useId:e0,useHostTransitionStatus:Od,useFormState:Uv,useActionState:Uv,useOptimistic:function(n,s){var a=Ie();return Vv(a,oe,n,s)},useMemoCache:Ad,useCacheRefresh:n0};kd.useEffectEvent=qv;var o0={readContext:hn,use:kc,useCallback:Qv,useContext:hn,useEffect:Nd,useImperativeHandle:Xv,useInsertionEffect:Gv,useLayoutEffect:Kv,useMemo:$v,useReducer:Cd,useRef:Fv,useState:function(){return Cd(Ms)},useDebugValue:Md,useDeferredValue:function(n,s){var a=Ie();return oe===null?Vd(a,n,s):Zv(a,oe.memoizedState,n,s)},useTransition:function(){var n=Cd(Ms)[0],s=Ie().memoizedState;return[typeof n=="boolean"?n:Nl(n),s]},useSyncExternalStore:wv,useId:e0,useHostTransitionStatus:Od,useFormState:Bv,useActionState:Bv,useOptimistic:function(n,s){var a=Ie();return oe!==null?Vv(a,oe,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:n0};o0.useEffectEvent=qv;function Ld(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Pd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=ui(),f=or(l);f.payload=s,a!=null&&(f.callback=a),s=lr(n,f,l),s!==null&&(Xn(s,n,l),wl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=ui(),f=or(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=lr(n,f,l),s!==null&&(Xn(s,n,l),wl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=ui(),l=or(a);l.tag=2,s!=null&&(l.callback=s),s=lr(n,l,a),s!==null&&(Xn(s,n,a),wl(s,n,a))}};function l0(n,s,a,l,f,g,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,g,_):s.prototype&&s.prototype.isPureReactComponent?!vl(a,l)||!vl(f,g):!0}function u0(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Pd.enqueueReplaceState(s,s.state,null)}function da(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function c0(n){vc(n)}function h0(n){console.error(n)}function f0(n){vc(n)}function Bc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function d0(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ud(n,s,a){return a=or(a),a.tag=3,a.payload={element:null},a.callback=function(){Bc(n,s)},a}function m0(n){return n=or(n),n.tag=3,n}function p0(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=l.value;n.payload=function(){return f(g)},n.callback=function(){d0(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){d0(s,a,l),typeof f!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function jw(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Wa(s,a,f,!0),a=ri.current,a!==null){switch(a.tag){case 31:case 13:return _i===null?Wc():a.alternate===null&&Ce===0&&(Ce=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Rc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),cm(n,l,f)),!1;case 22:return a.flags|=65536,l===Rc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),cm(n,l,f)),!1}throw Error(r(435,a.tag))}return cm(n,l,f),Wc(),!1}if(Kt)return s=ri.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==sd&&(n=Error(r(422),{cause:l}),xl(gi(n,a)))):(l!==sd&&(s=Error(r(423),{cause:l}),xl(gi(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=gi(l,a),f=Ud(n.stateNode,l,f),pd(n,f),Ce!==4&&(Ce=2)),!1;var g=Error(r(520),{cause:l});if(g=gi(g,a),zl===null?zl=[g]:zl.push(g),Ce!==4&&(Ce=2),s===null)return!0;l=gi(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ud(a.stateNode,l,n),pd(a,n),!1;case 1:if(s=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(mr===null||!mr.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=m0(f),p0(f,n,a,l),pd(a,f),!1}a=a.return}while(a!==null);return!1}var zd=Error(r(461)),Fe=!1;function fn(n,s,a,l){s.child=n===null?bv(s,null,a,l):ha(s,n.child,a,l)}function g0(n,s,a,l,f){a=a.render;var g=s.ref;if("ref"in l){var _={};for(var C in l)C!=="ref"&&(_[C]=l[C])}else _=l;return oa(s),l=xd(n,s,a,_,g,f),C=Td(),n!==null&&!Fe?(Ed(n,s,f),Vs(n,s,f)):(Kt&&C&&nd(s),s.flags|=1,fn(n,s,l,f),s.child)}function y0(n,s,a,l,f){if(n===null){var g=a.type;return typeof g=="function"&&!Wf(g)&&g.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=g,v0(n,s,g,l,f)):(n=Tc(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!Xd(n,f)){var _=g.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(_,l)&&n.ref===s.ref)return Vs(n,s,f)}return s.flags|=1,n=ws(g,l),n.ref=s.ref,n.return=s,s.child=n}function v0(n,s,a,l,f){if(n!==null){var g=n.memoizedProps;if(vl(g,l)&&n.ref===s.ref)if(Fe=!1,s.pendingProps=l=g,Xd(n,f))(n.flags&131072)!==0&&(Fe=!0);else return s.lanes=n.lanes,Vs(n,s,f)}return Bd(n,s,a,l,f)}function b0(n,s,a,l){var f=l.children,g=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~g}else l=0,s.child=null;return _0(n,s,g,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&wc(s,g!==null?g.cachePool:null),g!==null?Tv(s,g):yd(),Ev(s);else return l=s.lanes=536870912,_0(n,s,g!==null?g.baseLanes|a:a,a,l)}else g!==null?(wc(s,g.cachePool),Tv(s,g),cr(),s.memoizedState=null):(n!==null&&wc(s,null),yd(),cr());return fn(n,s,f,a),s.child}function Il(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function _0(n,s,a,l,f){var g=hd();return g=g===null?null:{parent:ze._currentValue,pool:g},s.memoizedState={baseLanes:a,cachePool:g},n!==null&&wc(s,null),yd(),Ev(s),n!==null&&Wa(n,s,l,!0),s.childLanes=f,null}function Fc(n,s){return s=qc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function x0(n,s,a){return ha(s,n.child,null,a),n=Fc(s,s.pendingProps),n.flags|=2,ai(s),s.memoizedState=null,n}function kw(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Kt){if(l.mode==="hidden")return n=Fc(s,l),s.lanes=536870912,Il(null,n);if(bd(s),(n=fe)?(n=Ib(n,bi),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:nr!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},a=sv(n),a.return=s,s.child=a,cn=s,fe=null)):n=null,n===null)throw sr(s);return s.lanes=536870912,null}return Fc(s,l)}var g=n.memoizedState;if(g!==null){var _=g.dehydrated;if(bd(s),f)if(s.flags&256)s.flags&=-257,s=x0(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Fe||Wa(n,s,a,!1),f=(a&n.childLanes)!==0,Fe||f){if(l=ce,l!==null&&(_=Vn(l,a),_!==0&&_!==g.retryLane))throw g.retryLane=_,ia(n,_),Xn(l,n,_),zd;Wc(),s=x0(n,s,a)}else n=g.treeContext,fe=xi(_.nextSibling),cn=s,Kt=!0,ir=null,bi=!1,n!==null&&ov(s,n),s=Fc(s,l),s.flags|=4096;return s}return n=ws(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Hc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Bd(n,s,a,l,f){return oa(s),a=xd(n,s,a,l,void 0,f),l=Td(),n!==null&&!Fe?(Ed(n,s,f),Vs(n,s,f)):(Kt&&l&&nd(s),s.flags|=1,fn(n,s,a,f),s.child)}function T0(n,s,a,l,f,g){return oa(s),s.updateQueue=null,a=Av(s,l,a,f),Sv(n),l=Td(),n!==null&&!Fe?(Ed(n,s,g),Vs(n,s,g)):(Kt&&l&&nd(s),s.flags|=1,fn(n,s,a,g),s.child)}function E0(n,s,a,l,f){if(oa(s),s.stateNode===null){var g=Qa,_=a.contextType;typeof _=="object"&&_!==null&&(g=hn(_)),g=new a(l,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Pd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=l,g.state=s.memoizedState,g.refs={},dd(s),_=a.contextType,g.context=typeof _=="object"&&_!==null?hn(_):Qa,g.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ld(s,a,_,l),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&Pd.enqueueReplaceState(g,g.state,null),Rl(s,l,g,f),Cl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){g=s.stateNode;var C=s.memoizedProps,U=da(a,C);g.props=U;var $=g.context,nt=a.contextType;_=Qa,typeof nt=="object"&&nt!==null&&(_=hn(nt));var rt=a.getDerivedStateFromProps;nt=typeof rt=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,nt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||$!==_)&&u0(s,g,l,_),ar=!1;var Z=s.memoizedState;g.state=Z,Rl(s,l,g,f),Cl(),$=s.memoizedState,C||Z!==$||ar?(typeof rt=="function"&&(Ld(s,a,rt,l),$=s.memoizedState),(U=ar||l0(s,a,U,l,Z,$,_))?(nt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=$),g.props=l,g.state=$,g.context=_,l=U):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{g=s.stateNode,md(n,s),_=s.memoizedProps,nt=da(a,_),g.props=nt,rt=s.pendingProps,Z=g.context,$=a.contextType,U=Qa,typeof $=="object"&&$!==null&&(U=hn($)),C=a.getDerivedStateFromProps,($=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==rt||Z!==U)&&u0(s,g,l,U),ar=!1,Z=s.memoizedState,g.state=Z,Rl(s,l,g,f),Cl();var W=s.memoizedState;_!==rt||Z!==W||ar||n!==null&&n.dependencies!==null&&Sc(n.dependencies)?(typeof C=="function"&&(Ld(s,a,C,l),W=s.memoizedState),(nt=ar||l0(s,a,nt,l,Z,W,U)||n!==null&&n.dependencies!==null&&Sc(n.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,W,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,W,U)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===n.memoizedProps&&Z===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Z===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=W),g.props=l,g.state=W,g.context=U,l=nt):(typeof g.componentDidUpdate!="function"||_===n.memoizedProps&&Z===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Z===n.memoizedState||(s.flags|=1024),l=!1)}return g=l,Hc(n,s),l=(s.flags&128)!==0,g||l?(g=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&l?(s.child=ha(s,n.child,null,f),s.child=ha(s,null,a,f)):fn(n,s,a,f),s.memoizedState=g.state,n=s.child):n=Vs(n,s,f),n}function S0(n,s,a,l){return ra(),s.flags|=256,fn(n,s,a,l),s.child}var Fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(n){return{baseLanes:n,cachePool:dv()}}function qd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=li),n}function A0(n,s,a){var l=s.pendingProps,f=!1,g=(s.flags&128)!==0,_;if((_=g)||(_=n!==null&&n.memoizedState===null?!1:(Ve.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(Kt){if(f?ur(s):cr(),(n=fe)?(n=Ib(n,bi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:nr!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},a=sv(n),a.return=s,s.child=a,cn=s,fe=null)):n=null,n===null)throw sr(s);return wm(n)?s.lanes=32:s.lanes=536870912,null}var C=l.children;return l=l.fallback,f?(cr(),f=s.mode,C=qc({mode:"hidden",children:C},f),l=sa(l,f,a,null),C.return=s,l.return=s,C.sibling=l,s.child=C,l=s.child,l.memoizedState=Hd(a),l.childLanes=qd(n,_,a),s.memoizedState=Fd,Il(null,l)):(ur(s),Gd(s,C))}var U=n.memoizedState;if(U!==null&&(C=U.dehydrated,C!==null)){if(g)s.flags&256?(ur(s),s.flags&=-257,s=Kd(n,s,a)):s.memoizedState!==null?(cr(),s.child=n.child,s.flags|=128,s=null):(cr(),C=l.fallback,f=s.mode,l=qc({mode:"visible",children:l.children},f),C=sa(C,f,a,null),C.flags|=2,l.return=s,C.return=s,l.sibling=C,s.child=l,ha(s,n.child,null,a),l=s.child,l.memoizedState=Hd(a),l.childLanes=qd(n,_,a),s.memoizedState=Fd,s=Il(null,l));else if(ur(s),wm(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var $=_.dgst;_=$,l=Error(r(419)),l.stack="",l.digest=_,xl({value:l,source:null,stack:null}),s=Kd(n,s,a)}else if(Fe||Wa(n,s,a,!1),_=(a&n.childLanes)!==0,Fe||_){if(_=ce,_!==null&&(l=Vn(_,a),l!==0&&l!==U.retryLane))throw U.retryLane=l,ia(n,l),Xn(_,n,l),zd;Am(C)||Wc(),s=Kd(n,s,a)}else Am(C)?(s.flags|=192,s.child=n.child,s=null):(n=U.treeContext,fe=xi(C.nextSibling),cn=s,Kt=!0,ir=null,bi=!1,n!==null&&ov(s,n),s=Gd(s,l.children),s.flags|=4096);return s}return f?(cr(),C=l.fallback,f=s.mode,U=n.child,$=U.sibling,l=ws(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,$!==null?C=ws($,C):(C=sa(C,f,a,null),C.flags|=2),C.return=s,l.return=s,l.sibling=C,s.child=l,Il(null,l),l=s.child,C=n.child.memoizedState,C===null?C=Hd(a):(f=C.cachePool,f!==null?(U=ze._currentValue,f=f.parent!==U?{parent:U,pool:U}:f):f=dv(),C={baseLanes:C.baseLanes|a,cachePool:f}),l.memoizedState=C,l.childLanes=qd(n,_,a),s.memoizedState=Fd,Il(n.child,l)):(ur(s),a=n.child,n=a.sibling,a=ws(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=a,s.memoizedState=null,a)}function Gd(n,s){return s=qc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function qc(n,s){return n=si(22,n,null,s),n.lanes=0,n}function Kd(n,s,a){return ha(s,n.child,null,a),n=Gd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function w0(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),od(n.return,s,a)}function Yd(n,s,a,l,f,g){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:g}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=g)}function C0(n,s,a){var l=s.pendingProps,f=l.revealOrder,g=l.tail;l=l.children;var _=Ve.current,C=(_&2)!==0;if(C?(_=_&1|2,s.flags|=128):_&=1,ut(Ve,_),fn(n,s,l,a),l=Kt?_l:0,!C&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&w0(n,a,s);else if(n.tag===19)w0(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Vc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Yd(s,!1,f,a,g,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Vc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Yd(s,!0,a,null,g,l);break;case"together":Yd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Vs(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),dr|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Wa(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=ws(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ws(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Xd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Sc(n)))}function Lw(n,s,a){switch(s.tag){case 3:Vt(s,s.stateNode.containerInfo),rr(s,ze,n.memoizedState.cache),ra();break;case 27:case 5:At(s);break;case 4:Vt(s,s.stateNode.containerInfo);break;case 10:rr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,bd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ur(s),s.flags|=128,null):(a&s.child.childLanes)!==0?A0(n,s,a):(ur(s),n=Vs(n,s,a),n!==null?n.sibling:null);ur(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Wa(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return C0(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(Ve,Ve.current),l)break;return null;case 22:return s.lanes=0,b0(n,s,a,s.pendingProps);case 24:rr(s,ze,n.memoizedState.cache)}return Vs(n,s,a)}function R0(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Fe=!0;else{if(!Xd(n,a)&&(s.flags&128)===0)return Fe=!1,Lw(n,s,a);Fe=(n.flags&131072)!==0}else Fe=!1,Kt&&(s.flags&1048576)!==0&&av(s,_l,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(n=ua(s.elementType),s.type=n,typeof n=="function")Wf(n)?(l=da(n,l),s.tag=1,s=E0(null,s,n,l,a)):(s.tag=0,s=Bd(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===G){s.tag=11,s=g0(null,s,n,l,a);break t}else if(f===A){s.tag=14,s=y0(null,s,n,l,a);break t}}throw s=Ct(n)||n,Error(r(306,s,""))}}return s;case 0:return Bd(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=da(l,s.pendingProps),E0(n,s,l,f,a);case 3:t:{if(Vt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var g=s.memoizedState;f=g.element,md(n,s),Rl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,rr(s,ze,l),l!==g.cache&&ld(s,[ze],a,!0),Cl(),l=_.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=S0(n,s,l,a);break t}else if(l!==f){f=gi(Error(r(424)),s),xl(f),s=S0(n,s,l,a);break t}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,fe=xi(n.firstChild),cn=s,Kt=!0,ir=null,bi=!0,a=bv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ra(),l===f){s=Vs(n,s,a);break t}fn(n,s,l,a)}s=s.child}return s;case 26:return Hc(n,s),n===null?(a=Ub(s.type,null,s.pendingProps,null))?s.memoizedState=a:Kt||(a=s.type,n=s.pendingProps,l=ah(vt.current).createElement(a),l[Le]=s,l[nn]=n,dn(l,a,n),Pe(l),s.stateNode=l):s.memoizedState=Ub(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return At(s),n===null&&Kt&&(l=s.stateNode=kb(s.type,s.pendingProps,vt.current),cn=s,bi=!0,f=fe,vr(s.type)?(Cm=f,fe=xi(l.firstChild)):fe=f),fn(n,s,s.pendingProps.children,a),Hc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Kt&&((f=l=fe)&&(l=d2(l,s.type,s.pendingProps,bi),l!==null?(s.stateNode=l,cn=s,fe=xi(l.firstChild),bi=!1,f=!0):f=!1),f||sr(s)),At(s),f=s.type,g=s.pendingProps,_=n!==null?n.memoizedProps:null,l=g.children,Tm(f,g)?l=null:_!==null&&Tm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=xd(n,s,Rw,null,null,a),Xl._currentValue=f),Hc(n,s),fn(n,s,l,a),s.child;case 6:return n===null&&Kt&&((n=a=fe)&&(a=m2(a,s.pendingProps,bi),a!==null?(s.stateNode=a,cn=s,fe=null,n=!0):n=!1),n||sr(s)),null;case 13:return A0(n,s,a);case 4:return Vt(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=ha(s,null,l,a):fn(n,s,l,a),s.child;case 11:return g0(n,s,s.type,s.pendingProps,a);case 7:return fn(n,s,s.pendingProps,a),s.child;case 8:return fn(n,s,s.pendingProps.children,a),s.child;case 12:return fn(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,rr(s,s.type,l.value),fn(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,oa(s),f=hn(f),l=l(f),s.flags|=1,fn(n,s,l,a),s.child;case 14:return y0(n,s,s.type,s.pendingProps,a);case 15:return v0(n,s,s.type,s.pendingProps,a);case 19:return C0(n,s,a);case 31:return kw(n,s,a);case 22:return b0(n,s,a,s.pendingProps);case 24:return oa(s),l=hn(ze),n===null?(f=hd(),f===null&&(f=ce,g=ud(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),s.memoizedState={parent:l,cache:f},dd(s),rr(s,ze,f)):((n.lanes&a)!==0&&(md(n,s),Rl(s,null,null,a),Cl()),f=n.memoizedState,g=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),rr(s,ze,l)):(l=g.cache,rr(s,ze,l),l!==f.cache&&ld(s,[ze],a,!0))),fn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Is(n){n.flags|=4}function Qd(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(eb())n.flags|=8192;else throw ca=Rc,fd}else n.flags&=-16777217}function D0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!qb(s))if(eb())n.flags|=8192;else throw ca=Rc,fd}function Gc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?en():536870912,n.lanes|=s,ho|=s)}function Ol(n,s){if(!Kt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function de(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function Pw(n,s,a){var l=s.pendingProps;switch(id(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(s),null;case 1:return de(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ds(ze),xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ja(s)?Is(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rd())),de(s),null;case 26:var f=s.type,g=s.memoizedState;return n===null?(Is(s),g!==null?(de(s),D0(s,g)):(de(s),Qd(s,f,null,l,a))):g?g!==n.memoizedState?(Is(s),de(s),D0(s,g)):(de(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&Is(s),de(s),Qd(s,f,n,l,a)),null;case 27:if(Dn(s),a=vt.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return de(s),null}n=ht.current,Ja(s)?lv(s):(n=kb(f,l,a),s.stateNode=n,Is(s))}return de(s),null;case 5:if(Dn(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Is(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return de(s),null}if(g=ht.current,Ja(s))lv(s);else{var _=ah(vt.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?g.multiple=!0:l.size&&(g.size=l.size);break;default:g=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}g[Le]=s,g[nn]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=g;t:switch(dn(g,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Is(s)}}return de(s),Qd(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&Is(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=vt.current,Ja(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=cn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Le]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ab(n.nodeValue,a)),n||sr(s,!0)}else n=ah(n).createTextNode(l),n[Le]=s,s.stateNode=n}return de(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=Ja(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Le]=s}else ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;de(s),n=!1}else a=rd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(ai(s),s):(ai(s),null);if((s.flags&128)!==0)throw Error(r(558))}return de(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ja(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Le]=s}else ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;de(s),f=!1}else f=rd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ai(s),s):(ai(s),null)}return ai(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Gc(s,s.updateQueue),de(s),null);case 4:return xt(),n===null&&ym(s.stateNode.containerInfo),de(s),null;case 10:return Ds(s.type),de(s),null;case 19:if(et(Ve),l=s.memoizedState,l===null)return de(s),null;if(f=(s.flags&128)!==0,g=l.rendering,g===null)if(f)Ol(l,!1);else{if(Ce!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=Vc(n),g!==null){for(s.flags|=128,Ol(l,!1),n=g.updateQueue,s.updateQueue=n,Gc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)iv(a,n),a=a.sibling;return ut(Ve,Ve.current&1|2),Kt&&Cs(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&je()>$c&&(s.flags|=128,f=!0,Ol(l,!1),s.lanes=4194304)}else{if(!f)if(n=Vc(g),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Gc(s,n),Ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!g.alternate&&!Kt)return de(s),null}else 2*je()-l.renderingStartTime>$c&&a!==536870912&&(s.flags|=128,f=!0,Ol(l,!1),s.lanes=4194304);l.isBackwards?(g.sibling=s.child,s.child=g):(n=l.last,n!==null?n.sibling=g:s.child=g,l.last=g)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=je(),n.sibling=null,a=Ve.current,ut(Ve,f?a&1|2:a&1),Kt&&Cs(s,l.treeForkCount),n):(de(s),null);case 22:case 23:return ai(s),vd(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(de(s),s.subtreeFlags&6&&(s.flags|=8192)):de(s),a=s.updateQueue,a!==null&&Gc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&et(la),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ds(ze),de(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Uw(n,s){switch(id(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ds(ze),xt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Dn(s),null;case 31:if(s.memoizedState!==null){if(ai(s),s.alternate===null)throw Error(r(340));ra()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(ai(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ra()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return et(Ve),null;case 4:return xt(),null;case 10:return Ds(s.type),null;case 22:case 23:return ai(s),vd(),n!==null&&et(la),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Ds(ze),null;case 25:return null;default:return null}}function N0(n,s){switch(id(s),s.tag){case 3:Ds(ze),xt();break;case 26:case 27:case 5:Dn(s);break;case 4:xt();break;case 31:s.memoizedState!==null&&ai(s);break;case 13:ai(s);break;case 19:et(Ve);break;case 10:Ds(s.type);break;case 22:case 23:ai(s),vd(),n!==null&&et(la);break;case 24:Ds(ze)}}function jl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var g=a.create,_=a.inst;l=g(),_.destroy=l}a=a.next}while(a!==f)}}catch(C){re(s,s.return,C)}}function hr(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&n)===n){var _=l.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,f=s;var U=a,$=C;try{$()}catch(nt){re(f,U,nt)}}}l=l.next}while(l!==g)}}catch(nt){re(s,s.return,nt)}}function M0(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{xv(s,a)}catch(l){re(n,n.return,l)}}}function V0(n,s,a){a.props=da(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){re(n,s,l)}}function kl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){re(n,s,f)}}function ls(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){re(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){re(n,s,f)}else a.current=null}function I0(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){re(n,n.return,f)}}function $d(n,s,a){try{var l=n.stateNode;o2(l,n.type,a,s),l[nn]=s}catch(f){re(n,n.return,f)}}function O0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&vr(n.type)||n.tag===4}function Zd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||O0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&vr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jd(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Mi));else if(l!==4&&(l===27&&vr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Jd(n,s,a),n=n.sibling;n!==null;)Jd(n,s,a),n=n.sibling}function Kc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&vr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Kc(n,s,a),n=n.sibling;n!==null;)Kc(n,s,a),n=n.sibling}function j0(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);dn(s,l,a),s[Le]=n,s[nn]=a}catch(g){re(n,n.return,g)}}var Os=!1,He=!1,Wd=!1,k0=typeof WeakSet=="function"?WeakSet:Set,rn=null;function zw(n,s){if(n=n.containerInfo,_m=dh,n=Xy(n),Kf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var _=0,C=-1,U=-1,$=0,nt=0,rt=n,Z=null;e:for(;;){for(var W;rt!==a||f!==0&&rt.nodeType!==3||(C=_+f),rt!==g||l!==0&&rt.nodeType!==3||(U=_+l),rt.nodeType===3&&(_+=rt.nodeValue.length),(W=rt.firstChild)!==null;)Z=rt,rt=W;for(;;){if(rt===n)break e;if(Z===a&&++$===f&&(C=_),Z===g&&++nt===l&&(U=_),(W=rt.nextSibling)!==null)break;rt=Z,Z=rt.parentNode}rt=W}a=C===-1||U===-1?null:{start:C,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(xm={focusedElem:n,selectionRange:a},dh=!1,rn=s;rn!==null;)if(s=rn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,rn=n;else for(;rn!==null;){switch(s=rn,g=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,a=s,f=g.memoizedProps,g=g.memoizedState,l=a.stateNode;try{var mt=da(a.type,f);n=l.getSnapshotBeforeUpdate(mt,g),l.__reactInternalSnapshotBeforeUpdate=n}catch(St){re(a,a.return,St)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Sm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Sm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,rn=n;break}rn=s.return}}function L0(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ks(n,a),l&4&&jl(5,a);break;case 1:if(ks(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(_){re(a,a.return,_)}else{var f=da(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){re(a,a.return,_)}}l&64&&M0(a),l&512&&kl(a,a.return);break;case 3:if(ks(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{xv(n,s)}catch(_){re(a,a.return,_)}}break;case 27:s===null&&l&4&&j0(a);case 26:case 5:ks(n,a),s===null&&l&4&&I0(a),l&512&&kl(a,a.return);break;case 12:ks(n,a);break;case 31:ks(n,a),l&4&&z0(n,a);break;case 13:ks(n,a),l&4&&B0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Qw.bind(null,a),p2(n,a))));break;case 22:if(l=a.memoizedState!==null||Os,!l){s=s!==null&&s.memoizedState!==null||He,f=Os;var g=He;Os=l,(He=s)&&!g?Ls(n,a,(a.subtreeFlags&8772)!==0):ks(n,a),Os=f,He=g}break;case 30:break;default:ks(n,a)}}function P0(n){var s=n.alternate;s!==null&&(n.alternate=null,P0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&ja(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var be=null,qn=!1;function js(n,s,a){for(a=a.child;a!==null;)U0(n,s,a),a=a.sibling}function U0(n,s,a){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Jn,a)}catch{}switch(a.tag){case 26:He||ls(a,s),js(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:He||ls(a,s);var l=be,f=qn;vr(a.type)&&(be=a.stateNode,qn=!1),js(n,s,a),Gl(a.stateNode),be=l,qn=f;break;case 5:He||ls(a,s);case 6:if(l=be,f=qn,be=null,js(n,s,a),be=l,qn=f,be!==null)if(qn)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(a.stateNode)}catch(g){re(a,s,g)}else try{be.removeChild(a.stateNode)}catch(g){re(a,s,g)}break;case 18:be!==null&&(qn?(n=be,Mb(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),_o(n)):Mb(be,a.stateNode));break;case 4:l=be,f=qn,be=a.stateNode.containerInfo,qn=!0,js(n,s,a),be=l,qn=f;break;case 0:case 11:case 14:case 15:hr(2,a,s),He||hr(4,a,s),js(n,s,a);break;case 1:He||(ls(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&V0(a,s,l)),js(n,s,a);break;case 21:js(n,s,a);break;case 22:He=(l=He)||a.memoizedState!==null,js(n,s,a),He=l;break;default:js(n,s,a)}}function z0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{_o(n)}catch(a){re(s,s.return,a)}}}function B0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{_o(n)}catch(a){re(s,s.return,a)}}function Bw(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new k0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new k0),s;default:throw Error(r(435,n.tag))}}function Yc(n,s){var a=Bw(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=$w.bind(null,n,l);l.then(f,f)}})}function Gn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],g=n,_=s,C=_;t:for(;C!==null;){switch(C.tag){case 27:if(vr(C.type)){be=C.stateNode,qn=!1;break t}break;case 5:be=C.stateNode,qn=!1;break t;case 3:case 4:be=C.stateNode.containerInfo,qn=!0;break t}C=C.return}if(be===null)throw Error(r(160));U0(g,_,f),be=null,qn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)F0(s,n),s=s.sibling}var Li=null;function F0(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gn(s,n),Kn(n),l&4&&(hr(3,n,n.return),jl(3,n),hr(5,n,n.return));break;case 1:Gn(s,n),Kn(n),l&512&&(He||a===null||ls(a,a.return)),l&64&&Os&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Li;if(Gn(s,n),Kn(n),l&512&&(He||a===null||ls(a,a.return)),l&4){var g=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Xi]||g[Le]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(l),f.head.insertBefore(g,f.querySelector("head > title"))),dn(g,l,a),g[Le]=n,Pe(g),l=g;break t;case"link":var _=Fb("link","href",f).get(l+(a.href||""));if(_){for(var C=0;C<_.length;C++)if(g=_[C],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(C,1);break e}}g=f.createElement(l),dn(g,l,a),f.head.appendChild(g);break;case"meta":if(_=Fb("meta","content",f).get(l+(a.content||""))){for(C=0;C<_.length;C++)if(g=_[C],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(C,1);break e}}g=f.createElement(l),dn(g,l,a),f.head.appendChild(g);break;default:throw Error(r(468,l))}g[Le]=n,Pe(g),l=g}n.stateNode=l}else Hb(f,n.type,n.stateNode);else n.stateNode=Bb(f,l,n.memoizedProps);else g!==l?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,l===null?Hb(f,n.type,n.stateNode):Bb(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&$d(n,n.memoizedProps,a.memoizedProps)}break;case 27:Gn(s,n),Kn(n),l&512&&(He||a===null||ls(a,a.return)),a!==null&&l&4&&$d(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Gn(s,n),Kn(n),l&512&&(He||a===null||ls(a,a.return)),n.flags&32){f=n.stateNode;try{Hn(f,"")}catch(mt){re(n,n.return,mt)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,$d(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Wd=!0);break;case 6:if(Gn(s,n),Kn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(mt){re(n,n.return,mt)}}break;case 3:if(uh=null,f=Li,Li=oh(s.containerInfo),Gn(s,n),Li=f,Kn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_o(s.containerInfo)}catch(mt){re(n,n.return,mt)}Wd&&(Wd=!1,H0(n));break;case 4:l=Li,Li=oh(n.stateNode.containerInfo),Gn(s,n),Kn(n),Li=l;break;case 12:Gn(s,n),Kn(n);break;case 31:Gn(s,n),Kn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yc(n,l)));break;case 13:Gn(s,n),Kn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qc=je()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yc(n,l)));break;case 22:f=n.memoizedState!==null;var U=a!==null&&a.memoizedState!==null,$=Os,nt=He;if(Os=$||f,He=nt||U,Gn(s,n),He=nt,Os=$,Kn(n),l&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||U||Os||He||ma(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){U=a=s;try{if(g=U.stateNode,f)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=U.stateNode;var rt=U.memoizedProps.style,Z=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;C.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(mt){re(U,U.return,mt)}}}else if(s.tag===6){if(a===null){U=s;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(mt){re(U,U.return,mt)}}}else if(s.tag===18){if(a===null){U=s;try{var W=U.stateNode;f?Vb(W,!0):Vb(U.stateNode,!1)}catch(mt){re(U,U.return,mt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Yc(n,a))));break;case 19:Gn(s,n),Kn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yc(n,l)));break;case 30:break;case 21:break;default:Gn(s,n),Kn(n)}}function Kn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(O0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,g=Zd(n);Kc(n,g,f);break;case 5:var _=a.stateNode;a.flags&32&&(Hn(_,""),a.flags&=-33);var C=Zd(n);Kc(n,C,_);break;case 3:case 4:var U=a.stateNode.containerInfo,$=Zd(n);Jd(n,$,U);break;default:throw Error(r(161))}}catch(nt){re(n,n.return,nt)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function H0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;H0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function ks(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)L0(n,s.alternate,s),s=s.sibling}function ma(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:hr(4,s,s.return),ma(s);break;case 1:ls(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&V0(s,s.return,a),ma(s);break;case 27:Gl(s.stateNode);case 26:case 5:ls(s,s.return),ma(s);break;case 22:s.memoizedState===null&&ma(s);break;case 30:ma(s);break;default:ma(s)}n=n.sibling}}function Ls(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,g=s,_=g.flags;switch(g.tag){case 0:case 11:case 15:Ls(f,g,a),jl(4,g);break;case 1:if(Ls(f,g,a),l=g,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){re(l,l.return,$)}if(l=g,f=l.updateQueue,f!==null){var C=l.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)_v(U[f],C)}catch($){re(l,l.return,$)}}a&&_&64&&M0(g),kl(g,g.return);break;case 27:j0(g);case 26:case 5:Ls(f,g,a),a&&l===null&&_&4&&I0(g),kl(g,g.return);break;case 12:Ls(f,g,a);break;case 31:Ls(f,g,a),a&&_&4&&z0(f,g);break;case 13:Ls(f,g,a),a&&_&4&&B0(f,g);break;case 22:g.memoizedState===null&&Ls(f,g,a),kl(g,g.return);break;case 30:break;default:Ls(f,g,a)}s=s.sibling}}function tm(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Tl(a))}function em(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Tl(n))}function Pi(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)q0(n,s,a,l),s=s.sibling}function q0(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Pi(n,s,a,l),f&2048&&jl(9,s);break;case 1:Pi(n,s,a,l);break;case 3:Pi(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Tl(n)));break;case 12:if(f&2048){Pi(n,s,a,l),n=s.stateNode;try{var g=s.memoizedProps,_=g.id,C=g.onPostCommit;typeof C=="function"&&C(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(U){re(s,s.return,U)}}else Pi(n,s,a,l);break;case 31:Pi(n,s,a,l);break;case 13:Pi(n,s,a,l);break;case 23:break;case 22:g=s.stateNode,_=s.alternate,s.memoizedState!==null?g._visibility&2?Pi(n,s,a,l):Ll(n,s):g._visibility&2?Pi(n,s,a,l):(g._visibility|=2,lo(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&tm(_,s);break;case 24:Pi(n,s,a,l),f&2048&&em(s.alternate,s);break;default:Pi(n,s,a,l)}}function lo(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=n,_=s,C=a,U=l,$=_.flags;switch(_.tag){case 0:case 11:case 15:lo(g,_,C,U,f),jl(8,_);break;case 23:break;case 22:var nt=_.stateNode;_.memoizedState!==null?nt._visibility&2?lo(g,_,C,U,f):Ll(g,_):(nt._visibility|=2,lo(g,_,C,U,f)),f&&$&2048&&tm(_.alternate,_);break;case 24:lo(g,_,C,U,f),f&&$&2048&&em(_.alternate,_);break;default:lo(g,_,C,U,f)}s=s.sibling}}function Ll(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Ll(a,l),f&2048&&tm(l.alternate,l);break;case 24:Ll(a,l),f&2048&&em(l.alternate,l);break;default:Ll(a,l)}s=s.sibling}}var Pl=8192;function uo(n,s,a){if(n.subtreeFlags&Pl)for(n=n.child;n!==null;)G0(n,s,a),n=n.sibling}function G0(n,s,a){switch(n.tag){case 26:uo(n,s,a),n.flags&Pl&&n.memoizedState!==null&&C2(a,Li,n.memoizedState,n.memoizedProps);break;case 5:uo(n,s,a);break;case 3:case 4:var l=Li;Li=oh(n.stateNode.containerInfo),uo(n,s,a),Li=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Pl,Pl=16777216,uo(n,s,a),Pl=l):uo(n,s,a));break;default:uo(n,s,a)}}function K0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ul(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];rn=l,X0(l,n)}K0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Y0(n),n=n.sibling}function Y0(n){switch(n.tag){case 0:case 11:case 15:Ul(n),n.flags&2048&&hr(9,n,n.return);break;case 3:Ul(n);break;case 12:Ul(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Xc(n)):Ul(n);break;default:Ul(n)}}function Xc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];rn=l,X0(l,n)}K0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:hr(8,s,s.return),Xc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Xc(s));break;default:Xc(s)}n=n.sibling}}function X0(n,s){for(;rn!==null;){var a=rn;switch(a.tag){case 0:case 11:case 15:hr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,rn=l;else t:for(a=n;rn!==null;){l=rn;var f=l.sibling,g=l.return;if(P0(l),l===a){rn=null;break t}if(f!==null){f.return=g,rn=f;break t}rn=g}}}var Fw={getCacheForType:function(n){var s=hn(ze),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return hn(ze).controller.signal}},Hw=typeof WeakMap=="function"?WeakMap:Map,te=0,ce=null,zt=null,Ft=0,se=0,oi=null,fr=!1,co=!1,nm=!1,Ps=0,Ce=0,dr=0,pa=0,im=0,li=0,ho=0,zl=null,Yn=null,sm=!1,Qc=0,Q0=0,$c=1/0,Zc=null,mr=null,Qe=0,pr=null,fo=null,Us=0,rm=0,am=null,$0=null,Bl=0,om=null;function ui(){return(te&2)!==0&&Ft!==0?Ft&-Ft:tt.T!==null?dm():ti()}function Z0(){if(li===0)if((Ft&536870912)===0||Kt){var n=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),li=n}else li=536870912;return n=ri.current,n!==null&&(n.flags|=32),li}function Xn(n,s,a){(n===ce&&(se===2||se===9)||n.cancelPendingCommit!==null)&&(mo(n,0),gr(n,Ft,li,!1)),Bn(n,a),((te&2)===0||n!==ce)&&(n===ce&&((te&2)===0&&(pa|=a),Ce===4&&gr(n,Ft,li,!1)),us(n))}function J0(n,s,a){if((te&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||ke(n,s),f=l?Kw(n,s):um(n,s,!0),g=l;do{if(f===0){co&&!l&&gr(n,s,0,!1);break}else{if(a=n.current.alternate,g&&!qw(a)){f=um(n,s,!1),g=!1;continue}if(f===2){if(g=s,n.errorRecoveryDisabledLanes&g)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var C=n;f=zl;var U=C.current.memoizedState.isDehydrated;if(U&&(mo(C,_).flags|=256),_=um(C,_,!1),_!==2){if(nm&&!U){C.errorRecoveryDisabledLanes|=g,pa|=g,f=4;break t}g=Yn,Yn=f,g!==null&&(Yn===null?Yn=g:Yn.push.apply(Yn,g))}f=_}if(g=!1,f!==2)continue}}if(f===1){mo(n,0),gr(n,s,0,!0);break}t:{switch(l=n,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:gr(l,s,li,!fr);break t;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Qc+300-je(),10<f)){if(gr(l,s,li,!fr),ye(l,0,!0)!==0)break t;Us=s,l.timeoutHandle=Db(W0.bind(null,l,a,Yn,Zc,sm,s,li,pa,ho,fr,g,"Throttled",-0,0),f);break t}W0(l,a,Yn,Zc,sm,s,li,pa,ho,fr,g,null,-0,0)}}break}while(!0);us(n)}function W0(n,s,a,l,f,g,_,C,U,$,nt,rt,Z,W){if(n.timeoutHandle=-1,rt=s.subtreeFlags,rt&8192||(rt&16785408)===16785408){rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mi},G0(s,g,rt);var mt=(g&62914560)===g?Qc-je():(g&4194048)===g?Q0-je():0;if(mt=R2(rt,mt),mt!==null){Us=g,n.cancelPendingCommit=mt(ob.bind(null,n,s,g,a,l,f,_,C,U,nt,rt,null,Z,W)),gr(n,g,_,!$);return}}ob(n,s,g,a,l,f,_,C,U)}function qw(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],g=f.getSnapshot;f=f.value;try{if(!ii(g(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gr(n,s,a,l){s&=~im,s&=~pa,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var g=31-pe(f),_=1<<g;l[g]=-1,f&=~_}a!==0&&xn(n,a,s)}function Jc(){return(te&6)===0?(Fl(0),!1):!0}function lm(){if(zt!==null){if(se===0)var n=zt.return;else n=zt,Rs=aa=null,Sd(n),io=null,Sl=0,n=zt;for(;n!==null;)N0(n.alternate,n),n=n.return;zt=null}}function mo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,c2(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Us=0,lm(),ce=n,zt=a=ws(n.current,null),Ft=s,se=0,oi=null,fr=!1,co=ke(n,s),nm=!1,ho=li=im=pa=dr=Ce=0,Yn=zl=null,sm=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-pe(l),g=1<<f;s|=n[f],l&=~g}return Ps=s,bc(),a}function tb(n,s){Ot=null,tt.H=Vl,s===no||s===Cc?(s=gv(),se=3):s===fd?(s=gv(),se=4):se=s===zd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,oi=s,zt===null&&(Ce=1,Bc(n,gi(s,n.current)))}function eb(){var n=ri.current;return n===null?!0:(Ft&4194048)===Ft?_i===null:(Ft&62914560)===Ft||(Ft&536870912)!==0?n===_i:!1}function nb(){var n=tt.H;return tt.H=Vl,n===null?Vl:n}function ib(){var n=tt.A;return tt.A=Fw,n}function Wc(){Ce=4,fr||(Ft&4194048)!==Ft&&ri.current!==null||(co=!0),(dr&134217727)===0&&(pa&134217727)===0||ce===null||gr(ce,Ft,li,!1)}function um(n,s,a){var l=te;te|=2;var f=nb(),g=ib();(ce!==n||Ft!==s)&&(Zc=null,mo(n,s)),s=!1;var _=Ce;t:do try{if(se!==0&&zt!==null){var C=zt,U=oi;switch(se){case 8:lm(),_=6;break t;case 3:case 2:case 9:case 6:ri.current===null&&(s=!0);var $=se;if(se=0,oi=null,po(n,C,U,$),a&&co){_=0;break t}break;default:$=se,se=0,oi=null,po(n,C,U,$)}}Gw(),_=Ce;break}catch(nt){tb(n,nt)}while(!0);return s&&n.shellSuspendCounter++,Rs=aa=null,te=l,tt.H=f,tt.A=g,zt===null&&(ce=null,Ft=0,bc()),_}function Gw(){for(;zt!==null;)sb(zt)}function Kw(n,s){var a=te;te|=2;var l=nb(),f=ib();ce!==n||Ft!==s?(Zc=null,$c=je()+500,mo(n,s)):co=ke(n,s);t:do try{if(se!==0&&zt!==null){s=zt;var g=oi;e:switch(se){case 1:se=0,oi=null,po(n,s,g,1);break;case 2:case 9:if(mv(g)){se=0,oi=null,rb(s);break}s=function(){se!==2&&se!==9||ce!==n||(se=7),us(n)},g.then(s,s);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:mv(g)?(se=0,oi=null,rb(s)):(se=0,oi=null,po(n,s,g,7));break;case 5:var _=null;switch(zt.tag){case 26:_=zt.memoizedState;case 5:case 27:var C=zt;if(_?qb(_):C.stateNode.complete){se=0,oi=null;var U=C.sibling;if(U!==null)zt=U;else{var $=C.return;$!==null?(zt=$,th($)):zt=null}break e}}se=0,oi=null,po(n,s,g,5);break;case 6:se=0,oi=null,po(n,s,g,6);break;case 8:lm(),Ce=6;break t;default:throw Error(r(462))}}Yw();break}catch(nt){tb(n,nt)}while(!0);return Rs=aa=null,tt.H=l,tt.A=f,te=a,zt!==null?0:(ce=null,Ft=0,bc(),Ce)}function Yw(){for(;zt!==null&&!Ki();)sb(zt)}function sb(n){var s=R0(n.alternate,n,Ps);n.memoizedProps=n.pendingProps,s===null?th(n):zt=s}function rb(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=T0(a,s,s.pendingProps,s.type,void 0,Ft);break;case 11:s=T0(a,s,s.pendingProps,s.type.render,s.ref,Ft);break;case 5:Sd(s);default:N0(a,s),s=zt=iv(s,Ps),s=R0(a,s,Ps)}n.memoizedProps=n.pendingProps,s===null?th(n):zt=s}function po(n,s,a,l){Rs=aa=null,Sd(s),io=null,Sl=0;var f=s.return;try{if(jw(n,f,s,a,Ft)){Ce=1,Bc(n,gi(a,n.current)),zt=null;return}}catch(g){if(f!==null)throw zt=f,g;Ce=1,Bc(n,gi(a,n.current)),zt=null;return}s.flags&32768?(Kt||l===1?n=!0:co||(Ft&536870912)!==0?n=!1:(fr=n=!0,(l===2||l===9||l===3||l===6)&&(l=ri.current,l!==null&&l.tag===13&&(l.flags|=16384))),ab(s,n)):th(s)}function th(n){var s=n;do{if((s.flags&32768)!==0){ab(s,fr);return}n=s.return;var a=Pw(s.alternate,s,Ps);if(a!==null){zt=a;return}if(s=s.sibling,s!==null){zt=s;return}zt=s=n}while(s!==null);Ce===0&&(Ce=5)}function ab(n,s){do{var a=Uw(n.alternate,n);if(a!==null){a.flags&=32767,zt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){zt=n;return}zt=n=a}while(n!==null);Ce=6,zt=null}function ob(n,s,a,l,f,g,_,C,U){n.cancelPendingCommit=null;do eh();while(Qe!==0);if((te&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Zf,Ne(n,a,g,_,C,U),n===ce&&(zt=ce=null,Ft=0),fo=s,pr=n,Us=a,rm=g,am=f,$0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Zw($t,function(){return fb(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=tt.T,tt.T=null,f=st.p,st.p=2,_=te,te|=4;try{zw(n,s,a)}finally{te=_,st.p=f,tt.T=l}}Qe=1,lb(),ub(),cb()}}function lb(){if(Qe===1){Qe=0;var n=pr,s=fo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=tt.T,tt.T=null;var l=st.p;st.p=2;var f=te;te|=4;try{F0(s,n);var g=xm,_=Xy(n.containerInfo),C=g.focusedElem,U=g.selectionRange;if(_!==C&&C&&C.ownerDocument&&Yy(C.ownerDocument.documentElement,C)){if(U!==null&&Kf(C)){var $=U.start,nt=U.end;if(nt===void 0&&(nt=$),"selectionStart"in C)C.selectionStart=$,C.selectionEnd=Math.min(nt,C.value.length);else{var rt=C.ownerDocument||document,Z=rt&&rt.defaultView||window;if(Z.getSelection){var W=Z.getSelection(),mt=C.textContent.length,St=Math.min(U.start,mt),ue=U.end===void 0?St:Math.min(U.end,mt);!W.extend&&St>ue&&(_=ue,ue=St,St=_);var K=Ky(C,St),H=Ky(C,ue);if(K&&H&&(W.rangeCount!==1||W.anchorNode!==K.node||W.anchorOffset!==K.offset||W.focusNode!==H.node||W.focusOffset!==H.offset)){var Q=rt.createRange();Q.setStart(K.node,K.offset),W.removeAllRanges(),St>ue?(W.addRange(Q),W.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),W.addRange(Q))}}}}for(rt=[],W=C;W=W.parentNode;)W.nodeType===1&&rt.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<rt.length;C++){var it=rt[C];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}dh=!!_m,xm=_m=null}finally{te=f,st.p=l,tt.T=a}}n.current=s,Qe=2}}function ub(){if(Qe===2){Qe=0;var n=pr,s=fo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=tt.T,tt.T=null;var l=st.p;st.p=2;var f=te;te|=4;try{L0(n,s.alternate,s)}finally{te=f,st.p=l,tt.T=a}}Qe=3}}function cb(){if(Qe===4||Qe===3){Qe=0,bs();var n=pr,s=fo,a=Us,l=$0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Qe=5:(Qe=0,fo=pr=null,hb(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(mr=null),In(a),s=s.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Jn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=tt.T,f=st.p,st.p=2,tt.T=null;try{for(var g=n.onRecoverableError,_=0;_<l.length;_++){var C=l[_];g(C.value,{componentStack:C.stack})}}finally{tt.T=s,st.p=f}}(Us&3)!==0&&eh(),us(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===om?Bl++:(Bl=0,om=n):Bl=0,Fl(0)}}function hb(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Tl(s)))}function eh(){return lb(),ub(),cb(),fb()}function fb(){if(Qe!==5)return!1;var n=pr,s=rm;rm=0;var a=In(Us),l=tt.T,f=st.p;try{st.p=32>a?32:a,tt.T=null,a=am,am=null;var g=pr,_=Us;if(Qe=0,fo=pr=null,Us=0,(te&6)!==0)throw Error(r(331));var C=te;if(te|=4,Y0(g.current),q0(g,g.current,_,a),te=C,Fl(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Jn,g)}catch{}return!0}finally{st.p=f,tt.T=l,hb(n,s)}}function db(n,s,a){s=gi(a,s),s=Ud(n.stateNode,s,2),n=lr(n,s,2),n!==null&&(Bn(n,2),us(n))}function re(n,s,a){if(n.tag===3)db(n,n,a);else for(;s!==null;){if(s.tag===3){db(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(mr===null||!mr.has(l))){n=gi(a,n),a=m0(2),l=lr(s,a,2),l!==null&&(p0(a,l,s,n),Bn(l,2),us(l));break}}s=s.return}}function cm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Hw;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(nm=!0,f.add(a),n=Xw.bind(null,n,s,a),s.then(n,n))}function Xw(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ce===n&&(Ft&a)===a&&(Ce===4||Ce===3&&(Ft&62914560)===Ft&&300>je()-Qc?(te&2)===0&&mo(n,0):im|=a,ho===Ft&&(ho=0)),us(n)}function mb(n,s){s===0&&(s=en()),n=ia(n,s),n!==null&&(Bn(n,s),us(n))}function Qw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),mb(n,a)}function $w(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),mb(n,a)}function Zw(n,s){return ee(n,s)}var nh=null,go=null,hm=!1,ih=!1,fm=!1,yr=0;function us(n){n!==go&&n.next===null&&(go===null?nh=go=n:go=go.next=n),ih=!0,hm||(hm=!0,Ww())}function Fl(n,s){if(!fm&&ih){fm=!0;do for(var a=!1,l=nh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var g=0;else{var _=l.suspendedLanes,C=l.pingedLanes;g=(1<<31-pe(42|n)+1)-1,g&=f&~(_&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,vb(l,g))}else g=Ft,g=ye(l,l===ce?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(g&3)===0||ke(l,g)||(a=!0,vb(l,g));l=l.next}while(a);fm=!1}}function Jw(){pb()}function pb(){ih=hm=!1;var n=0;yr!==0&&u2()&&(n=yr);for(var s=je(),a=null,l=nh;l!==null;){var f=l.next,g=gb(l,s);g===0?(l.next=null,a===null?nh=f:a.next=f,f===null&&(go=a)):(a=l,(n!==0||(g&3)!==0)&&(ih=!0)),l=f}Qe!==0&&Qe!==5||Fl(n),yr!==0&&(yr=0)}function gb(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var _=31-pe(g),C=1<<_,U=f[_];U===-1?((C&a)===0||(C&l)!==0)&&(f[_]=_n(C,s)):U<=s&&(n.expiredLanes|=C),g&=~C}if(s=ce,a=Ft,a=ye(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(se===2||se===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Mn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ke(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Mn(l),In(a)){case 2:case 8:a=kt;break;case 32:a=$t;break;case 268435456:a=qr;break;default:a=$t}return l=yb.bind(null,n),a=ee(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Mn(l),n.callbackPriority=2,n.callbackNode=null,2}function yb(n,s){if(Qe!==0&&Qe!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(eh()&&n.callbackNode!==a)return null;var l=Ft;return l=ye(n,n===ce?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(J0(n,l,s),gb(n,je()),n.callbackNode!=null&&n.callbackNode===a?yb.bind(null,n):null)}function vb(n,s){if(eh())return null;J0(n,s,!0)}function Ww(){h2(function(){(te&6)!==0?ee(_s,Jw):pb()})}function dm(){if(yr===0){var n=to;n===0&&(n=ci,ci<<=1,(ci&261888)===0&&(ci=256)),yr=n}return yr}function bb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ua(""+n)}function _b(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function t2(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var g=bb((f[nn]||null).action),_=l.submitter;_&&(s=(s=_[nn]||null)?bb(s.formAction):_.getAttribute("formAction"),s!==null&&(g=s,_=null));var C=new ns("action","action",null,l,f);n.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yr!==0){var U=_?_b(f,_):new FormData(f);Id(a,{pending:!0,data:U,method:f.method,action:g},null,U)}}else typeof g=="function"&&(C.preventDefault(),U=_?_b(f,_):new FormData(f),Id(a,{pending:!0,data:U,method:f.method,action:g},g,U))},currentTarget:f}]})}}for(var mm=0;mm<$f.length;mm++){var pm=$f[mm],e2=pm.toLowerCase(),n2=pm[0].toUpperCase()+pm.slice(1);ki(e2,"on"+n2)}ki(Zy,"onAnimationEnd"),ki(Jy,"onAnimationIteration"),ki(Wy,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(vw,"onTransitionRun"),ki(bw,"onTransitionStart"),ki(_w,"onTransitionCancel"),ki(tv,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function xb(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var g=void 0;if(s)for(var _=l.length-1;0<=_;_--){var C=l[_],U=C.instance,$=C.currentTarget;if(C=C.listener,U!==g&&f.isPropagationStopped())break t;g=C,f.currentTarget=$;try{g(f)}catch(nt){vc(nt)}f.currentTarget=null,g=U}else for(_=0;_<l.length;_++){if(C=l[_],U=C.instance,$=C.currentTarget,C=C.listener,U!==g&&f.isPropagationStopped())break t;g=C,f.currentTarget=$;try{g(f)}catch(nt){vc(nt)}f.currentTarget=null,g=U}}}}function Bt(n,s){var a=s[Oa];a===void 0&&(a=s[Oa]=new Set);var l=n+"__bubble";a.has(l)||(Tb(s,n,2,!1),a.add(l))}function gm(n,s,a){var l=0;s&&(l|=4),Tb(a,n,l,s)}var sh="_reactListening"+Math.random().toString(36).slice(2);function ym(n){if(!n[sh]){n[sh]=!0,el.forEach(function(a){a!=="selectionchange"&&(i2.has(a)||gm(a,!1,n),gm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[sh]||(s[sh]=!0,gm("selectionchange",!1,s))}}function Tb(n,s,a,l){switch(Zb(s)){case 2:var f=M2;break;case 8:f=V2;break;default:f=Vm}a=f.bind(null,s,a,n),f=void 0,!Qr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function vm(n,s,a,l,f){var g=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var C=l.stateNode.containerInfo;if(C===f)break;if(_===4)for(_=l.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;C!==null;){if(_=Qi(C),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){l=g=_;continue t}C=C.parentNode}}l=l.return}Js(function(){var $=g,nt=fi(a),rt=[];t:{var Z=ev.get(n);if(Z!==void 0){var W=ns,mt=n;switch(n){case"keypress":if(Zr(a)===0)break t;case"keydown":case"keyup":W=pc;break;case"focusin":mt="focus",W=Wr;break;case"focusout":mt="blur",W=Wr;break;case"beforeblur":case"afterblur":W=Wr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=b;break;case Zy:case Jy:case Wy:W=lc;break;case tv:W=R;break;case"scroll":case"scrollend":W=dl;break;case"wheel":W=J;break;case"copy":case"cut":case"paste":W=uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=As;break;case"toggle":case"beforetoggle":W=It}var St=(s&4)!==0,ue=!St&&(n==="scroll"||n==="scrollend"),K=St?Z!==null?Z+"Capture":null:Z;St=[];for(var H=$,Q;H!==null;){var it=H;if(Q=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Q===null||K===null||(it=Vi(H,K),it!=null&&St.push(ql(H,it,Q))),ue)break;H=H.return}0<St.length&&(Z=new W(Z,mt,null,a,nt),rt.push({event:Z,listeners:St}))}}if((s&7)===0){t:{if(Z=n==="mouseover"||n==="pointerover",W=n==="mouseout"||n==="pointerout",Z&&a!==cl&&(mt=a.relatedTarget||a.fromElement)&&(Qi(mt)||mt[Yi]))break t;if((W||Z)&&(Z=nt.window===nt?nt:(Z=nt.ownerDocument)?Z.defaultView||Z.parentWindow:window,W?(mt=a.relatedTarget||a.toElement,W=$,mt=mt?Qi(mt):null,mt!==null&&(ue=u(mt),St=mt.tag,mt!==ue||St!==5&&St!==27&&St!==6)&&(mt=null)):(W=null,mt=$),W!==mt)){if(St=ml,it="onMouseLeave",K="onMouseEnter",H="mouse",(n==="pointerout"||n==="pointerover")&&(St=As,it="onPointerLeave",K="onPointerEnter",H="pointer"),ue=W==null?Z:ei(W),Q=mt==null?Z:ei(mt),Z=new St(it,H+"leave",W,a,nt),Z.target=ue,Z.relatedTarget=Q,it=null,Qi(nt)===$&&(St=new St(K,H+"enter",mt,a,nt),St.target=Q,St.relatedTarget=ue,it=St),ue=it,W&&mt)e:{for(St=s2,K=W,H=mt,Q=0,it=K;it;it=St(it))Q++;it=0;for(var Tt=H;Tt;Tt=St(Tt))it++;for(;0<Q-it;)K=St(K),Q--;for(;0<it-Q;)H=St(H),it--;for(;Q--;){if(K===H||H!==null&&K===H.alternate){St=K;break e}K=St(K),H=St(H)}St=null}else St=null;W!==null&&Eb(rt,Z,W,St,!1),mt!==null&&ue!==null&&Eb(rt,ue,mt,St,!0)}}t:{if(Z=$?ei($):window,W=Z.nodeName&&Z.nodeName.toLowerCase(),W==="select"||W==="input"&&Z.type==="file")var Zt=zy;else if(Py(Z))if(By)Zt=pw;else{Zt=dw;var gt=fw}else W=Z.nodeName,!W||W.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?$&&Pa($.elementType)&&(Zt=zy):Zt=mw;if(Zt&&(Zt=Zt(n,$))){Uy(rt,Zt,a,nt);break t}gt&&gt(n,Z,$),n==="focusout"&&$&&Z.type==="number"&&$.memoizedProps.value!=null&&ol(Z,"number",Z.value)}switch(gt=$?ei($):window,n){case"focusin":(Py(gt)||gt.contentEditable==="true")&&(Ka=gt,Yf=$,bl=null);break;case"focusout":bl=Yf=Ka=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,Qy(rt,a,nt);break;case"selectionchange":if(yw)break;case"keydown":case"keyup":Qy(rt,a,nt)}var jt;if(Wt)t:{switch(n){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else Ga?ta(n,a)&&(Ht="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ht="onCompositionStart");Ht&&(rs&&a.locale!=="ko"&&(Ga||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Ga&&(jt=fl()):(es=nt,hl="value"in es?es.value:es.textContent,Ga=!0)),gt=rh($,Ht),0<gt.length&&(Ht=new ss(Ht,n,null,a,nt),rt.push({event:Ht,listeners:gt}),jt?Ht.data=jt:(jt=qa(a),jt!==null&&(Ht.data=jt)))),(jt=mi?lw(n,a):uw(n,a))&&(Ht=rh($,"onBeforeInput"),0<Ht.length&&(gt=new ss("onBeforeInput","beforeinput",null,a,nt),rt.push({event:gt,listeners:Ht}),gt.data=jt)),t2(rt,n,$,a,nt)}xb(rt,s)})}function ql(n,s,a){return{instance:n,listener:s,currentTarget:a}}function rh(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Vi(n,a),f!=null&&l.unshift(ql(n,f,g)),f=Vi(n,s),f!=null&&l.push(ql(n,f,g))),n.tag===3)return l;n=n.return}return[]}function s2(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Eb(n,s,a,l,f){for(var g=s._reactName,_=[];a!==null&&a!==l;){var C=a,U=C.alternate,$=C.stateNode;if(C=C.tag,U!==null&&U===l)break;C!==5&&C!==26&&C!==27||$===null||(U=$,f?($=Vi(a,g),$!=null&&_.unshift(ql(a,$,U))):f||($=Vi(a,g),$!=null&&_.push(ql(a,$,U)))),a=a.return}_.length!==0&&n.push({event:s,listeners:_})}var r2=/\r\n?/g,a2=/\u0000|\uFFFD/g;function Sb(n){return(typeof n=="string"?n:""+n).replace(r2,`
`).replace(a2,"")}function Ab(n,s){return s=Sb(s),Sb(n)===s}function le(n,s,a,l,f,g){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Hn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Hn(n,""+l);break;case"className":ni(n,"class",l);break;case"tabIndex":ni(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(n,a,l);break;case"style":ul(n,l,g);break;case"data":if(s!=="object"){ni(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ua(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(s!=="input"&&le(n,s,"name",f.name,f,null),le(n,s,"formEncType",f.formEncType,f,null),le(n,s,"formMethod",f.formMethod,f,null),le(n,s,"formTarget",f.formTarget,f,null)):(le(n,s,"encType",f.encType,f,null),le(n,s,"method",f.method,f,null),le(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ua(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Mi);break;case"onScroll":l!=null&&Bt("scroll",n);break;case"onScrollEnd":l!=null&&Bt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ua(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Bt("beforetoggle",n),Bt("toggle",n),ka(n,"popover",l);break;case"xlinkActuate":Ue(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ka(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rc.get(a)||a,ka(n,a,l))}}function bm(n,s,a,l,f,g){switch(a){case"style":ul(n,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Hn(n,l):(typeof l=="number"||typeof l=="bigint")&&Hn(n,""+l);break;case"onScroll":l!=null&&Bt("scroll",n);break;case"onScrollEnd":l!=null&&Bt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),g=n[nn]||null,g=g!=null?g[a]:null,typeof g=="function"&&n.removeEventListener(s,g,f),typeof l=="function")){typeof g!="function"&&g!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):ka(n,a,l)}}}function dn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",n),Bt("load",n);var l=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var _=a[g];if(_!=null)switch(g){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:le(n,s,g,_,a,null)}}f&&le(n,s,"srcSet",a.srcSet,a,null),l&&le(n,s,"src",a.src,a,null);return;case"input":Bt("invalid",n);var C=g=_=f=null,U=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var nt=a[l];if(nt!=null)switch(l){case"name":f=nt;break;case"type":_=nt;break;case"checked":U=nt;break;case"defaultChecked":$=nt;break;case"value":g=nt;break;case"defaultValue":C=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,s));break;default:le(n,s,l,nt,a,null)}}nc(n,g,C,U,$,_,f,!1);return;case"select":Bt("invalid",n),l=_=g=null;for(f in a)if(a.hasOwnProperty(f)&&(C=a[f],C!=null))switch(f){case"value":g=C;break;case"defaultValue":_=C;break;case"multiple":l=C;default:le(n,s,f,C,a,null)}s=g,a=_,n.multiple=!!l,s!=null?Xs(n,!!l,s,!1):a!=null&&Xs(n,!!l,a,!0);return;case"textarea":Bt("invalid",n),g=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(C=a[_],C!=null))switch(_){case"value":l=C;break;case"defaultValue":f=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:le(n,s,_,C,a,null)}Qs(n,l,f,g);return;case"option":for(U in a)a.hasOwnProperty(U)&&(l=a[U],l!=null)&&(U==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":le(n,s,U,l,a,null));return;case"dialog":Bt("beforetoggle",n),Bt("toggle",n),Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":Bt("load",n);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Bt(Hl[l],n);break;case"image":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"embed":case"source":case"link":Bt("error",n),Bt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:le(n,s,$,l,a,null)}return;default:if(Pa(s)){for(nt in a)a.hasOwnProperty(nt)&&(l=a[nt],l!==void 0&&bm(n,s,nt,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&le(n,s,C,l,a,null))}function o2(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,_=null,C=null,U=null,$=null,nt=null;for(W in a){var rt=a[W];if(a.hasOwnProperty(W)&&rt!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":U=rt;default:l.hasOwnProperty(W)||le(n,s,W,null,l,rt)}}for(var Z in l){var W=l[Z];if(rt=a[Z],l.hasOwnProperty(Z)&&(W!=null||rt!=null))switch(Z){case"type":g=W;break;case"name":f=W;break;case"checked":$=W;break;case"defaultChecked":nt=W;break;case"value":_=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:W!==rt&&le(n,s,Z,W,l,rt)}}La(n,_,C,U,$,nt,g,f);return;case"select":W=_=C=Z=null;for(g in a)if(U=a[g],a.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":W=U;default:l.hasOwnProperty(g)||le(n,s,g,null,l,U)}for(f in l)if(g=l[f],U=a[f],l.hasOwnProperty(f)&&(g!=null||U!=null))switch(f){case"value":Z=g;break;case"defaultValue":C=g;break;case"multiple":_=g;default:g!==U&&le(n,s,f,g,l,U)}s=C,a=_,l=W,Z!=null?Xs(n,!!a,Z,!1):!!l!=!!a&&(s!=null?Xs(n,!!a,s,!0):Xs(n,!!a,a?[]:"",!1));return;case"textarea":W=Z=null;for(C in a)if(f=a[C],a.hasOwnProperty(C)&&f!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:le(n,s,C,null,l,f)}for(_ in l)if(f=l[_],g=a[_],l.hasOwnProperty(_)&&(f!=null||g!=null))switch(_){case"value":Z=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&le(n,s,_,f,l,g)}ic(n,Z,W);return;case"option":for(var mt in a)Z=a[mt],a.hasOwnProperty(mt)&&Z!=null&&!l.hasOwnProperty(mt)&&(mt==="selected"?n.selected=!1:le(n,s,mt,null,l,Z));for(U in l)Z=l[U],W=a[U],l.hasOwnProperty(U)&&Z!==W&&(Z!=null||W!=null)&&(U==="selected"?n.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":le(n,s,U,Z,l,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)Z=a[St],a.hasOwnProperty(St)&&Z!=null&&!l.hasOwnProperty(St)&&le(n,s,St,null,l,Z);for($ in l)if(Z=l[$],W=a[$],l.hasOwnProperty($)&&Z!==W&&(Z!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:le(n,s,$,Z,l,W)}return;default:if(Pa(s)){for(var ue in a)Z=a[ue],a.hasOwnProperty(ue)&&Z!==void 0&&!l.hasOwnProperty(ue)&&bm(n,s,ue,void 0,l,Z);for(nt in l)Z=l[nt],W=a[nt],!l.hasOwnProperty(nt)||Z===W||Z===void 0&&W===void 0||bm(n,s,nt,Z,l,W);return}}for(var K in a)Z=a[K],a.hasOwnProperty(K)&&Z!=null&&!l.hasOwnProperty(K)&&le(n,s,K,null,l,Z);for(rt in l)Z=l[rt],W=a[rt],!l.hasOwnProperty(rt)||Z===W||Z==null&&W==null||le(n,s,rt,Z,l,W)}function wb(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function l2(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],g=f.transferSize,_=f.initiatorType,C=f.duration;if(g&&C&&wb(_)){for(_=0,C=f.responseEnd,l+=1;l<a.length;l++){var U=a[l],$=U.startTime;if($>C)break;var nt=U.transferSize,rt=U.initiatorType;nt&&wb(rt)&&(U=U.responseEnd,_+=nt*(U<C?1:(C-$)/(U-$)))}if(--l,s+=8*(g+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var _m=null,xm=null;function ah(n){return n.nodeType===9?n:n.ownerDocument}function Cb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rb(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Tm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Em=null;function u2(){var n=window.event;return n&&n.type==="popstate"?n===Em?!1:(Em=n,!0):(Em=null,!1)}var Db=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,Nb=typeof Promise=="function"?Promise:void 0,h2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nb<"u"?function(n){return Nb.resolve(null).then(n).catch(f2)}:Db;function f2(n){setTimeout(function(){throw n})}function vr(n){return n==="head"}function Mb(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),_o(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Gl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Gl(a);for(var g=a.firstChild;g;){var _=g.nextSibling,C=g.nodeName;g[Xi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=_}}else a==="body"&&Gl(n.ownerDocument.body);a=f}while(a);_o(s)}function Vb(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Sm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sm(a),ja(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function d2(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Xi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=xi(n.nextSibling),n===null)break}return null}function m2(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=xi(n.nextSibling),n===null))return null;return n}function Ib(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=xi(n.nextSibling),n===null))return null;return n}function Am(n){return n.data==="$?"||n.data==="$~"}function wm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function p2(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function xi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Cm=null;function Ob(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return xi(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function jb(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function kb(n,s,a){switch(s=ah(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Gl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);ja(n)}var Ti=new Map,Lb=new Set;function oh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var zs=st.d;st.d={f:g2,r:y2,D:v2,C:b2,L:_2,m:x2,X:E2,S:T2,M:S2};function g2(){var n=zs.f(),s=Jc();return n||s}function y2(n){var s=hi(n);s!==null&&s.tag===5&&s.type==="form"?t0(s):zs.r(n)}var yo=typeof document>"u"?null:document;function Pb(n,s,a){var l=yo;if(l&&typeof s=="string"&&s){var f=Fn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Lb.has(f)||(Lb.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),dn(s,"link",n),Pe(s),l.head.appendChild(s)))}}function v2(n){zs.D(n),Pb("dns-prefetch",n,null)}function b2(n,s){zs.C(n,s),Pb("preconnect",n,s)}function _2(n,s,a){zs.L(n,s,a);var l=yo;if(l&&n&&s){var f='link[rel="preload"][as="'+Fn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Fn(a.imageSizes)+'"]')):f+='[href="'+Fn(n)+'"]';var g=f;switch(s){case"style":g=vo(n);break;case"script":g=bo(n)}Ti.has(g)||(n=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Ti.set(g,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Kl(g))||s==="script"&&l.querySelector(Yl(g))||(s=l.createElement("link"),dn(s,"link",n),Pe(s),l.head.appendChild(s)))}}function x2(n,s){zs.m(n,s);var a=yo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Fn(l)+'"][href="'+Fn(n)+'"]',g=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=bo(n)}if(!Ti.has(g)&&(n=v({rel:"modulepreload",href:n},s),Ti.set(g,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(g)))return}l=a.createElement("link"),dn(l,"link",n),Pe(l),a.head.appendChild(l)}}}function T2(n,s,a){zs.S(n,s,a);var l=yo;if(l&&n){var f=$i(l).hoistableStyles,g=vo(n);s=s||"default";var _=f.get(g);if(!_){var C={loading:0,preload:null};if(_=l.querySelector(Kl(g)))C.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Ti.get(g))&&Rm(n,a);var U=_=l.createElement("link");Pe(U),dn(U,"link",n),U._p=new Promise(function($,nt){U.onload=$,U.onerror=nt}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,lh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:C},f.set(g,_)}}}function E2(n,s){zs.X(n,s);var a=yo;if(a&&n){var l=$i(a).hoistableScripts,f=bo(n),g=l.get(f);g||(g=a.querySelector(Yl(f)),g||(n=v({src:n,async:!0},s),(s=Ti.get(f))&&Dm(n,s),g=a.createElement("script"),Pe(g),dn(g,"link",n),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function S2(n,s){zs.M(n,s);var a=yo;if(a&&n){var l=$i(a).hoistableScripts,f=bo(n),g=l.get(f);g||(g=a.querySelector(Yl(f)),g||(n=v({src:n,async:!0,type:"module"},s),(s=Ti.get(f))&&Dm(n,s),g=a.createElement("script"),Pe(g),dn(g,"link",n),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function Ub(n,s,a,l){var f=(f=vt.current)?oh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=vo(a.href),a=$i(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=vo(a.href);var g=$i(f).hoistableStyles,_=g.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,_),(g=f.querySelector(Kl(n)))&&!g._p&&(_.instance=g,_.state.loading=5),Ti.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ti.set(n,a),g||A2(f,n,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=bo(a),a=$i(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function vo(n){return'href="'+Fn(n)+'"'}function Kl(n){return'link[rel="stylesheet"]['+n+"]"}function zb(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function A2(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),dn(s,"link",a),Pe(s),n.head.appendChild(s))}function bo(n){return'[src="'+Fn(n)+'"]'}function Yl(n){return"script[async]"+n}function Bb(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Fn(a.href)+'"]');if(l)return s.instance=l,Pe(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Pe(l),dn(l,"style",f),lh(l,a.precedence,n),s.instance=l;case"stylesheet":f=vo(a.href);var g=n.querySelector(Kl(f));if(g)return s.state.loading|=4,s.instance=g,Pe(g),g;l=zb(a),(f=Ti.get(f))&&Rm(l,f),g=(n.ownerDocument||n).createElement("link"),Pe(g);var _=g;return _._p=new Promise(function(C,U){_.onload=C,_.onerror=U}),dn(g,"link",l),s.state.loading|=4,lh(g,a.precedence,n),s.instance=g;case"script":return g=bo(a.src),(f=n.querySelector(Yl(g)))?(s.instance=f,Pe(f),f):(l=a,(f=Ti.get(g))&&(l=v({},a),Dm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Pe(f),dn(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,lh(l,a.precedence,n));return s.instance}function lh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,g=f,_=0;_<l.length;_++){var C=l[_];if(C.dataset.precedence===s)g=C;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Rm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Dm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var uh=null;function Fb(n,s,a){if(uh===null){var l=new Map,f=uh=new Map;f.set(a,l)}else f=uh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var g=a[f];if(!(g[Xi]||g[Le]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(s)||"";_=n+_;var C=l.get(_);C?C.push(g):l.set(_,[g])}}return l}function Hb(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function w2(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function qb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function C2(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=vo(l.href),g=s.querySelector(Kl(f));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=ch.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=g,Pe(g);return}g=s.ownerDocument||s,l=zb(l),(f=Ti.get(f))&&Rm(l,f),g=g.createElement("link"),Pe(g);var _=g;_._p=new Promise(function(C,U){_.onload=C,_.onerror=U}),dn(g,"link",l),a.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=ch.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Nm=0;function R2(n,s){return n.stylesheets&&n.count===0&&fh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&fh(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+s);0<n.imgBytes&&Nm===0&&(Nm=62500*l2());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&fh(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>Nm?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ch(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hh=null;function fh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hh=new Map,s.forEach(D2,n),hh=null,ch.call(n))}function D2(n,s){if(!(s.state.loading&4)){var a=hh.get(n);if(a)var l=a.get(null);else{a=new Map,hh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var _=f[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),g=a.get(_)||l,g===l&&a.set(null,f),a.set(_,f),this.count++,l=ch.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Xl={$$typeof:P,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function N2(n,s,a,l,f,g,_,C,U){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Gb(n,s,a,l,f,g,_,C,U,$,nt,rt){return n=new N2(n,s,a,_,U,$,nt,rt,C),s=1,g===!0&&(s|=24),g=si(3,null,null,s),n.current=g,g.stateNode=n,s=ud(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:l,isDehydrated:a,cache:s},dd(g),n}function Kb(n){return n?(n=Qa,n):Qa}function Yb(n,s,a,l,f,g){f=Kb(f),l.context===null?l.context=f:l.pendingContext=f,l=or(s),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=lr(n,l,s),a!==null&&(Xn(a,n,s),wl(a,n,s))}function Xb(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Mm(n,s){Xb(n,s),(n=n.alternate)&&Xb(n,s)}function Qb(n){if(n.tag===13||n.tag===31){var s=ia(n,67108864);s!==null&&Xn(s,n,67108864),Mm(n,67108864)}}function $b(n){if(n.tag===13||n.tag===31){var s=ui();s=Wn(s);var a=ia(n,s);a!==null&&Xn(a,n,s),Mm(n,s)}}var dh=!0;function M2(n,s,a,l){var f=tt.T;tt.T=null;var g=st.p;try{st.p=2,Vm(n,s,a,l)}finally{st.p=g,tt.T=f}}function V2(n,s,a,l){var f=tt.T;tt.T=null;var g=st.p;try{st.p=8,Vm(n,s,a,l)}finally{st.p=g,tt.T=f}}function Vm(n,s,a,l){if(dh){var f=Im(l);if(f===null)vm(n,s,l,mh,a),Jb(n,l);else if(O2(f,n,s,a,l))l.stopPropagation();else if(Jb(n,l),s&4&&-1<I2.indexOf(n)){for(;f!==null;){var g=hi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=ge(g.pendingLanes);if(_!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var U=1<<31-pe(_);C.entanglements[1]|=U,_&=~U}us(g),(te&6)===0&&($c=je()+500,Fl(0))}}break;case 31:case 13:C=ia(g,2),C!==null&&Xn(C,g,2),Jc(),Mm(g,2)}if(g=Im(l),g===null&&vm(n,s,l,mh,a),g===f)break;f=g}f!==null&&l.stopPropagation()}else vm(n,s,l,null,a)}}function Im(n){return n=fi(n),Om(n)}var mh=null;function Om(n){if(mh=null,n=Qi(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=d(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return mh=n,null}function Zb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ni()){case _s:return 2;case kt:return 8;case $t:case zn:return 32;case qr:return 268435456;default:return 32}default:return 32}}var jm=!1,br=null,_r=null,xr=null,Ql=new Map,$l=new Map,Tr=[],I2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jb(n,s){switch(n){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(s.pointerId)}}function Zl(n,s,a,l,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:g,targetContainers:[f]},s!==null&&(s=hi(s),s!==null&&Qb(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function O2(n,s,a,l,f){switch(s){case"focusin":return br=Zl(br,n,s,a,l,f),!0;case"dragenter":return _r=Zl(_r,n,s,a,l,f),!0;case"mouseover":return xr=Zl(xr,n,s,a,l,f),!0;case"pointerover":var g=f.pointerId;return Ql.set(g,Zl(Ql.get(g)||null,n,s,a,l,f)),!0;case"gotpointercapture":return g=f.pointerId,$l.set(g,Zl($l.get(g)||null,n,s,a,l,f)),!0}return!1}function Wb(n){var s=Qi(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,ln(n.priority,function(){$b(a)});return}}else if(s===31){if(s=d(a),s!==null){n.blockedOn=s,ln(n.priority,function(){$b(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ph(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Im(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);cl=l,a.target.dispatchEvent(l),cl=null}else return s=hi(a),s!==null&&Qb(s),n.blockedOn=a,!1;s.shift()}return!0}function t1(n,s,a){ph(n)&&a.delete(s)}function j2(){jm=!1,br!==null&&ph(br)&&(br=null),_r!==null&&ph(_r)&&(_r=null),xr!==null&&ph(xr)&&(xr=null),Ql.forEach(t1),$l.forEach(t1)}function gh(n,s){n.blockedOn===s&&(n.blockedOn=null,jm||(jm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,j2)))}var yh=null;function e1(n){yh!==n&&(yh=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){yh===n&&(yh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Om(l||a)===null)continue;break}var g=hi(a);g!==null&&(n.splice(s,3),s-=3,Id(g,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function _o(n){function s(U){return gh(U,n)}br!==null&&gh(br,n),_r!==null&&gh(_r,n),xr!==null&&gh(xr,n),Ql.forEach(s),$l.forEach(s);for(var a=0;a<Tr.length;a++){var l=Tr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Tr.length&&(a=Tr[0],a.blockedOn===null);)Wb(a),a.blockedOn===null&&Tr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],g=a[l+1],_=f[nn]||null;if(typeof g=="function")_||e1(a);else if(_){var C=null;if(g&&g.hasAttribute("formAction")){if(f=g,_=g[nn]||null)C=_.formAction;else if(Om(f)!==null)continue}else C=_.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),e1(a)}}}function n1(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function km(n){this._internalRoot=n}vh.prototype.render=km.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=ui();Yb(a,l,n,s,null,null)},vh.prototype.unmount=km.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Yb(n.current,2,null,n,null,null),Jc(),s[Yi]=null}};function vh(n){this._internalRoot=n}vh.prototype.unstable_scheduleHydration=function(n){if(n){var s=ti();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Tr.length&&s!==0&&s<Tr[a].priority;a++);Tr.splice(a,0,n),a===0&&Wb(n)}};var i1=t.version;if(i1!=="19.2.3")throw Error(r(527,i1,"19.2.3"));st.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var k2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{Jn=bh.inject(k2),Xe=bh}catch{}}return Wl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=c0,g=h0,_=f0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Gb(n,1,!1,null,null,a,l,null,f,g,_,n1),n[Yi]=s.current,ym(n),new km(s)},Wl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",g=c0,_=h0,C=f0,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(U=a.formState)),s=Gb(n,1,!0,s,a??null,l,f,U,g,_,C,n1),s.context=Kb(null),a=s.current,l=ui(),l=Wn(l),f=or(l),f.callback=null,lr(a,f,l),a=l,s.current.lanes=a,Bn(s,a),us(s),n[Yi]=s.current,ym(n),new vh(s)},Wl.version="19.2.3",Wl}var d1;function G2(){if(d1)return Um.exports;d1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Um.exports=q2(),Um.exports}var K2=G2();const m1="url-dashboard-data",p1={categories:[],teams:[],theme:"theme-white",pattern:"dots",linkLayout:"list"};function Y2(){const[e,t]=V.useState(()=>{try{const D=localStorage.getItem(m1);return D?JSON.parse(D):p1}catch{return p1}});V.useEffect(()=>{const D=setTimeout(()=>{localStorage.setItem(m1,JSON.stringify(e))},500);return()=>clearTimeout(D)},[e]);const i=D=>{t(k=>({...k,...D}))},r=(D,k="neutral")=>{const B={id:crypto.randomUUID(),name:D,mode:k,urls:[]};t(P=>({...P,categories:[...P.categories,B]}))},o=(D,k,B="neutral")=>{t(P=>({...P,categories:P.categories.map(G=>G.id===D?{...G,name:k,mode:B}:G)}))},u=D=>{t(k=>({...k,categories:k.categories.filter(B=>B.id!==D)}))},c=D=>{t(k=>({...k,categories:k.categories.map(B=>B.id===D?{...B,pinned:!B.pinned}:B)}))},d=D=>{t(k=>({...k,categories:k.categories.map(B=>B.id===D?{...B,isCollapsed:!B.isCollapsed}:B)}))},m=(D,k)=>{t(B=>{const P=B.categories||[],G=P.find(M=>M.id===D),Y=P.find(M=>M.id===k);if(!G||!Y||G.pinned||Y.pinned)return B;const z=P.findIndex(M=>M.id===D),A=P.findIndex(M=>M.id===k);if(z===-1||A===-1||z===A)return B;[...P];const S=P.map((M,Ct)=>M.pinned?Ct:-1).filter(M=>M!==-1),N=S.map(M=>P[M]),L=P.filter(M=>!M.pinned),O=L.findIndex(M=>M.id===D),q=L.findIndex(M=>M.id===k);if(O!==-1&&q!==-1){const M=[...L],[Ct]=M.splice(O,1);M.splice(q,0,Ct);const Pt=[];let tt=0;for(let st=0;st<P.length;st++){const ft=N.find((yt,pt)=>S[pt]===st);ft?Pt.push(ft):Pt.push(M[tt++])}return{...B,categories:Pt}}return B})},p=(D,k,B,P=null)=>{const G={id:crypto.randomUUID(),title:k,url:B,customFavicon:P};t(Y=>({...Y,categories:Y.categories.map(z=>z.id===D?{...z,urls:[...z.urls,G]}:z)}))},y=(D,k,B,P,G=null)=>{t(Y=>({...Y,categories:Y.categories.map(z=>z.id===D?{...z,urls:z.urls.map(A=>A.id===k?{...A,title:B,url:P,customFavicon:G}:A)}:z)}))},v=(D,k)=>{t(B=>({...B,categories:B.categories.map(P=>P.id===D?{...P,urls:P.urls.filter(G=>G.id!==k)}:P)}))},x=(D,k)=>{t(B=>({...B,categories:B.categories.map(P=>P.id===D?{...P,urls:P.urls.map(G=>G.id===k?{...G,clickCount:(G.clickCount||0)+1}:G)}:P),teams:(B.teams||[]).map(P=>({...P,categories:P.categories.map(G=>G.id===D?{...G,urls:G.urls.map(Y=>Y.id===k?{...Y,clickCount:(Y.clickCount||0)+1}:Y)}:G)}))}))},w=D=>{const k={id:crypto.randomUUID(),name:D.name,categories:D.categories.map(B=>({...B,id:crypto.randomUUID(),urls:B.urls.map(P=>({...P,id:crypto.randomUUID()}))})),joinedAt:new Date().toISOString()};t(B=>({...B,teams:[...B.teams||[],k]}))},j=D=>{t(k=>({...k,teams:(k.teams||[]).filter(B=>B.id!==D)}))},I=D=>D&&Array.isArray(D.categories)?(t({categories:D.categories,teams:D.teams||[],linkLayout:D.linkLayout||e.linkLayout||"list",theme:D.theme||e.theme||"theme-white",pattern:D.pattern||e.pattern||"dots"}),!0):!1;return{categories:e.categories,teams:e.teams||[],data:e,addCategory:r,updateCategory:o,deleteCategory:u,addUrl:p,updateUrl:y,deleteUrl:v,incrementUrlClick:x,joinTeam:w,deleteTeam:j,importData:I,updateTheme:i,reorderCategories:m,togglePinCategory:c,toggleCategoryCollapse:d,theme:e.theme||"theme-white",pattern:e.pattern||"dots"}}const X2=()=>crypto.randomUUID()+"-"+Array.from(crypto.getRandomValues(new Uint8Array(4))).map(e=>e.toString(16).padStart(2,"0")).join(""),Hm=async e=>{const i=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")},aT=async e=>{const i=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",i);return await crypto.subtle.importKey("raw",r,{name:"AES-GCM"},!1,["encrypt","decrypt"])},Q2=async(e,t)=>{try{const i=await aT(t),r=crypto.getRandomValues(new Uint8Array(12)),u=new TextEncoder().encode(JSON.stringify(e)),c=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,u),d=new Uint8Array(c),m=new Uint8Array(r.length+d.length);return m.set(r),m.set(d,r.length),btoa(String.fromCharCode(...m))}catch(i){throw console.error("Encryption failed:",i),new Error("Failed to encrypt data")}},g1=async(e,t)=>{try{const i=await aT(t),r=new Uint8Array(atob(e).split("").map(m=>m.charCodeAt(0))),o=r.slice(0,12),u=r.slice(12),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:o},i,u),d=new TextDecoder;return JSON.parse(d.decode(c))}catch(i){throw console.error("Decryption failed:",i),new Error("Invalid Key or Corrupted Data")}},$2=()=>{};var y1={};const oT=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Z2=function(e){const t=[];let i=0,r=0;for(;i<e.length;){const o=e[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[i++],c=e[i++],d=e[i++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const u=e[i++],c=e[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,d=c?e[o+1]:0,m=o+2<e.length,p=m?e[o+2]:0,y=u>>2,v=(u&3)<<4|d>>4;let x=(d&15)<<2|p>>6,w=p&63;m||(w=64,c||(x=64)),r.push(i[y],i[v],i[x],i[w])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(oT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Z2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const u=i[e.charAt(o++)],d=o<e.length?i[e.charAt(o)]:0;++o;const p=o<e.length?i[e.charAt(o)]:64;++o;const v=o<e.length?i[e.charAt(o)]:64;if(++o,u==null||d==null||p==null||v==null)throw new J2;const x=u<<2|d>>4;if(r.push(x),p!==64){const w=d<<4&240|p>>2;if(r.push(w),v!==64){const j=p<<6&192|v;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class J2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W2=function(e){const t=oT(e);return lT.encodeByteArray(t,!0)},Fh=function(e){return W2(e).replace(/\./g,"")},tC=function(e){try{return lT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function eC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nC=()=>eC().__FIREBASE_DEFAULTS__,iC=()=>{if(typeof process>"u"||typeof y1>"u")return;const e=y1.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},sC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&tC(e[1]);return t&&JSON.parse(t)},vg=()=>{try{return $2()||nC()||iC()||sC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},rC=e=>vg()?.emulatorHosts?.[e],aC=e=>{const t=rC(e);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},uT=()=>vg()?.config;class oC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function bg(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lC(e){return(await fetch(e,{credentials:"include"})).ok}function uC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Fh(JSON.stringify(i)),Fh(JSON.stringify(c)),""].join(".")}const lu={};function cC(){const e={prod:[],emulator:[]};for(const t of Object.keys(lu))lu[t]?e.emulator.push(t):e.prod.push(t);return e}function hC(e){let t=document.getElementById(e),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),i=!0),{created:i,element:t}}let v1=!1;function fC(e,t){if(typeof window>"u"||typeof document>"u"||!bg(window.location.host)||lu[e]===t||lu[e]||v1)return;lu[e]=t;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=cC().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{v1=!0,c()},x}function y(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=hC(r),w=i("text"),j=document.getElementById(w)||document.createElement("span"),I=i("learnmore"),D=document.getElementById(I)||document.createElement("a"),k=i("preprendIcon"),B=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const P=x.element;d(P),y(D,I);const G=p();m(B,k),P.append(B,j,D,G),document.body.appendChild(P)}u?(j.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function dC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mC(){const e=vg()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pC(){return!mC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gC(){try{return typeof indexedDB=="object"}catch{return!1}}function yC(){return new Promise((e,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const vC="FirebaseError";class qo extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=vC,Object.setPrototypeOf(this,qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cT.prototype.create)}}class cT{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?bC(u,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new qo(o,d,r)}}function bC(e,t){return e.replace(_C,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const _C=/\{\$([^}]+)}/g;function Hh(e,t){if(e===t)return!0;const i=Object.keys(e),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=e[o],c=t[o];if(b1(u)&&b1(c)){if(!Hh(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function b1(e){return e!==null&&typeof e=="object"}function _u(e){return e&&e._delegate?e._delegate:e}class xu{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const va="[DEFAULT]";class xC{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new oC;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(EC(t))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=va){return this.instances.has(t)}getOptions(t=va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&c.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TC(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=va){return this.component?this.component.multipleInstances?t:va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TC(e){return e===va?void 0:e}function EC(e){return e.instantiationMode==="EAGER"}class SC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new xC(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Qt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Qt||(Qt={}));const AC={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},wC=Qt.INFO,CC={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},RC=(e,t,...i)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=CC[t];if(o)console[o](`[${r}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hT{constructor(t){this.name=t,this._logLevel=wC,this._logHandler=RC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?AC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...t),this._logHandler(this,Qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...t),this._logHandler(this,Qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...t),this._logHandler(this,Qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...t),this._logHandler(this,Qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...t),this._logHandler(this,Qt.ERROR,...t)}}const DC=(e,t)=>t.some(i=>e instanceof i);let _1,x1;function NC(){return _1||(_1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MC(){return x1||(x1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fT=new WeakMap,xp=new WeakMap,dT=new WeakMap,qm=new WeakMap,_g=new WeakMap;function VC(e){const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{i(Rr(e.result)),o()},c=()=>{r(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&fT.set(i,e)}).catch(()=>{}),_g.set(t,e),t}function IC(e){if(xp.has(e))return;const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});xp.set(e,t)}let Tp={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return xp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||dT.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Rr(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function OC(e){Tp=e(Tp)}function jC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=e.call(Gm(this),t,...i);return dT.set(r,t.sort?t.sort():[t]),Rr(r)}:MC().includes(e)?function(...t){return e.apply(Gm(this),t),Rr(fT.get(this))}:function(...t){return Rr(e.apply(Gm(this),t))}}function kC(e){return typeof e=="function"?jC(e):(e instanceof IDBTransaction&&IC(e),DC(e,NC())?new Proxy(e,Tp):e)}function Rr(e){if(e instanceof IDBRequest)return VC(e);if(qm.has(e))return qm.get(e);const t=kC(e);return t!==e&&(qm.set(e,t),_g.set(t,e)),t}const Gm=e=>_g.get(e);function LC(e,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),d=Rr(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Rr(c.result),m.oldVersion,m.newVersion,Rr(c.transaction),m)}),i&&c.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const PC=["get","getKey","getAll","getAllKeys","count"],UC=["put","add","delete","clear"],Km=new Map;function T1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Km.get(t))return Km.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=UC.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||PC.includes(i)))return;const u=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[i](...d),o&&m.done]))[0]};return Km.set(t,u),u}OC(e=>({...e,get:(t,i,r)=>T1(t,i)||e.get(t,i,r),has:(t,i)=>!!T1(t,i)||e.has(t,i)}));class zC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BC(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function BC(e){return e.getComponent()?.type==="VERSION"}const Ep="@firebase/app",E1="0.14.6";const Fs=new hT("@firebase/app"),FC="@firebase/app-compat",HC="@firebase/analytics-compat",qC="@firebase/analytics",GC="@firebase/app-check-compat",KC="@firebase/app-check",YC="@firebase/auth",XC="@firebase/auth-compat",QC="@firebase/database",$C="@firebase/data-connect",ZC="@firebase/database-compat",JC="@firebase/functions",WC="@firebase/functions-compat",tR="@firebase/installations",eR="@firebase/installations-compat",nR="@firebase/messaging",iR="@firebase/messaging-compat",sR="@firebase/performance",rR="@firebase/performance-compat",aR="@firebase/remote-config",oR="@firebase/remote-config-compat",lR="@firebase/storage",uR="@firebase/storage-compat",cR="@firebase/firestore",hR="@firebase/ai",fR="@firebase/firestore-compat",dR="firebase",mR="12.6.0";const Sp="[DEFAULT]",pR={[Ep]:"fire-core",[FC]:"fire-core-compat",[qC]:"fire-analytics",[HC]:"fire-analytics-compat",[KC]:"fire-app-check",[GC]:"fire-app-check-compat",[YC]:"fire-auth",[XC]:"fire-auth-compat",[QC]:"fire-rtdb",[$C]:"fire-data-connect",[ZC]:"fire-rtdb-compat",[JC]:"fire-fn",[WC]:"fire-fn-compat",[tR]:"fire-iid",[eR]:"fire-iid-compat",[nR]:"fire-fcm",[iR]:"fire-fcm-compat",[sR]:"fire-perf",[rR]:"fire-perf-compat",[aR]:"fire-rc",[oR]:"fire-rc-compat",[lR]:"fire-gcs",[uR]:"fire-gcs-compat",[cR]:"fire-fst",[fR]:"fire-fst-compat",[hR]:"fire-vertex","fire-js":"fire-js",[dR]:"fire-js-all"};const qh=new Map,gR=new Map,Ap=new Map;function S1(e,t){try{e.container.addComponent(t)}catch(i){Fs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function Gh(e){const t=e.name;if(Ap.has(t))return Fs.debug(`There were multiple attempts to register component ${t}.`),!1;Ap.set(t,e);for(const i of qh.values())S1(i,e);for(const i of gR.values())S1(i,e);return!0}function yR(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function vR(e){return e==null?!1:e.settings!==void 0}const bR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new cT("app","Firebase",bR);class _R{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}const xR=mR;function mT(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const r={name:Sp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Dr.create("bad-app-name",{appName:String(o)});if(i||(i=uT()),!i)throw Dr.create("no-options");const u=qh.get(o);if(u){if(Hh(i,u.options)&&Hh(r,u.config))return u;throw Dr.create("duplicate-app",{appName:o})}const c=new SC(o);for(const m of Ap.values())c.addComponent(m);const d=new _R(i,r,c);return qh.set(o,d),d}function TR(e=Sp){const t=qh.get(e);if(!t&&e===Sp&&uT())return mT();if(!t)throw Dr.create("no-app",{appName:e});return t}function No(e,t,i){let r=pR[e]??e;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fs.warn(c.join(" "));return}Gh(new xu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const ER="firebase-heartbeat-database",SR=1,Tu="firebase-heartbeat-store";let Ym=null;function pT(){return Ym||(Ym=LC(ER,SR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Tu)}catch(i){console.warn(i)}}}}).catch(e=>{throw Dr.create("idb-open",{originalErrorMessage:e.message})})),Ym}async function AR(e){try{const i=(await pT()).transaction(Tu),r=await i.objectStore(Tu).get(gT(e));return await i.done,r}catch(t){if(t instanceof qo)Fs.warn(t.message);else{const i=Dr.create("idb-get",{originalErrorMessage:t?.message});Fs.warn(i.message)}}}async function A1(e,t){try{const r=(await pT()).transaction(Tu,"readwrite");await r.objectStore(Tu).put(t,gT(e)),await r.done}catch(i){if(i instanceof qo)Fs.warn(i.message);else{const r=Dr.create("idb-set",{originalErrorMessage:i?.message});Fs.warn(r.message)}}}function gT(e){return`${e.name}!${e.options.appId}`}const wR=1024,CR=30;class RR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new NR(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=w1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>CR){const o=MR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=w1(),{heartbeatsToSend:i,unsentEntries:r}=DR(this._heartbeatsCache.heartbeats),o=Fh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fs.warn(t),""}}}function w1(){return new Date().toISOString().substring(0,10)}function DR(e,t=wR){const i=[];let r=e.slice();for(const o of e){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),C1(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),C1(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class NR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gC()?yC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await AR(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return A1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return A1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function C1(e){return Fh(JSON.stringify({version:2,heartbeats:e})).length}function MR(e){if(e.length===0)return-1;let t=0,i=e[0].date;for(let r=1;r<e.length;r++)e[r].date<i&&(i=e[r].date,t=r);return t}function VR(e){Gh(new xu("platform-logger",t=>new zC(t),"PRIVATE")),Gh(new xu("heartbeat",t=>new RR(t),"PRIVATE")),No(Ep,E1,e),No(Ep,E1,"esm2020"),No("fire-js","")}VR("");var IR="firebase",OR="12.7.0";No(IR,OR,"app");var R1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nr,yT;(function(){var e;function t(A,S){function N(){}N.prototype=S.prototype,A.F=S.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(L,O,q){for(var M=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)M[Ct-2]=arguments[Ct];return S.prototype[O].apply(L,M)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,S,N){N||(N=0);const L=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)L[O]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(O=0;O<16;++O)L[O]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=A.g[0],N=A.g[1],O=A.g[2];let q=A.g[3],M;M=S+(q^N&(O^q))+L[0]+3614090360&4294967295,S=N+(M<<7&4294967295|M>>>25),M=q+(O^S&(N^O))+L[1]+3905402710&4294967295,q=S+(M<<12&4294967295|M>>>20),M=O+(N^q&(S^N))+L[2]+606105819&4294967295,O=q+(M<<17&4294967295|M>>>15),M=N+(S^O&(q^S))+L[3]+3250441966&4294967295,N=O+(M<<22&4294967295|M>>>10),M=S+(q^N&(O^q))+L[4]+4118548399&4294967295,S=N+(M<<7&4294967295|M>>>25),M=q+(O^S&(N^O))+L[5]+1200080426&4294967295,q=S+(M<<12&4294967295|M>>>20),M=O+(N^q&(S^N))+L[6]+2821735955&4294967295,O=q+(M<<17&4294967295|M>>>15),M=N+(S^O&(q^S))+L[7]+4249261313&4294967295,N=O+(M<<22&4294967295|M>>>10),M=S+(q^N&(O^q))+L[8]+1770035416&4294967295,S=N+(M<<7&4294967295|M>>>25),M=q+(O^S&(N^O))+L[9]+2336552879&4294967295,q=S+(M<<12&4294967295|M>>>20),M=O+(N^q&(S^N))+L[10]+4294925233&4294967295,O=q+(M<<17&4294967295|M>>>15),M=N+(S^O&(q^S))+L[11]+2304563134&4294967295,N=O+(M<<22&4294967295|M>>>10),M=S+(q^N&(O^q))+L[12]+1804603682&4294967295,S=N+(M<<7&4294967295|M>>>25),M=q+(O^S&(N^O))+L[13]+4254626195&4294967295,q=S+(M<<12&4294967295|M>>>20),M=O+(N^q&(S^N))+L[14]+2792965006&4294967295,O=q+(M<<17&4294967295|M>>>15),M=N+(S^O&(q^S))+L[15]+1236535329&4294967295,N=O+(M<<22&4294967295|M>>>10),M=S+(O^q&(N^O))+L[1]+4129170786&4294967295,S=N+(M<<5&4294967295|M>>>27),M=q+(N^O&(S^N))+L[6]+3225465664&4294967295,q=S+(M<<9&4294967295|M>>>23),M=O+(S^N&(q^S))+L[11]+643717713&4294967295,O=q+(M<<14&4294967295|M>>>18),M=N+(q^S&(O^q))+L[0]+3921069994&4294967295,N=O+(M<<20&4294967295|M>>>12),M=S+(O^q&(N^O))+L[5]+3593408605&4294967295,S=N+(M<<5&4294967295|M>>>27),M=q+(N^O&(S^N))+L[10]+38016083&4294967295,q=S+(M<<9&4294967295|M>>>23),M=O+(S^N&(q^S))+L[15]+3634488961&4294967295,O=q+(M<<14&4294967295|M>>>18),M=N+(q^S&(O^q))+L[4]+3889429448&4294967295,N=O+(M<<20&4294967295|M>>>12),M=S+(O^q&(N^O))+L[9]+568446438&4294967295,S=N+(M<<5&4294967295|M>>>27),M=q+(N^O&(S^N))+L[14]+3275163606&4294967295,q=S+(M<<9&4294967295|M>>>23),M=O+(S^N&(q^S))+L[3]+4107603335&4294967295,O=q+(M<<14&4294967295|M>>>18),M=N+(q^S&(O^q))+L[8]+1163531501&4294967295,N=O+(M<<20&4294967295|M>>>12),M=S+(O^q&(N^O))+L[13]+2850285829&4294967295,S=N+(M<<5&4294967295|M>>>27),M=q+(N^O&(S^N))+L[2]+4243563512&4294967295,q=S+(M<<9&4294967295|M>>>23),M=O+(S^N&(q^S))+L[7]+1735328473&4294967295,O=q+(M<<14&4294967295|M>>>18),M=N+(q^S&(O^q))+L[12]+2368359562&4294967295,N=O+(M<<20&4294967295|M>>>12),M=S+(N^O^q)+L[5]+4294588738&4294967295,S=N+(M<<4&4294967295|M>>>28),M=q+(S^N^O)+L[8]+2272392833&4294967295,q=S+(M<<11&4294967295|M>>>21),M=O+(q^S^N)+L[11]+1839030562&4294967295,O=q+(M<<16&4294967295|M>>>16),M=N+(O^q^S)+L[14]+4259657740&4294967295,N=O+(M<<23&4294967295|M>>>9),M=S+(N^O^q)+L[1]+2763975236&4294967295,S=N+(M<<4&4294967295|M>>>28),M=q+(S^N^O)+L[4]+1272893353&4294967295,q=S+(M<<11&4294967295|M>>>21),M=O+(q^S^N)+L[7]+4139469664&4294967295,O=q+(M<<16&4294967295|M>>>16),M=N+(O^q^S)+L[10]+3200236656&4294967295,N=O+(M<<23&4294967295|M>>>9),M=S+(N^O^q)+L[13]+681279174&4294967295,S=N+(M<<4&4294967295|M>>>28),M=q+(S^N^O)+L[0]+3936430074&4294967295,q=S+(M<<11&4294967295|M>>>21),M=O+(q^S^N)+L[3]+3572445317&4294967295,O=q+(M<<16&4294967295|M>>>16),M=N+(O^q^S)+L[6]+76029189&4294967295,N=O+(M<<23&4294967295|M>>>9),M=S+(N^O^q)+L[9]+3654602809&4294967295,S=N+(M<<4&4294967295|M>>>28),M=q+(S^N^O)+L[12]+3873151461&4294967295,q=S+(M<<11&4294967295|M>>>21),M=O+(q^S^N)+L[15]+530742520&4294967295,O=q+(M<<16&4294967295|M>>>16),M=N+(O^q^S)+L[2]+3299628645&4294967295,N=O+(M<<23&4294967295|M>>>9),M=S+(O^(N|~q))+L[0]+4096336452&4294967295,S=N+(M<<6&4294967295|M>>>26),M=q+(N^(S|~O))+L[7]+1126891415&4294967295,q=S+(M<<10&4294967295|M>>>22),M=O+(S^(q|~N))+L[14]+2878612391&4294967295,O=q+(M<<15&4294967295|M>>>17),M=N+(q^(O|~S))+L[5]+4237533241&4294967295,N=O+(M<<21&4294967295|M>>>11),M=S+(O^(N|~q))+L[12]+1700485571&4294967295,S=N+(M<<6&4294967295|M>>>26),M=q+(N^(S|~O))+L[3]+2399980690&4294967295,q=S+(M<<10&4294967295|M>>>22),M=O+(S^(q|~N))+L[10]+4293915773&4294967295,O=q+(M<<15&4294967295|M>>>17),M=N+(q^(O|~S))+L[1]+2240044497&4294967295,N=O+(M<<21&4294967295|M>>>11),M=S+(O^(N|~q))+L[8]+1873313359&4294967295,S=N+(M<<6&4294967295|M>>>26),M=q+(N^(S|~O))+L[15]+4264355552&4294967295,q=S+(M<<10&4294967295|M>>>22),M=O+(S^(q|~N))+L[6]+2734768916&4294967295,O=q+(M<<15&4294967295|M>>>17),M=N+(q^(O|~S))+L[13]+1309151649&4294967295,N=O+(M<<21&4294967295|M>>>11),M=S+(O^(N|~q))+L[4]+4149444226&4294967295,S=N+(M<<6&4294967295|M>>>26),M=q+(N^(S|~O))+L[11]+3174756917&4294967295,q=S+(M<<10&4294967295|M>>>22),M=O+(S^(q|~N))+L[2]+718787259&4294967295,O=q+(M<<15&4294967295|M>>>17),M=N+(q^(O|~S))+L[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+q&4294967295}r.prototype.v=function(A,S){S===void 0&&(S=A.length);const N=S-this.blockSize,L=this.C;let O=this.h,q=0;for(;q<S;){if(O==0)for(;q<=N;)o(this,A,q),q+=this.blockSize;if(typeof A=="string"){for(;q<S;)if(L[O++]=A.charCodeAt(q++),O==this.blockSize){o(this,L),O=0;break}}else for(;q<S;)if(L[O++]=A[q++],O==this.blockSize){o(this,L),O=0;break}}this.h=O,this.o+=S},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)A[S++]=this.g[N]>>>L&255;return A};function u(A,S){var N=d;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=S(A)}function c(A,S){this.h=S;const N=[];let L=!0;for(let O=A.length-1;O>=0;O--){const q=A[O]|0;L&&q==S||(N[O]=q,L=!1)}this.g=N}var d={};function m(A){return-128<=A&&A<128?u(A,function(S){return new c([S|0],S<0?-1:0)}):new c([A|0],A<0?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return v;if(A<0)return D(p(-A));const S=[];let N=1;for(let L=0;A>=N;L++)S[L]=A/N|0,N*=4294967296;return new c(S,0)}function y(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return D(y(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(S,8));let L=v;for(let q=0;q<A.length;q+=8){var O=Math.min(8,A.length-q);const M=parseInt(A.substring(q,q+O),S);O<8?(O=p(Math.pow(S,O)),L=L.j(O).add(p(M))):(L=L.j(N),L=L.add(p(M)))}return L}var v=m(0),x=m(1),w=m(16777216);e=c.prototype,e.m=function(){if(I(this))return-D(this).m();let A=0,S=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);A+=(L>=0?L:4294967296+L)*S,S*=4294967296}return A},e.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(j(this))return"0";if(I(this))return"-"+D(this).toString(A);const S=p(Math.pow(A,6));var N=this;let L="";for(;;){const O=G(N,S).g;N=k(N,O.j(S));let q=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=O,j(N))return q+L;for(;q.length<6;)q="0"+q;L=q+L}},e.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function j(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function I(A){return A.h==-1}e.l=function(A){return A=k(this,A),I(A)?-1:j(A)?0:1};function D(A){const S=A.g.length,N=[];for(let L=0;L<S;L++)N[L]=~A.g[L];return new c(N,~A.h).add(x)}e.abs=function(){return I(this)?D(this):this},e.add=function(A){const S=Math.max(this.g.length,A.g.length),N=[];let L=0;for(let O=0;O<=S;O++){let q=L+(this.i(O)&65535)+(A.i(O)&65535),M=(q>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);L=M>>>16,q&=65535,M&=65535,N[O]=M<<16|q}return new c(N,N[N.length-1]&-2147483648?-1:0)};function k(A,S){return A.add(D(S))}e.j=function(A){if(j(this)||j(A))return v;if(I(this))return I(A)?D(this).j(D(A)):D(D(this).j(A));if(I(A))return D(this.j(D(A)));if(this.l(w)<0&&A.l(w)<0)return p(this.m()*A.m());const S=this.g.length+A.g.length,N=[];for(var L=0;L<2*S;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<A.g.length;O++){const q=this.i(L)>>>16,M=this.i(L)&65535,Ct=A.i(O)>>>16,Pt=A.i(O)&65535;N[2*L+2*O]+=M*Pt,B(N,2*L+2*O),N[2*L+2*O+1]+=q*Pt,B(N,2*L+2*O+1),N[2*L+2*O+1]+=M*Ct,B(N,2*L+2*O+1),N[2*L+2*O+2]+=q*Ct,B(N,2*L+2*O+2)}for(A=0;A<S;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=S;A<2*S;A++)N[A]=0;return new c(N,0)};function B(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function P(A,S){this.g=A,this.h=S}function G(A,S){if(j(S))throw Error("division by zero");if(j(A))return new P(v,v);if(I(A))return S=G(D(A),S),new P(D(S.g),D(S.h));if(I(S))return S=G(A,D(S)),new P(D(S.g),S.h);if(A.g.length>30){if(I(A)||I(S))throw Error("slowDivide_ only works with positive integers.");for(var N=x,L=S;L.l(A)<=0;)N=Y(N),L=Y(L);var O=z(N,1),q=z(L,1);for(L=z(L,2),N=z(N,2);!j(L);){var M=q.add(L);M.l(A)<=0&&(O=O.add(N),q=M),L=z(L,1),N=z(N,1)}return S=k(A,O.j(S)),new P(O,S)}for(O=v;A.l(S)>=0;){for(N=Math.max(1,Math.floor(A.m()/S.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),q=p(N),M=q.j(S);I(M)||M.l(A)>0;)N-=L,q=p(N),M=q.j(S);j(q)&&(q=x),O=O.add(q),A=k(A,M)}return new P(O,A)}e.B=function(A){return G(this,A).h},e.and=function(A){const S=Math.max(this.g.length,A.g.length),N=[];for(let L=0;L<S;L++)N[L]=this.i(L)&A.i(L);return new c(N,this.h&A.h)},e.or=function(A){const S=Math.max(this.g.length,A.g.length),N=[];for(let L=0;L<S;L++)N[L]=this.i(L)|A.i(L);return new c(N,this.h|A.h)},e.xor=function(A){const S=Math.max(this.g.length,A.g.length),N=[];for(let L=0;L<S;L++)N[L]=this.i(L)^A.i(L);return new c(N,this.h^A.h)};function Y(A){const S=A.g.length+1,N=[];for(let L=0;L<S;L++)N[L]=A.i(L)<<1|A.i(L-1)>>>31;return new c(N,A.h)}function z(A,S){const N=S>>5;S%=32;const L=A.g.length-N,O=[];for(let q=0;q<L;q++)O[q]=S>0?A.i(q+N)>>>S|A.i(q+N+1)<<32-S:A.i(q+N);return new c(O,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,yT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Nr=c}).apply(typeof R1<"u"?R1:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vT,eu,bT,Nh,wp,_T,xT,TT;(function(){var e,t=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var b=0;b<h.length;++b){var T=h[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=i(this);function o(h,b){if(b)t:{var T=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var X=h[R];if(!(X in T))break t;T=T[X]}h=h[h.length-1],R=T[h],b=b(R),b!=R&&b!=null&&t(T,h,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(b){var T=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&T.push([R,b[R]]);return T}});var u=u||{},c=this||self;function d(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,T){return h.call.apply(h.bind,arguments)}function p(h,b,T){return p=m,p.apply(null,arguments)}function y(h,b){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function v(h,b){function T(){}T.prototype=b.prototype,h.Z=b.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(R,X,J){for(var ct=Array(arguments.length-2),It=2;It<arguments.length;It++)ct[It-2]=arguments[It];return b.prototype[X].apply(R,ct)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const b=h.length;if(b>0){const T=Array(b);for(let R=0;R<b;R++)T[R]=h[R];return T}return[]}function j(h,b){for(let R=1;R<arguments.length;R++){const X=arguments[R];var T=typeof X;if(T=T!="object"?T:X?Array.isArray(X)?"array":T:"null",T=="array"||T=="object"&&typeof X.length=="number"){T=h.length||0;const J=X.length||0;h.length=T+J;for(let ct=0;ct<J;ct++)h[T+ct]=X[ct]}else h.push(X)}}class I{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function D(h){c.setTimeout(()=>{throw h},0)}function k(){var h=A;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class B{constructor(){this.h=this.g=null}add(b,T){const R=P.get();R.set(b,T),this.h?this.h.next=R:this.g=R,this.h=R}}var P=new I(()=>new G,h=>h.reset());class G{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,z=!1,A=new B,S=()=>{const h=Promise.resolve(void 0);Y=()=>{h.then(N)}};function N(){for(var h;h=k();){try{h.h.call(h.g)}catch(T){D(T)}var b=P;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}z=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,b),c.removeEventListener("test",T,b)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function Ct(h,b){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}v(Ct,O),Ct.prototype.init=function(h,b){const T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(T=="mouseover"?b=h.fromElement:T=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ct.Z.h.call(this)},Ct.prototype.h=function(){Ct.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pt="closure_listenable_"+(Math.random()*1e6|0),tt=0;function st(h,b,T,R,X){this.listener=h,this.proxy=null,this.src=b,this.type=T,this.capture=!!R,this.ha=X,this.key=++tt,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function yt(h,b,T){for(const R in h)b.call(T,h[R],R,h)}function pt(h,b){for(const T in h)b.call(void 0,h[T],T,h)}function F(h){const b={};for(const T in h)b[T]=h[T];return b}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,b){let T,R;for(let X=1;X<arguments.length;X++){R=arguments[X];for(T in R)h[T]=R[T];for(let J=0;J<et.length;J++)T=et[J],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,b,T,R,X){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const ct=vt(h,b,R,X);return ct>-1?(b=h[ct],T||(b.fa=!1)):(b=new st(b,this.src,J,!!R,X),b.fa=T,h.push(b)),b};function _t(h,b){const T=b.type;if(T in h.g){var R=h.g[T],X=Array.prototype.indexOf.call(R,b,void 0),J;(J=X>=0)&&Array.prototype.splice.call(R,X,1),J&&(ft(b),h.g[T].length==0&&(delete h.g[T],h.h--))}}function vt(h,b,T,R){for(let X=0;X<h.length;++X){const J=h[X];if(!J.da&&J.listener==b&&J.capture==!!T&&J.ha==R)return X}return-1}var lt="closure_lm_"+(Math.random()*1e6|0),Vt={};function xt(h,b,T,R,X){if(Array.isArray(b)){for(let J=0;J<b.length;J++)xt(h,b[J],T,R,X);return null}return T=Gi(T),h&&h[Pt]?h.J(b,T,d(R)?!!R.capture:!1,X):At(h,b,T,!1,R,X)}function At(h,b,T,R,X,J){if(!b)throw Error("Invalid event type");const ct=d(X)?!!X.capture:!!X;let It=vn(h);if(It||(h[lt]=It=new ht(h)),T=It.add(b,T,R,ct,J),T.proxy)return T;if(R=Dn(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)q||(X=ct),X===void 0&&(X=!1),h.addEventListener(b.toString(),R,X);else if(h.attachEvent)h.attachEvent(xe(b.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Dn(){function h(T){return b.call(h.src,h.listener,T)}const b=Un;return h}function Ye(h,b,T,R,X){if(Array.isArray(b))for(var J=0;J<b.length;J++)Ye(h,b[J],T,R,X);else R=d(R)?!!R.capture:!!R,T=Gi(T),h&&h[Pt]?(h=h.i,J=String(b).toString(),J in h.g&&(b=h.g[J],T=vt(b,T,R,X),T>-1&&(ft(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete h.g[J],h.h--)))):h&&(h=vn(h))&&(b=h.g[b.toString()],h=-1,b&&(h=vt(b,T,R,X)),(T=h>-1?b[h]:null)&&Nn(T))}function Nn(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[Pt])_t(b.i,h);else{var T=h.type,R=h.proxy;b.removeEventListener?b.removeEventListener(T,R,h.capture):b.detachEvent?b.detachEvent(xe(T),R):b.addListener&&b.removeListener&&b.removeListener(R),(T=vn(b))?(_t(T,h),T.h==0&&(T.src=null,b[lt]=null)):ft(h)}}}function xe(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function Un(h,b){if(h.da)h=!0;else{b=new Ct(b,this);const T=h.listener,R=h.ha||h.src;h.fa&&Nn(h),h=T.call(R,b)}return h}function vn(h){return h=h[lt],h instanceof ht?h:null}var qi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gi(h){return typeof h=="function"?h:(h[qi]||(h[qi]=function(b){return h.handleEvent(b)}),h[qi])}function he(){L.call(this),this.i=new ht(this),this.M=this,this.G=null}v(he,L),he.prototype[Pt]=!0,he.prototype.removeEventListener=function(h,b,T,R){Ye(this,h,b,T,R)};function ee(h,b){var T,R=h.G;if(R)for(T=[];R;R=R.G)T.push(R);if(h=h.M,R=b.type||b,typeof b=="string")b=new O(b,h);else if(b instanceof O)b.target=b.target||h;else{var X=b;b=new O(R,h),ut(b,X)}X=!0;let J,ct;if(T)for(ct=T.length-1;ct>=0;ct--)J=b.g=T[ct],X=Mn(J,R,!0,b)&&X;if(J=b.g=h,X=Mn(J,R,!0,b)&&X,X=Mn(J,R,!1,b)&&X,T)for(ct=0;ct<T.length;ct++)J=b.g=T[ct],X=Mn(J,R,!1,b)&&X}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const T=h.g[b];for(let R=0;R<T.length;R++)ft(T[R]);delete h.g[b],h.h--}}this.G=null},he.prototype.J=function(h,b,T,R){return this.i.add(String(h),b,!1,T,R)},he.prototype.K=function(h,b,T,R){return this.i.add(String(h),b,!0,T,R)};function Mn(h,b,T,R){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let X=!0;for(let J=0;J<b.length;++J){const ct=b[J];if(ct&&!ct.da&&ct.capture==T){const It=ct.listener,Me=ct.ha||ct.src;ct.fa&&_t(h.i,ct),X=It.call(Me,R)!==!1&&X}}return X&&!R.defaultPrevented}function Ki(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(h,b||0)}function bs(h){h.g=Ki(()=>{h.g=null,h.i&&(h.i=!1,bs(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class je extends L{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:bs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(h){L.call(this),this.h=h,this.g={}}v(Ni,L);var _s=[];function kt(h){yt(h.g,function(b,T){this.g.hasOwnProperty(T)&&Nn(b)},h),h.g={}}Ni.prototype.N=function(){Ni.Z.N.call(this),kt(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=c.JSON.stringify,zn=c.JSON.parse,qr=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Zn(){}function Gr(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){O.call(this,"d")}v(Xe,O);function bn(){O.call(this,"c")}v(bn,O);var pe={},Va=null;function xs(){return Va=Va||new he}pe.Ia="serverreachability";function Ia(h){O.call(this,pe.Ia,h)}v(Ia,O);function ci(h){const b=xs();ee(b,new Ia(b))}pe.STAT_EVENT="statevent";function Ts(h,b){O.call(this,pe.STAT_EVENT,h),this.stat=b}v(Ts,O);function Ut(h){const b=xs();ee(b,new Ts(b,h))}pe.Ja="timingevent";function ge(h,b){O.call(this,pe.Ja,h),this.size=b}v(ge,O);function ye(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},b)}function ke(){this.g=!0}ke.prototype.ua=function(){this.g=!1};function _n(h,b,T,R,X,J){h.info(function(){if(h.g)if(J){var ct="",It=J.split("&");for(let Wt=0;Wt<It.length;Wt++){var Me=It[Wt].split("=");if(Me.length>1){const ve=Me[0];Me=Me[1];const mi=ve.split("_");ct=mi.length>=2&&mi[1]=="type"?ct+(ve+"="+Me+"&"):ct+(ve+"=redacted&")}}}else ct=null;else ct=J;return"XMLHTTP REQ ("+R+") [attempt "+X+"]: "+b+`
`+T+`
`+ct})}function en(h,b,T,R,X,J,ct){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+X+"]: "+b+`
`+T+`
`+J+" "+ct})}function De(h,b,T,R){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ne(h,T)+(R?" "+R:"")})}function Bn(h,b){h.info(function(){return"TIMEOUT: "+b})}ke.prototype.info=function(){};function Ne(h,b){if(!h.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var T=J[h];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var X=R[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ct=1;ct<R.length;ct++)R[ct]=""}}}}return $t(J)}catch{return b}}var xn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vn;function Wn(){}v(Wn,Zn),Wn.prototype.g=function(){return new XMLHttpRequest},Vn=new Wn;function In(h){return encodeURIComponent(String(h))}function ti(h){var b=1;h=h.split(":");const T=[];for(;b>0&&h.length;)T.push(h.shift()),b--;return h.length&&T.push(h.join(":")),T}function ln(h,b,T,R){this.j=h,this.i=b,this.l=T,this.S=R||1,this.V=new Ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new On}function On(){this.i=null,this.g="",this.h=!1}var Le={},nn={};function Yi(h,b,T){h.M=1,h.A=Kr(Ue(b)),h.u=T,h.R=!0,Oa(h,null)}function Oa(h,b){h.F=Date.now(),Xi(h),h.B=Ue(h.A);var T=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Pa(T.i,"t",R),h.C=0,T=h.j.L,h.h=new On,h.g=dc(h.j,T?b:null,!h.u),h.P>0&&(h.O=new je(p(h.Y,h,h.g),h.P)),b=h.V,T=h.g,R=h.ba;var X="readystatechange";Array.isArray(X)||(X&&(_s[0]=X.toString()),X=_s);for(let J=0;J<X.length;J++){const ct=xt(T,X[J],R||b.handleEvent,!1,b.h||b);if(!ct)break;b.g[ct.key]=ct}b=h.J?F(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),ci(),_n(h.i,h.v,h.B,h.l,h.S,h.u)}ln.prototype.ba=function(h){h=h.target;const b=this.O;b&&Ii(h)==3?b.j():this.Y(h)},ln.prototype.Y=function(h){try{if(h==this.g)t:{const It=Ii(this.g),Me=this.g.ya(),Wt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||It!=4||Me==7||(Me==8||Wt<=0?ci(3):ci(2)),Qi(this);var b=this.g.ca();this.X=b;var T=Hf(this);if(this.o=b==200,en(this.i,this.v,this.B,this.l,this.S,It,b),this.o){if(this.U&&!this.L){e:{if(this.g){var R,X=this.g;if((R=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(R)){var J=R;break e}}J=null}if(h=J)De(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$i(this,h);else{this.o=!1,this.m=3,Ut(12),ei(this),hi(this);break t}}if(this.R){h=!0;let ve;for(;!this.K&&this.C<T.length;)if(ve=tc(this,T),ve==nn){It==4&&(this.m=4,Ut(14),h=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==Le){this.m=4,Ut(15),De(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else De(this.i,this.l,ve,null),$i(this,ve);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||T.length!=0||this.h.h||(this.m=1,Ut(16),h=!1),this.o=this.o&&h,!h)De(this.i,this.l,T,"[Invalid Chunked Response]"),ei(this),hi(this);else if(T.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),pl(ct),ct.P=!0,Ut(11))}}else De(this.i,this.l,T,null),$i(this,T);It==4&&ei(this),this.o&&!this.K&&(It==4?uc(this.j,this):(this.o=!1,Xi(this)))}else Ss(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),ei(this),hi(this)}}}catch{}};function Hf(h){if(!Wu(h))return h.g.la();const b=un(h.g);if(b==="")return"";let T="";const R=b.length,X=Ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ei(h),hi(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<R;J++)h.h.h=!0,T+=h.h.i.decode(b[J],{stream:!(X&&J==R-1)});return b.length=0,h.h.g+=T,h.C=0,h.h.g}function Wu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function tc(h,b){var T=h.C,R=b.indexOf(`
`,T);return R==-1?nn:(T=Number(b.substring(T,R)),isNaN(T)?Le:(R+=1,R+T>b.length?nn:(b=b.slice(R,R+T),h.C=R+T,b)))}ln.prototype.cancel=function(){this.K=!0,ei(this)};function Xi(h){h.T=Date.now()+h.H,ja(h,h.H)}function ja(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ye(p(h.aa,h),b)}function Qi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ln.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Bn(this.i,this.B),this.M!=2&&(ci(),Ut(17)),ei(this),this.m=2,hi(this)):ja(this,this.T-h)};function hi(h){h.j.I==0||h.K||uc(h.j,h)}function ei(h){Qi(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,kt(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function $i(h,b){try{var T=h.j;if(T.I!=0&&(T.g==h||Ji(T.h,h))){if(!h.L&&Ji(T.h,h)&&T.I==3){try{var R=T.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var X=R;if(X[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Ha(T),tr(T);else break t;Wr(T),Ut(18)}}else T.xa=X[1],0<T.xa-T.K&&X[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ye(p(T.Va,T),6e3));Zi(T.h)<=1&&T.ta&&(T.ta=void 0)}else ss(T,11)}else if((h.L||T.g==h)&&Ha(T),!M(b))for(X=T.Ba.g.parse(b),b=0;b<X.length;b++){let Wt=X[b];const ve=Wt[0];if(!(ve<=T.K))if(T.K=ve,Wt=Wt[1],T.I==2)if(Wt[0]=="c"){T.M=Wt[1],T.ba=Wt[2];const mi=Wt[3];mi!=null&&(T.ka=mi,T.j.info("VER="+T.ka));const rs=Wt[4];rs!=null&&(T.za=rs,T.j.info("SVER="+T.za));const Oi=Wt[5];Oi!=null&&typeof Oi=="number"&&Oi>0&&(R=1.5*Oi,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const ji=h.g;if(ji){const ta=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var J=R.h;J.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(il(J,J.h),J.h=null))}if(R.G){const qa=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;qa&&(R.wa=qa,ie(R.J,R.G,qa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var ct=h;if(R.na=fc(R,R.L?R.ba:null,R.W),ct.L){sl(R.h,ct);var It=ct,Me=R.O;Me&&(It.H=Me),It.D&&(Qi(It),Xi(It)),R.g=ct}else oc(R);T.i.length>0&&is(T)}else Wt[0]!="stop"&&Wt[0]!="close"||ss(T,7);else T.I==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?ss(T,7):dl(T):Wt[0]!="noop"&&T.l&&T.l.qa(Wt),T.A=0)}}ci(4)}catch{}}var Pe=class{constructor(h,b){this.g=h,this.map=b}};function el(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Zi(h){return h.h?1:h.g?h.g.size:0}function Ji(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function il(h,b){h.g?h.g.add(b):h.h=b}function sl(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}el.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const T of h.g.values())b=b.concat(T.G);return b}return w(h.i)}var ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ka(h,b){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const R=h[T].indexOf("=");let X,J=null;R>=0?(X=h[T].substring(0,R),J=h[T].substring(R+1)):X=h[T],b(X,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ni(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof ni?(this.l=h.l,sn(this,h.j),this.o=h.o,this.g=h.g,Ys(this,h.u),this.h=h.h,al(this,rc(h.i)),this.m=h.m):h&&(b=String(h).match(ec))?(this.l=!1,sn(this,b[1]||"",!0),this.o=Wi(b[2]||""),this.g=Wi(b[3]||"",!0),Ys(this,b[4]),this.h=Wi(b[5]||"",!0),al(this,b[6]||"",!0),this.m=Wi(b[7]||"")):(this.l=!1,this.i=new Qs(null,this.l))}ni.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(Yr(b,La,!0),":");var T=this.g;return(T||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Yr(b,La,!0),"@"),h.push(In(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Yr(T,T.charAt(0)=="/"?ol:nc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Yr(T,ic)),h.join("")},ni.prototype.resolve=function(h){const b=Ue(this);let T=!!h.j;T?sn(b,h.j):T=!!h.o,T?b.o=h.o:T=!!h.g,T?b.g=h.g:T=h.u!=null;var R=h.h;if(T)Ys(b,h.u);else if(T=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var X=b.h.lastIndexOf("/");X!=-1&&(R=b.h.slice(0,X+1)+R)}if(X=R,X==".."||X==".")R="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){R=X.lastIndexOf("/",0)==0,X=X.split("/");const J=[];for(let ct=0;ct<X.length;){const It=X[ct++];It=="."?R&&ct==X.length&&J.push(""):It==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&ct==X.length&&J.push("")):(J.push(It),R=!0)}R=J.join("/")}else R=X}return T?b.h=R:T=h.i.toString()!=="",T?al(b,rc(h.i)):T=!!h.m,T&&(b.m=h.m),b};function Ue(h){return new ni(h)}function sn(h,b,T){h.j=T?Wi(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Ys(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function al(h,b,T){b instanceof Qs?(h.i=b,Ua(h.i,h.l)):(T||(b=Yr(b,Xs)),h.i=new Qs(b,h.l))}function ie(h,b,T){h.i.set(b,T)}function Kr(h){return ie(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Wi(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yr(h,b,T){return typeof h=="string"?(h=encodeURI(h).replace(b,Fn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var La=/[#\/\?@]/g,nc=/[#\?:]/g,ol=/[#\?]/g,Xs=/[#\?@]/g,ic=/#/g;function Qs(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Hn(h){h.g||(h.g=new Map,h.h=0,h.i&&ka(h.i,function(b,T){h.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}e=Qs.prototype,e.add=function(h,b){Hn(this),this.i=null,h=$s(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(b),this.h+=1,this};function sc(h,b){Hn(h),b=$s(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function ll(h,b){return Hn(h),b=$s(h,b),h.g.has(b)}e.forEach=function(h,b){Hn(this),this.g.forEach(function(T,R){T.forEach(function(X){h.call(b,X,R,this)},this)},this)};function ul(h,b){Hn(h);let T=[];if(typeof b=="string")ll(h,b)&&(T=T.concat(h.g.get($s(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)T=T.concat(h[b]);return T}e.set=function(h,b){return Hn(this),this.i=null,h=$s(this,h),ll(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},e.get=function(h,b){return h?(h=ul(this,h),h.length>0?String(h[0]):b):b};function Pa(h,b,T){sc(h,b),T.length>0&&(h.i=null,h.g.set($s(h,b),w(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var T=b[R];const X=In(T);T=ul(this,T);for(let J=0;J<T.length;J++){let ct=X;T[J]!==""&&(ct+="="+In(T[J])),h.push(ct)}}return this.i=h.join("&")};function rc(h){const b=new Qs;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function $s(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function Ua(h,b){b&&!h.j&&(Hn(h),h.i=null,h.g.forEach(function(T,R){const X=R.toLowerCase();R!=X&&(sc(this,R),Pa(this,X,T))},h)),h.j=b}function Mi(h,b){const T=new ke;if(c.Image){const R=new Image;R.onload=y(fi,T,"TestLoadImage: loaded",!0,b,R),R.onerror=y(fi,T,"TestLoadImage: error",!1,b,R),R.onabort=y(fi,T,"TestLoadImage: abort",!1,b,R),R.ontimeout=y(fi,T,"TestLoadImage: timeout",!1,b,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else b(!1)}function cl(h,b){const T=new ke,R=new AbortController,X=setTimeout(()=>{R.abort(),fi(T,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:R.signal}).then(J=>{clearTimeout(X),J.ok?fi(T,"TestPingServer: ok",!0,b):fi(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),fi(T,"TestPingServer: error",!1,b)})}function fi(h,b,T,R,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),R(T)}catch{}}function Zs(){this.g=new qr}function ts(h){this.i=h.Sb||null,this.h=h.ab||!1}v(ts,Zn),ts.prototype.g=function(){return new Xr(this.i,this.h)};function Xr(h,b){he.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Xr,he),e=Xr.prototype,e.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,Vi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Js(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;za(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function za(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Js(this):Vi(this),this.readyState==3&&za(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Js(this))},e.Na=function(h){this.g&&(this.response=h,Js(this))},e.ga=function(){this.g&&Js(this)};function Js(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Vi(h)}e.setRequestHeader=function(h,b){this.A.append(h,b)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=b.next();return h.join(`\r
`)};function Vi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function di(h){let b="";return yt(h,function(T,R){b+=R,b+=":",b+=T,b+=`\r
`}),b}function Qr(h,b,T){t:{for(R in T){var R=!1;break t}R=!0}R||(T=di(T),typeof h=="string"?T!=null&&In(T):ie(h,b,T))}function ae(h){he.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ae,he);var es=/^https?$/i,hl=["POST","PUT"];e=ae.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,b,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vn.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(J){$r(this,J);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var X in R)T.set(X,R[X]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())T.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),X=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(hl,b,void 0)>=0)||R||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ct]of T)this.g.setRequestHeader(J,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){$r(this,J)}};function $r(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,fl(h),Es(h)}function fl(h){h.A||(h.A=!0,ee(h,"complete"),ee(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ee(this,"complete"),ee(this,"abort"),Es(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Es(this,!0)),ae.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Zr(this):this.Xa())},e.Xa=function(){Zr(this)};function Zr(h){if(h.h&&typeof u<"u"){if(h.v&&Ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(ee(h,"readystatechange"),Ii(h)==4){h.h=!1;try{const J=h.ca();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var T;if(!(T=b)){var R;if(R=J===0){let ct=String(h.D).match(ec)[1]||null;!ct&&c.self&&c.self.location&&(ct=c.self.location.protocol.slice(0,-1)),R=!es.test(ct?ct.toLowerCase():"")}T=R}if(T)ee(h,"complete"),ee(h,"success");else{h.o=6;try{var X=Ii(h)>2?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.ca()+"]",fl(h)}}finally{Es(h)}}}}function Es(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,b||ee(h,"ready");try{T.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Ii(h){return h.g?h.g.readyState:0}e.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),zn(b)}};function un(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ss(h){const b={};h=(h.g&&Ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(M(h[R]))continue;var T=ti(h[R]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=b[X]||[];b[X]=J,J.push(T)}pt(b,function(R){return R.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(h,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||b}function Ws(h){this.za=0,this.i=[],this.j=new ke,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ns("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ns("baseRetryDelayMs",5e3,h),this.Za=ns("retryDelaySeedMs",1e4,h),this.Ta=ns("forwardChannelMaxRetries",2,h),this.va=ns("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new el(h&&h.concurrentRequestLimit),this.Ba=new Zs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ws.prototype,e.ka=8,e.I=1,e.connect=function(h,b,T,R){Ut(0),this.W=h,this.H=b||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=fc(this,null,this.W),is(this)};function dl(h){if(Ba(h),h.I==3){var b=h.V++,T=Ue(h.J);if(ie(T,"SID",h.M),ie(T,"RID",b),ie(T,"TYPE","terminate"),Jr(h,T),b=new ln(h,h.j,b),b.M=2,b.A=Kr(Ue(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=b.A,T=!0),T||(b.g=dc(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Xi(b)}hc(h)}function tr(h){h.g&&(pl(h),h.g.cancel(),h.g=null)}function Ba(h){tr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ha(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function is(h){if(!nl(h.h)&&!h.m){h.m=!0;var b=h.Ea;Y||S(),z||(Y(),z=!0),A.add(b,h),h.D=0}}function Fa(h,b){return Zi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ye(p(h.Ea,h,b),cc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const X=new ln(this,this.j,h);let J=this.o;if(this.U&&(J?(J=F(J),ut(J,this.U)):J=this.U),this.u!==null||this.R||(X.J=J,J=null),this.S)t:{for(var b=0,T=0;T<this.i.length;T++){e:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=T;break t}if(b===4096||T===this.i.length-1){b=T+1;break t}}b=1e3}else b=1e3;b=ac(this,X,b),T=Ue(this.J),ie(T,"RID",h),ie(T,"CVER",22),this.G&&ie(T,"X-HTTP-Session-Id",this.G),Jr(this,T),J&&(this.R?b="headers="+In(di(J))+"&"+b:this.u&&Qr(T,this.u,J)),il(this.h,X),this.Ra&&ie(T,"TYPE","init"),this.S?(ie(T,"$req",b),ie(T,"SID","null"),X.U=!0,Yi(X,T,null)):Yi(X,T,b),this.I=2}}else this.I==3&&(h?ml(this,h):this.i.length==0||nl(this.h)||ml(this))};function ml(h,b){var T;b?T=b.l:T=h.V++;const R=Ue(h.J);ie(R,"SID",h.M),ie(R,"RID",T),ie(R,"AID",h.K),Jr(h,R),h.u&&h.o&&Qr(R,h.u,h.o),T=new ln(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),b&&(h.i=b.G.concat(h.i)),b=ac(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),il(h.h,T),Yi(T,R,b)}function Jr(h,b){h.H&&yt(h.H,function(T,R){ie(b,R,T)}),h.l&&yt({},function(T,R){ie(b,R,T)})}function ac(h,b,T){T=Math.min(h.i.length,T);const R=h.l?p(h.l.Ka,h.l,h):null;t:{var X=h.i;let It=-1;for(;;){const Me=["count="+T];It==-1?T>0?(It=X[0].g,Me.push("ofs="+It)):It=0:Me.push("ofs="+It);let Wt=!0;for(let ve=0;ve<T;ve++){var J=X[ve].g;const mi=X[ve].map;if(J-=It,J<0)It=Math.max(0,X[ve].g-100),Wt=!1;else try{J="req"+J+"_"||"";try{var ct=mi instanceof Map?mi:Object.entries(mi);for(const[rs,Oi]of ct){let ji=Oi;d(Oi)&&(ji=$t(Oi)),Me.push(J+rs+"="+encodeURIComponent(ji))}}catch(rs){throw Me.push(J+"type="+encodeURIComponent("_badmap")),rs}}catch{R&&R(mi)}}if(Wt){ct=Me.join("&");break t}}ct=void 0}return h=h.i.splice(0,T),b.G=h,ct}function oc(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;Y||S(),z||(Y(),z=!0),A.add(b,h),h.A=0}}function Wr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ye(p(h.Da,h),cc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,lc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ye(p(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),tr(this),lc(this))};function pl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function lc(h){h.g=new ln(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Ue(h.na);ie(b,"RID","rpc"),ie(b,"SID",h.M),ie(b,"AID",h.K),ie(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&ie(b,"TO",h.ia),ie(b,"TYPE","xmlhttp"),Jr(h,b),h.u&&h.o&&Qr(b,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Kr(Ue(b)),T.u=null,T.R=!0,Oa(T,h)}e.Va=function(){this.C!=null&&(this.C=null,tr(this),Wr(this),Ut(19))};function Ha(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function uc(h,b){var T=null;if(h.g==b){Ha(h),pl(h),h.g=null;var R=2}else if(Ji(h.h,b))T=b.G,sl(h.h,b),R=1;else return;if(h.I!=0){if(b.o)if(R==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var X=h.D;R=xs(),ee(R,new ge(R,T)),is(h)}else oc(h);else if(X=b.m,X==3||X==0&&b.X>0||!(R==1&&Fa(h,b)||R==2&&Wr(h)))switch(T&&T.length>0&&(b=h.h,b.i=b.i.concat(T)),X){case 1:ss(h,5);break;case 4:ss(h,10);break;case 3:ss(h,6);break;default:ss(h,2)}}}function cc(h,b){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*b}function ss(h,b){if(h.j.info("Error code "+b),b==2){var T=p(h.bb,h),R=h.Ua;const X=!R;R=new ni(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||sn(R,"https"),Kr(R),X?Mi(R.toString(),T):cl(R.toString(),T)}else Ut(2);h.I=0,h.l&&h.l.pa(b),hc(h),Ba(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function hc(h){if(h.I=0,h.ja=[],h.l){const b=rl(h.h);(b.length!=0||h.i.length!=0)&&(j(h.ja,b),j(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function fc(h,b,T){var R=T instanceof ni?Ue(T):new ni(T);if(R.g!="")b&&(R.g=b+"."+R.g),Ys(R,R.u);else{var X=c.location;R=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;const J=new ni(null);R&&sn(J,R),b&&(J.g=b),X&&Ys(J,X),T&&(J.h=T),R=J}return T=h.G,b=h.wa,T&&b&&ie(R,T,b),ie(R,"VER",h.ka),Jr(h,R),R}function dc(h,b,T){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new ae(new ts({ab:T})):new ae(h.ma),b.Fa(h.L),b}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}e=mc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function er(){}er.prototype.g=function(h,b){return new jn(h,b)};function jn(h,b){he.call(this),this.g=new Ws(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!M(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!M(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new As(this)}v(jn,he),jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){dl(this.g)},jn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=$t(h),h=T);b.i.push(new Pe(b.Ya++,h)),b.I==3&&is(b)},jn.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,jn.Z.N.call(this)};function pc(h){Xe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){t:{for(const T in b){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}v(pc,Xe);function gc(){bn.call(this),this.status=1}v(gc,bn);function As(h){this.g=h}v(As,mc),As.prototype.ra=function(){ee(this.g,"a")},As.prototype.qa=function(h){ee(this.g,new pc(h))},As.prototype.pa=function(h){ee(this.g,new gc)},As.prototype.oa=function(){ee(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,TT=function(){return new er},xT=function(){return xs()},_T=pe,wp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xn.NO_ERROR=0,xn.TIMEOUT=8,xn.HTTP_ERROR=6,Nh=xn,Tn.COMPLETE="complete",bT=Tn,Gr.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",he.prototype.listen=he.prototype.J,eu=Gr,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,vT=ae}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const D1="@firebase/firestore",N1="4.9.3";let An=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");let Go="12.7.0";const wa=new hT("@firebase/firestore");function xo(){return wa.logLevel}function dt(e,...t){if(wa.logLevel<=Qt.DEBUG){const i=t.map(xg);wa.debug(`Firestore (${Go}): ${e}`,...i)}}function Hs(e,...t){if(wa.logLevel<=Qt.ERROR){const i=t.map(xg);wa.error(`Firestore (${Go}): ${e}`,...i)}}function ko(e,...t){if(wa.logLevel<=Qt.WARN){const i=t.map(xg);wa.warn(`Firestore (${Go}): ${e}`,...i)}}function xg(e){if(typeof e=="string")return e;try{return(function(i){return JSON.stringify(i)})(e)}catch{return e}}function wt(e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,ET(e,r,i)}function ET(e,t,i){let r=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Hs(r),new Error(r)}function ne(e,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,e||ET(t,o,r)}function Mt(e,t){return e}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends qo{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class ST{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(An.UNAUTHENTICATED)))}shutdown(){}}class kR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class LR{constructor(t){this.t=t,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ne(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,i(m)):Promise.resolve();let u=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Mr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=u;t.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Mr)}}),0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ne(typeof r.accessToken=="string",31837,{l:r}),new ST(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ne(t===null||typeof t=="string",2055,{h:t}),new An(t)}}class PR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new PR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ne(this.o===void 0,3512);const r=u=>{u.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ne(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BR(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<e;r++)i[r]=Math.floor(256*Math.random());return i}class Tg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=BR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function qt(e,t){return e<t?-1:e>t?1:0}function Cp(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.charAt(r),u=t.charAt(r);if(o!==u)return Xm(o)===Xm(u)?qt(o,u):Xm(o)?1:-1}return qt(e.length,t.length)}const FR=55296,HR=57343;function Xm(e){const t=e.charCodeAt(0);return t>=FR&&t<=HR}function Lo(e,t,i){return e.length===t.length&&e.every(((r,o)=>i(r,t[o])))}const V1="__name__";class cs{constructor(t,i,r){i===void 0?i=0:i>t.length&&wt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&wt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return cs.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof cs?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=cs.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return qt(t.length,i.length)}static compareSegments(t,i){const r=cs.isNumericId(t),o=cs.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?cs.extractNumericId(t).compare(cs.extractNumericId(i)):Cp(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Nr.fromString(t.substring(4,t.length-2))}}class Ee extends cs{construct(t,i,r){return new Ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new bt(ot.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Ee(i)}static emptyPath(){return new Ee([])}}const qR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends cs{construct(t,i,r){return new gn(t,i,r)}static isValidIdentifier(t){return qR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V1}static keyField(){return new gn([V1])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new bt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new bt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new bt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(u(),o++)}if(u(),c)throw new bt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gn(i)}static emptyPath(){return new gn([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(Ee.fromString(t))}static fromName(t){return new Et(Ee.fromString(t).popFirst(5))}static empty(){return new Et(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new Ee(t.slice()))}}function GR(e,t,i){if(!i)throw new bt(ot.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function KR(e,t,i,r){if(t===!0&&r===!0)throw new bt(ot.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function I1(e){if(!Et.isDocumentKey(e))throw new bt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function AT(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Eg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":wt(12329,{type:typeof e})}function Vr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new bt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Eg(e);throw new bt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}function Ke(e,t){const i={typeString:e};return t&&(i.value=t),i}function zu(e,t){if(!AT(e))throw new bt(ot.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){i=`JSON missing required field: '${r}'`;break}const c=e[r];if(o&&typeof c!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new bt(ot.INVALID_ARGUMENT,i);return!0}const O1=-62135596800,j1=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*j1);return new me(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new bt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new bt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<O1)throw new bt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j1}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zu(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-O1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Ke("string",me._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new me(0,0))}static max(){return new Dt(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eu=-1;function YR(e,t){const i=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=Dt.fromTimestamp(r===1e9?new me(i+1,0):new me(i,r));return new Ir(o,Et.empty(),t)}function XR(e){return new Ir(e.readTime,e.key,Eu)}class Ir{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ir(Dt.min(),Et.empty(),Eu)}static max(){return new Ir(Dt.max(),Et.empty(),Eu)}}function QR(e,t){let i=e.readTime.compareTo(t.readTime);return i!==0?i:(i=Et.comparator(e.documentKey,t.documentKey),i!==0?i:qt(e.largestBatchId,t.largestBatchId))}const $R="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ko(e){if(e.code!==ot.FAILED_PRECONDITION||e.message!==$R)throw e;dt("LocalStore","Unexpectedly lost primary lease")}class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new at(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):at.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):at.reject(i)}static resolve(t){return new at(((i,r)=>{i(t)}))}static reject(t){return new at(((i,r)=>{r(t)}))}static waitFor(t){return new at(((i,r)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&i()}),(m=>r(m)))})),c=!0,u===o&&i()}))}static or(t){let i=at.resolve(!1);for(const r of t)i=i.next((o=>o?at.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new at(((r,o)=>{const u=t.length,c=new Array(u);let d=0;for(let m=0;m<u;m++){const p=m;i(t[p]).next((y=>{c[p]=y,++d,d===u&&r(c)}),(y=>o(y)))}}))}static doWhile(t,i){return new at(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function JR(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Yo(e){return e.name==="IndexedDbTransactionError"}class bf{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}bf.ce=-1;const Sg=-1;function _f(e){return e==null}function Kh(e){return e===0&&1/e==-1/0}function WR(e){return typeof e=="number"&&Number.isInteger(e)&&!Kh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const wT="";function tD(e){let t="";for(let i=0;i<e.length;i++)t.length>0&&(t=k1(t)),t=eD(e.get(i),t);return k1(t)}function eD(e,t){let i=t;const r=e.length;for(let o=0;o<r;o++){const u=e.charAt(o);switch(u){case"\0":i+="";break;case wT:i+="";break;default:i+=u}}return i}function k1(e){return e+wT+""}function L1(e){let t=0;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function Ra(e,t){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function CT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ae{constructor(t,i){this.comparator=t,this.root=i||pn.EMPTY}insert(t,i){return new Ae(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(t){return new Ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xh(this.root,t,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xh(this.root,t,this.comparator,!0)}}class xh{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pn{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??pn.RED,this.left=o??pn.EMPTY,this.right=u??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new pn(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return pn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new pn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tn{constructor(t){this.comparator=t,this.data=new Ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new P1(this.data.getIterator())}getIteratorFrom(t){return new P1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof tn)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new tn(this.comparator);return i.data=t,i}}class P1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bi{constructor(t){this.fields=t,t.sort(gn.comparator)}static empty(){return new Bi([])}unionWith(t){let i=new tn(gn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Bi(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Lo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class RT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new RT("Invalid base64 string: "+u):u}})(t);return new yn(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new yn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const nD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(e){if(ne(!!e,39018),typeof e=="string"){let t=0;const i=nD.exec(e);if(ne(!!i,46558,{timestamp:e}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Oe(e.seconds),nanos:Oe(e.nanos)}}function Oe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function jr(e){return typeof e=="string"?yn.fromBase64String(e):yn.fromUint8Array(e)}const DT="server_timestamp",NT="__type__",MT="__previous_value__",VT="__local_write_time__";function Ag(e){return(e?.mapValue?.fields||{})[NT]?.stringValue===DT}function xf(e){const t=e.mapValue.fields[MT];return Ag(t)?xf(t):t}function Su(e){const t=Or(e.mapValue.fields[VT].timestampValue);return new me(t.seconds,t.nanos)}class iD{constructor(t,i,r,o,u,c,d,m,p,y){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Yh="(default)";class Au{constructor(t,i){this.projectId=t,this.database=i||Yh}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(t){return t instanceof Au&&t.projectId===this.projectId&&t.database===this.database}}const IT="__type__",sD="__max__",Th={mapValue:{}},OT="__vector__",Xh="value";function kr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ag(e)?4:aD(e)?9007199254740991:rD(e)?10:11:wt(28295,{value:e})}function ys(e,t){if(e===t)return!0;const i=kr(e);if(i!==kr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Su(e).isEqual(Su(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Or(o.timestampValue),d=Or(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,u){return jr(o.bytesValue).isEqual(jr(u.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,u){return Oe(o.geoPointValue.latitude)===Oe(u.geoPointValue.latitude)&&Oe(o.geoPointValue.longitude)===Oe(u.geoPointValue.longitude)})(e,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Oe(o.integerValue)===Oe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Oe(o.doubleValue),d=Oe(u.doubleValue);return c===d?Kh(c)===Kh(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Lo(e.arrayValue.values||[],t.arrayValue.values||[],ys);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(L1(c)!==L1(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ys(c[m],d[m])))return!1;return!0})(e,t);default:return wt(52216,{left:e})}}function wu(e,t){return(e.values||[]).find((i=>ys(i,t)))!==void 0}function Po(e,t){if(e===t)return 0;const i=kr(e),r=kr(t);if(i!==r)return qt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qt(e.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=Oe(u.integerValue||u.doubleValue),m=Oe(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return U1(e.timestampValue,t.timestampValue);case 4:return U1(Su(e),Su(t));case 5:return Cp(e.stringValue,t.stringValue);case 6:return(function(u,c){const d=jr(u),m=jr(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=qt(d[p],m[p]);if(y!==0)return y}return qt(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=qt(Oe(u.latitude),Oe(c.latitude));return d!==0?d:qt(Oe(u.longitude),Oe(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return z1(e.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},m=c.fields||{},p=d[Xh]?.arrayValue,y=m[Xh]?.arrayValue,v=qt(p?.values?.length||0,y?.values?.length||0);return v!==0?v:z1(p,y)})(e.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Th.mapValue&&c===Th.mapValue)return 0;if(u===Th.mapValue)return 1;if(c===Th.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const x=Cp(m[v],y[v]);if(x!==0)return x;const w=Po(d[m[v]],p[y[v]]);if(w!==0)return w}return qt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw wt(23264,{he:i})}}function U1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return qt(e,t);const i=Or(e),r=Or(t),o=qt(i.seconds,r.seconds);return o!==0?o:qt(i.nanos,r.nanos)}function z1(e,t){const i=e.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Po(i[o],r[o]);if(u)return u}return qt(i.length,r.length)}function Uo(e){return Rp(e)}function Rp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(i){const r=Or(i);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(i){return jr(i).toBase64()})(e.bytesValue):"referenceValue"in e?(function(i){return Et.fromName(i).toString()})(e.referenceValue):"geoPointValue"in e?(function(i){return`geo(${i.latitude},${i.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Rp(u);return r+"]"})(e.arrayValue):"mapValue"in e?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Rp(i.fields[c])}`;return o+"}"})(e.mapValue):wt(61005,{value:e})}function Mh(e){switch(kr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xf(e);return t?16+Mh(t):16;case 5:return 2*e.stringValue.length;case 6:return jr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Mh(u)),0)})(e.arrayValue);case 10:case 11:return(function(r){let o=0;return Ra(r.fields,((u,c)=>{o+=u.length+Mh(c)})),o})(e.mapValue);default:throw wt(13486,{value:e})}}function Dp(e){return!!e&&"integerValue"in e}function wg(e){return!!e&&"arrayValue"in e}function B1(e){return!!e&&"nullValue"in e}function F1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vh(e){return!!e&&"mapValue"in e}function rD(e){return(e?.mapValue?.fields||{})[IT]?.stringValue===OT}function uu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ra(e.mapValue.fields,((i,r)=>t.mapValue.fields[i]=uu(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=uu(e.arrayValue.values[i]);return t}return{...e}}function aD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===sD}class wi{constructor(t){this.value=t}static empty(){return new wi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Vh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=uu(i)}setAll(t){let i=gn.emptyPath(),r={},o=[];t.forEach(((c,d)=>{if(!i.isImmediateParentOf(d)){const m=this.getFieldsMap(i);this.applyChanges(m,r,o),r={},o=[],i=d.popLast()}c?r[d.lastSegment()]=uu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Vh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ys(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Ra(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new wi(uu(this.value))}}function jT(e){const t=[];return Ra(e.fields,((i,r)=>{const o=new gn([i]);if(Vh(r)){const u=jT(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Bi(t)}class wn{constructor(t,i,r,o,u,c,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new wn(t,0,Dt.min(),Dt.min(),Dt.min(),wi.empty(),0)}static newFoundDocument(t,i,r,o){return new wn(t,1,i,Dt.min(),r,o,0)}static newNoDocument(t,i){return new wn(t,2,i,Dt.min(),Dt.min(),wi.empty(),0)}static newUnknownDocument(t,i){return new wn(t,3,i,Dt.min(),Dt.min(),wi.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof wn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qh{constructor(t,i){this.position=t,this.inclusive=i}}function H1(e,t,i){let r=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?r=Et.comparator(Et.fromName(c.referenceValue),i.key):r=Po(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function q1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!ys(e.position[i],t.position[i]))return!1;return!0}class $h{constructor(t,i="asc"){this.field=t,this.dir=i}}function oD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class kT{}class Je extends kT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new uD(t,i,r):i==="array-contains"?new fD(t,r):i==="in"?new dD(t,r):i==="not-in"?new mD(t,r):i==="array-contains-any"?new pD(t,r):new Je(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new cD(t,r):new hD(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Po(i,this.value)):i!==null&&kr(this.value)===kr(i)&&this.matchesComparison(Po(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vs extends kT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new vs(t,i)}matches(t){return LT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LT(e){return e.op==="and"}function PT(e){return lD(e)&&LT(e)}function lD(e){for(const t of e.filters)if(t instanceof vs)return!1;return!0}function Np(e){if(e instanceof Je)return e.field.canonicalString()+e.op.toString()+Uo(e.value);if(PT(e))return e.filters.map((t=>Np(t))).join(",");{const t=e.filters.map((i=>Np(i))).join(",");return`${e.op}(${t})`}}function UT(e,t){return e instanceof Je?(function(r,o){return o instanceof Je&&r.op===o.op&&r.field.isEqual(o.field)&&ys(r.value,o.value)})(e,t):e instanceof vs?(function(r,o){return o instanceof vs&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,d)=>u&&UT(c,o.filters[d])),!0):!1})(e,t):void wt(19439)}function zT(e){return e instanceof Je?(function(i){return`${i.field.canonicalString()} ${i.op} ${Uo(i.value)}`})(e):e instanceof vs?(function(i){return i.op.toString()+" {"+i.getFilters().map(zT).join(" ,")+"}"})(e):"Filter"}class uD extends Je{constructor(t,i,r){super(t,i,r),this.key=Et.fromName(r.referenceValue)}matches(t){const i=Et.comparator(t.key,this.key);return this.matchesComparison(i)}}class cD extends Je{constructor(t,i){super(t,"in",i),this.keys=BT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class hD extends Je{constructor(t,i){super(t,"not-in",i),this.keys=BT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function BT(e,t){return(t.arrayValue?.values||[]).map((i=>Et.fromName(i.referenceValue)))}class fD extends Je{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return wg(i)&&wu(i.arrayValue,this.value)}}class dD extends Je{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&wu(this.value.arrayValue,i)}}class mD extends Je{constructor(t,i){super(t,"not-in",i)}matches(t){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!wu(this.value.arrayValue,i)}}class pD extends Je{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!wg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>wu(this.value.arrayValue,r)))}}class gD{constructor(t,i=null,r=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function G1(e,t=null,i=[],r=[],o=null,u=null,c=null){return new gD(e,t,i,r,o,u,c)}function Cg(e){const t=Mt(e);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Np(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),_f(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Uo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Uo(r))).join(",")),t.Te=i}return t.Te}function Rg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!oD(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!UT(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!q1(e.startAt,t.startAt)&&q1(e.endAt,t.endAt)}function Mp(e){return Et.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Tf{constructor(t,i=null,r=[],o=[],u=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yD(e,t,i,r,o,u,c,d){return new Tf(e,t,i,r,o,u,c,d)}function Ef(e){return new Tf(e)}function K1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function vD(e){return e.collectionGroup!==null}function cu(e){const t=Mt(e);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new tn(gn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new $h(u,r))})),i.has(gn.keyField().canonicalString())||t.Ie.push(new $h(gn.keyField(),r))}return t.Ie}function hs(e){const t=Mt(e);return t.Ee||(t.Ee=bD(t,cu(e))),t.Ee}function bD(e,t){if(e.limitType==="F")return G1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new $h(o.field,u)}));const i=e.endAt?new Qh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qh(e.startAt.position,e.startAt.inclusive):null;return G1(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}}function Vp(e,t,i){return new Tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function Sf(e,t){return Rg(hs(e),hs(t))&&e.limitType===t.limitType}function FT(e){return`${Cg(hs(e))}|lt:${e.limitType}`}function To(e){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>zT(o))).join(", ")}]`),_f(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Uo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Uo(o))).join(",")),`Target(${r})`})(hs(e))}; limitType=${e.limitType})`}function Af(e,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Et.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(e,t)&&(function(r,o){for(const u of cu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(e,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(e,t)&&(function(r,o){return!(r.startAt&&!(function(c,d,m){const p=H1(c,d,m);return c.inclusive?p<=0:p<0})(r.startAt,cu(r),o)||r.endAt&&!(function(c,d,m){const p=H1(c,d,m);return c.inclusive?p>=0:p>0})(r.endAt,cu(r),o))})(e,t)}function _D(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function HT(e){return(t,i)=>{let r=!1;for(const o of cu(e)){const u=xD(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function xD(e,t,i){const r=e.field.isKeyField()?Et.comparator(t.key,i.key):(function(u,c,d){const m=c.data.field(u),p=d.data.field(u);return m!==null&&p!==null?Po(m,p):wt(42886)})(e.field,t,i);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wt(19790,{direction:e.dir})}}class Da{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ra(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}const TD=new Ae(Et.comparator);function qs(){return TD}const qT=new Ae(Et.comparator);function nu(...e){let t=qT;for(const i of e)t=t.insert(i.key,i);return t}function GT(e){let t=qT;return e.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function _a(){return hu()}function KT(){return hu()}function hu(){return new Da((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ED=new Ae(Et.comparator),SD=new tn(Et.comparator);function Gt(...e){let t=SD;for(const i of e)t=t.add(i);return t}const AD=new tn(qt);function wD(){return AD}function Dg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(t)?"-0":t}}function YT(e){return{integerValue:""+e}}function CD(e,t){return WR(t)?YT(t):Dg(e,t)}class wf{constructor(){this._=void 0}}function RD(e,t,i){return e instanceof Zh?(function(o,u){const c={fields:{[NT]:{stringValue:DT},[VT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ag(u)&&(u=xf(u)),u&&(c.fields[MT]=u),{mapValue:c}})(i,t):e instanceof Cu?QT(e,t):e instanceof Ru?$T(e,t):(function(o,u){const c=XT(o,u),d=Y1(c)+Y1(o.Ae);return Dp(c)&&Dp(o.Ae)?YT(d):Dg(o.serializer,d)})(e,t)}function DD(e,t,i){return e instanceof Cu?QT(e,t):e instanceof Ru?$T(e,t):i}function XT(e,t){return e instanceof Jh?(function(r){return Dp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Zh extends wf{}class Cu extends wf{constructor(t){super(),this.elements=t}}function QT(e,t){const i=ZT(t);for(const r of e.elements)i.some((o=>ys(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Ru extends wf{constructor(t){super(),this.elements=t}}function $T(e,t){let i=ZT(t);for(const r of e.elements)i=i.filter((o=>!ys(o,r)));return{arrayValue:{values:i}}}class Jh extends wf{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Y1(e){return Oe(e.integerValue||e.doubleValue)}function ZT(e){return wg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function ND(e,t){return e.field.isEqual(t.field)&&(function(r,o){return r instanceof Cu&&o instanceof Cu||r instanceof Ru&&o instanceof Ru?Lo(r.elements,o.elements,ys):r instanceof Jh&&o instanceof Jh?ys(r.Ae,o.Ae):r instanceof Zh&&o instanceof Zh})(e.transform,t.transform)}class MD{constructor(t,i){this.version=t,this.transformResults=i}}class Bs{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Bs}static exists(t){return new Bs(void 0,t)}static updateTime(t){return new Bs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ih(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Cf{}function JT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new tE(e.key,Bs.none()):new Bu(e.key,e.data,Bs.none());{const i=e.data,r=wi.empty();let o=new tn(gn.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Na(e.key,r,new Bi(o.toArray()),Bs.none())}}function VD(e,t,i){e instanceof Bu?(function(o,u,c){const d=o.value.clone(),m=Q1(o.fieldTransforms,u,c.transformResults);d.setAll(m),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,i):e instanceof Na?(function(o,u,c){if(!Ih(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=Q1(o.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(WT(o)),m.setAll(d),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,i):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,i)}function fu(e,t,i,r){return e instanceof Bu?(function(u,c,d,m){if(!Ih(u.precondition,c))return d;const p=u.value.clone(),y=$1(u.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,i,r):e instanceof Na?(function(u,c,d,m){if(!Ih(u.precondition,c))return d;const p=$1(u.fieldTransforms,m,c),y=c.data;return y.setAll(WT(u)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((v=>v.field)))})(e,t,i,r):(function(u,c,d){return Ih(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,i)}function ID(e,t){let i=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),u=XT(r.transform,o||null);u!=null&&(i===null&&(i=wi.empty()),i.set(r.field,u))}return i||null}function X1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Lo(r,o,((u,c)=>ND(u,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bu extends Cf{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Na extends Cf{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function WT(e){const t=new Map;return e.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=e.data.field(i);t.set(i,r)}})),t}function Q1(e,t,i){const r=new Map;ne(e.length===i.length,32656,{Re:i.length,Ve:e.length});for(let o=0;o<i.length;o++){const u=e[o],c=u.transform,d=t.data.field(u.field);r.set(u.field,DD(c,d,i[o]))}return r}function $1(e,t,i){const r=new Map;for(const o of e){const u=o.transform,c=i.data.field(o.field);r.set(o.field,RD(u,c,t))}return r}class tE extends Cf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OD extends Cf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jD{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&VD(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=fu(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=fu(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=KT();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=i.has(o.key)?null:d;const m=JT(c,d);m!==null&&r.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Dt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Gt())}isEqual(t){return this.batchId===t.batchId&&Lo(this.mutations,t.mutations,((i,r)=>X1(i,r)))&&Lo(this.baseMutations,t.baseMutations,((i,r)=>X1(i,r)))}}class Ng{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){ne(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return ED})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Ng(t,i,r,o)}}class kD{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class LD{constructor(t,i){this.count=t,this.unchangedNames=i}}var qe,Xt;function PD(e){switch(e){case ot.OK:return wt(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return wt(15467,{code:e})}}function eE(e){if(e===void 0)return Hs("GRPC error has no .code"),ot.UNKNOWN;switch(e){case qe.OK:return ot.OK;case qe.CANCELLED:return ot.CANCELLED;case qe.UNKNOWN:return ot.UNKNOWN;case qe.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case qe.INTERNAL:return ot.INTERNAL;case qe.UNAVAILABLE:return ot.UNAVAILABLE;case qe.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case qe.NOT_FOUND:return ot.NOT_FOUND;case qe.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case qe.ABORTED:return ot.ABORTED;case qe.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case qe.DATA_LOSS:return ot.DATA_LOSS;default:return wt(39323,{code:e})}}(Xt=qe||(qe={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";function UD(){return new TextEncoder}const zD=new Nr([4294967295,4294967295],0);function Z1(e){const t=UD().encode(e),i=new yT;return i.update(t),new Uint8Array(i.digest())}function J1(e){const t=new DataView(e.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Nr([i,r],0),new Nr([o,u],0)]}class Mg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new iu(`Invalid padding: ${i}`);if(r<0)throw new iu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new iu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Nr.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Nr.fromNumber(r)));return o.compare(zD)===1&&(o=new Nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Z1(t),[r,o]=J1(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Mg(u,o,i);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const i=Z1(t),[r,o]=J1(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rf{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Fu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Rf(Dt.min(),o,new Ae(qt),qs(),Gt())}}class Fu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Fu(r,i,Gt(),Gt(),Gt())}}class Oh{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class nE{constructor(t,i){this.targetId=t,this.Ce=i}}class iE{constructor(t,i,r=yn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class W1{constructor(){this.ve=0,this.Fe=t_(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Gt(),i=Gt(),r=Gt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:wt(38017,{changeType:u})}})),new Fu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=t_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ne(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BD{constructor(t){this.Ge=t,this.ze=new Map,this.je=qs(),this.Je=Eh(),this.He=Eh(),this.Ye=new Ae(qt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:wt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Mp(u))if(r===0){const c=new Et(u.path);this.et(i,c,wn.newNoDocument(c,Dt.min()))}else ne(r===1,20013,{expectedCount:r});else{const c=this._t(i);if(c!==r){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(i);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let c,d;try{c=jr(r).toUint8Array()}catch(m){if(m instanceof RT)return ko("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Mg(c,o,u)}catch(m){return ko(m instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Mp(d.target)){const m=new Et(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,wn.newNoDocument(m,t))}u.Be&&(i.set(c,u.ke()),u.qe())}}));let r=Gt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Rf(t,i,this.Ye,this.je,r);return this.je=qs(),this.Je=Eh(),this.He=Eh(),this.Ye=new Ae(qt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new W1,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new tn(qt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new tn(qt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||dt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new W1),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Eh(){return new Ae(Et.comparator)}function t_(){return new Ae(Et.comparator)}const FD={asc:"ASCENDING",desc:"DESCENDING"},HD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qD={and:"AND",or:"OR"};class GD{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Ip(e,t){return e.useProto3Json||_f(t)?t:{value:t}}function Wh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function KD(e,t){return Wh(e,t.toTimestamp())}function fs(e){return ne(!!e,49232),Dt.fromTimestamp((function(i){const r=Or(i);return new me(r.seconds,r.nanos)})(e))}function Vg(e,t){return Op(e,t).canonicalString()}function Op(e,t){const i=(function(o){return new Ee(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?i:i.child(t)}function rE(e){const t=Ee.fromString(e);return ne(cE(t),10190,{key:t.toString()}),t}function jp(e,t){return Vg(e.databaseId,t.path)}function Qm(e,t){const i=rE(t);if(i.get(1)!==e.databaseId.projectId)throw new bt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new bt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new Et(oE(i))}function aE(e,t){return Vg(e.databaseId,t)}function YD(e){const t=rE(e);return t.length===4?Ee.emptyPath():oE(t)}function kp(e){return new Ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oE(e){return ne(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function e_(e,t,i){return{name:jp(e,t),fields:i.value.mapValue.fields}}function XD(e,t){let i;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:wt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(p,y){return p.useProto3Json?(ne(y===void 0||typeof y=="string",58123),yn.fromBase64String(y||"")):(ne(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),yn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?ot.UNKNOWN:eE(p.code);return new bt(y,p.message||"")})(c);i=new iE(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Qm(e,r.document.name),u=fs(r.document.updateTime),c=r.document.createTime?fs(r.document.createTime):Dt.min(),d=new wi({mapValue:{fields:r.document.fields}}),m=wn.newFoundDocument(o,u,c,d),p=r.targetIds||[],y=r.removedTargetIds||[];i=new Oh(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Qm(e,r.document),u=r.readTime?fs(r.readTime):Dt.min(),c=wn.newNoDocument(o,u),d=r.removedTargetIds||[];i=new Oh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Qm(e,r.document),u=r.removedTargetIds||[];i=new Oh([],u,o,null)}else{if(!("filter"in t))return wt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new LD(o,u),d=r.targetId;i=new nE(d,c)}}return i}function QD(e,t){let i;if(t instanceof Bu)i={update:e_(e,t.key,t.value)};else if(t instanceof tE)i={delete:jp(e,t.key)};else if(t instanceof Na)i={update:e_(e,t.key,t.data),updateMask:sN(t.fieldMask)};else{if(!(t instanceof OD))return wt(16599,{Vt:t.type});i={verify:jp(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const d=c.transform;if(d instanceof Zh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Cu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Jh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw wt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:KD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt(27497)})(e,t.precondition)),i}function $D(e,t){return e&&e.length>0?(ne(t!==void 0,14353),e.map((i=>(function(o,u){let c=o.updateTime?fs(o.updateTime):fs(u);return c.isEqual(Dt.min())&&(c=fs(u)),new MD(c,o.transformResults||[])})(i,t)))):[]}function ZD(e,t){return{documents:[aE(e,t.path)]}}function JD(e,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=aE(e,o);const u=(function(p){if(p.length!==0)return uE(vs.create(p,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const c=(function(p){if(p.length!==0)return p.map((y=>(function(x){return{field:Eo(x.field),direction:eN(x.dir)}})(y)))})(t.orderBy);c&&(i.structuredQuery.orderBy=c);const d=Ip(e,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:i,parent:o}}function WD(e){let t=YD(e.parent);const i=e.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ne(r===1,65062);const y=i.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];i.where&&(u=(function(v){const x=lE(v);return x instanceof vs&&PT(x)?x.getFilters():[x]})(i.where));let c=[];i.orderBy&&(c=(function(v){return v.map((x=>(function(j){return new $h(So(j.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(x)))})(i.orderBy));let d=null;i.limit&&(d=(function(v){let x;return x=typeof v=="object"?v.value:v,_f(x)?null:x})(i.limit));let m=null;i.startAt&&(m=(function(v){const x=!!v.before,w=v.values||[];return new Qh(w,x)})(i.startAt));let p=null;return i.endAt&&(p=(function(v){const x=!v.before,w=v.values||[];return new Qh(w,x)})(i.endAt)),yD(t,o,c,u,d,"F",m,p)}function tN(e,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function lE(e){return e.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=So(i.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=So(i.unaryFilter.field);return Je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=So(i.unaryFilter.field);return Je.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(i.unaryFilter.field);return Je.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(e):e.fieldFilter!==void 0?(function(i){return Je.create(So(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(i){return vs.create(i.compositeFilter.filters.map((r=>lE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(i.compositeFilter.op))})(e):wt(30097,{filter:e})}function eN(e){return FD[e]}function nN(e){return HD[e]}function iN(e){return qD[e]}function Eo(e){return{fieldPath:e.canonicalString()}}function So(e){return gn.fromServerFormat(e.fieldPath)}function uE(e){return e instanceof Je?(function(i){if(i.op==="=="){if(F1(i.value))return{unaryFilter:{field:Eo(i.field),op:"IS_NAN"}};if(B1(i.value))return{unaryFilter:{field:Eo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(F1(i.value))return{unaryFilter:{field:Eo(i.field),op:"IS_NOT_NAN"}};if(B1(i.value))return{unaryFilter:{field:Eo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(i.field),op:nN(i.op),value:i.value}}})(e):e instanceof vs?(function(i){const r=i.getFilters().map((o=>uE(o)));return r.length===1?r[0]:{compositeFilter:{op:iN(i.op),filters:r}}})(e):wt(54877,{filter:e})}function sN(e){const t=[];return e.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function cE(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class wr{constructor(t,i,r,o,u=Dt.min(),c=Dt.min(),d=yn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class rN{constructor(t){this.yt=t}}function aN(e){const t=WD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Vp(t,t.limit,"L"):t}class oN{constructor(){this.Cn=new lN}addToCollectionParentIndex(t,i){return this.Cn.add(i),at.resolve()}getCollectionParents(t,i){return at.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return at.resolve()}deleteFieldIndex(t,i){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,i){return at.resolve()}getDocumentsMatchingTarget(t,i){return at.resolve(null)}getIndexType(t,i){return at.resolve(0)}getFieldIndexes(t,i){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,i){return at.resolve(Ir.min())}getMinOffsetFromCollectionGroup(t,i){return at.resolve(Ir.min())}updateCollectionGroup(t,i,r){return at.resolve()}updateIndexEntries(t,i){return at.resolve()}}class lN{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new tn(Ee.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new tn(Ee.comparator)).toArray()}}const n_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hE=41943040;class Qn{static withCacheSize(t){return new Qn(t,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(hE,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);class zo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new zo(0)}static cr(){return new zo(-1)}}const i_="LruGarbageCollector",uN=1048576;function s_([e,t],[i,r]){const o=qt(e,i);return o===0?qt(t,r):o}class cN{constructor(t){this.Ir=t,this.buffer=new tn(s_),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();s_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hN{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(i_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Yo(i)?dt(i_,"Ignoring IndexedDB error during garbage collection: ",i):await Ko(i)}await this.Vr(3e5)}))}}class fN{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return at.resolve(bf.ce);const r=new cN(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(n_)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,c,d,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,c=Date.now(),this.nthSequenceNumber(t,o)))).next((v=>(r=v,d=Date.now(),this.removeTargets(t,r,i)))).next((v=>(u=v,m=Date.now(),this.removeOrphanedDocuments(t,r)))).next((v=>(p=Date.now(),xo()<=Qt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v}))))}}function dN(e,t){return new fN(e,t)}class mN{constructor(){this.changes=new Da((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,wn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?at.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class pN{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class gN{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&fu(r.mutation,o,Bi.empty(),me.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Gt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Gt()){const o=_a();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let c=nu();return u.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,i){const r=_a();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Gt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{i.set(c,d)}))}))}computeViews(t,i,r,o){let u=qs();const c=hu(),d=(function(){return hu()})();return i.forEach(((m,p)=>{const y=r.get(p.key);o.has(p.key)&&(y===void 0||y.mutation instanceof Na)?u=u.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),fu(y.mutation,p,y.mutation.getFieldMask(),me.now())):c.set(p.key,Bi.empty())})),this.recalculateAndSaveOverlays(t,u).next((m=>(m.forEach(((p,y)=>c.set(p,y))),i.forEach(((p,y)=>d.set(p,new pN(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,i){const r=hu();let o=new Ae(((c,d)=>c-d)),u=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=i.get(m);if(p===null)return;let y=r.get(m)||Bi.empty();y=d.applyToLocalView(p,y),r.set(m,y);const v=(o.get(d.batchId)||Gt()).add(m);o=o.insert(d.batchId,v)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,v=KT();y.forEach((x=>{if(!u.has(x)){const w=JT(i.get(x),r.get(x));w!==null&&v.set(x,w),u=u.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,v))}return at.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(c){return Et.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):vD(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):at.resolve(_a());let d=Eu,m=u;return c.next((p=>at.forEach(p,((y,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),u.get(y)?at.resolve():this.remoteDocumentCache.getEntry(t,y).next((x=>{m=m.insert(y,x)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,m,p,Gt()))).next((y=>({batchId:d,changes:GT(y)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Et(i)).next((r=>{let o=nu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=nu();return this.indexManager.getCollectionParents(t,u).next((d=>at.forEach(d,(m=>{const p=(function(v,x){return new Tf(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(i,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,r,o).next((y=>{y.forEach(((v,x)=>{c=c.insert(v,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((c=>{u.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,wn.newInvalidDocument(y)))}));let d=nu();return c.forEach(((m,p)=>{const y=u.get(m);y!==void 0&&fu(y.mutation,p,Bi.empty(),me.now()),Af(i,p)&&(d=d.insert(m,p))})),d}))}}class yN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return at.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:fs(o.createTime)}})(i)),at.resolve()}getNamedQuery(t,i){return at.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:aN(o.bundledQuery),readTime:fs(o.readTime)}})(i)),at.resolve()}}class vN{constructor(){this.overlays=new Ae(Et.comparator),this.qr=new Map}getOverlay(t,i){return at.resolve(this.overlays.get(i))}getOverlays(t,i){const r=_a();return at.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),at.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),at.resolve()}getOverlaysForCollection(t,i,r){const o=_a(),u=i.length+1,c=new Et(i.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===u&&m.largestBatchId>r&&o.set(m.getKey(),m)}return at.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new Ae(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>r){let y=u.get(p.largestBatchId);y===null&&(y=_a(),u=u.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=_a(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=o)););return at.resolve(d)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new kD(i,r));let u=this.qr.get(i);u===void 0&&(u=Gt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class bN{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,at.resolve()}}class Ig{constructor(){this.Qr=new tn(an.$r),this.Ur=new tn(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new an(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new an(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new Et(new Ee([])),r=new an(i,t),o=new an(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Et(new Ee([])),r=new an(i,t),o=new an(i,t+1);let u=Gt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const i=new an(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class an{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Et.comparator(t.key,i.key)||qt(t.Yr,i.Yr)}static Kr(t,i){return qt(t.Yr,i.Yr)||Et.comparator(t.key,i.key)}}class _N{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new tn(an.$r)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new jD(u,i,r,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new an(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return at.resolve(c)}lookupMutationBatch(t,i){return at.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return at.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?Sg:this.tr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new an(i,0),o=new an(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),at.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new tn(qt);return i.forEach((o=>{const u=new an(o,0),c=new an(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{r=r.add(d.Yr)}))})),at.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;Et.isDocumentKey(u)||(u=u.child(""));const c=new an(new Et(u),0);let d=new tn(qt);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(d=d.add(m.Yr)),!0)}),c),at.resolve(this.ti(d))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ne(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return at.forEach(i.mutations,(o=>{const u=new an(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new an(i,0),o=this.Zr.firstAfterOrEqual(r);return at.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class xN{constructor(t){this.ri=t,this.docs=(function(){return new Ae(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return at.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(i))}getEntries(t,i){let r=qs();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():wn.newInvalidDocument(o))})),at.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=qs();const c=i.path,d=new Et(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||QR(XR(y),r)<=0||(o.has(y.key)||Af(i,y))&&(u=u.insert(y.key,y.mutableCopy()))}return at.resolve(u)}getAllFromCollectionGroup(t,i,r,o){wt(9500)}ii(t,i){return at.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new TN(this)}getSize(t){return at.resolve(this.size)}}class TN extends mN{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),at.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class EN{constructor(t){this.persistence=t,this.si=new Da((i=>Cg(i)),Rg),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ig,this.targetCount=0,this.ai=zo.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),at.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new zo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,at.resolve()}updateTargetData(t,i){return this.Pr(i),at.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),at.waitFor(u).next((()=>o))}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return at.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),at.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),at.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),at.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return at.resolve(r)}containsKey(t,i){return at.resolve(this._i.containsKey(i))}}class fE{constructor(t,i){this.ui={},this.overlays={},this.ci=new bf(0),this.li=!1,this.li=!0,this.hi=new bN,this.referenceDelegate=t(this),this.Pi=new EN(this),this.indexManager=new oN,this.remoteDocumentCache=(function(o){return new xN(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new rN(i),this.Ii=new yN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new vN,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new _N(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){dt("MemoryPersistence","Starting transaction:",t);const o=new SN(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return at.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class SN extends ZR{constructor(t){super(),this.currentSequenceNumber=t}}class Og{constructor(t){this.persistence=t,this.Ri=new Ig,this.Vi=null}static mi(t){return new Og(t)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),at.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),at.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),at.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(r=>{const o=Et.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,Dt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return at.or([()=>at.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class tf{constructor(t,i){this.persistence=t,this.pi=new Da((r=>tD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=dN(this,i)}static mi(t,i){return new tf(t,i)}Ei(){}di(t){return at.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return at.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?at.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,i).next((d=>{d||(r++,u.removeEntry(c,Dt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),at.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mh(t.data.value)),i}br(t,i,r){return at.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return at.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jg{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Gt(),o=Gt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jg(t,i.fromCache,r,o)}}class AN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class wN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pC()?8:JR(dC())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new AN;return this.Ss(t,i,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,i,c,d.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(xo()<=Qt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",To(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(xo()<=Qt.DEBUG&&dt("QueryEngine","Query:",To(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(xo()<=Qt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",To(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hs(i))):at.resolve())}ys(t,i){if(K1(i))return at.resolve(null);let r=hs(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Vp(i,null,"F"),r=hs(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Gt(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((m=>{const p=this.Ds(i,d);return this.Cs(i,p,c,m.readTime)?this.ys(t,Vp(i,null,"F")):this.vs(t,p,i,m)}))))})))))}ws(t,i,r,o){return K1(i)||o.isEqual(Dt.min())?at.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(i,u);return this.Cs(i,c,r,o)?at.resolve(null):(xo()<=Qt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),To(i)),this.vs(t,c,i,YR(o,Eu)).next((d=>d)))}))}Ds(t,i){let r=new tn(HT(t));return i.forEach(((o,u)=>{Af(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return xo()<=Qt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",To(i)),this.ps.getDocumentsMatchingQuery(t,i,Ir.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const kg="LocalStore",CN=3e8;class RN{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new Ae(qt),this.xs=new Da((u=>Cg(u)),Rg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function DN(e,t,i,r){return new RN(e,t,i,r)}async function dE(e,t){const i=Mt(e);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],d=[];let m=Gt();for(const p of o){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of u){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return i.localDocuments.getDocuments(r,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function NN(e,t){const i=Mt(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const v=p.batch,x=v.keys();let w=at.resolve();return x.forEach((j=>{w=w.next((()=>y.getEntry(m,j))).next((I=>{const D=p.docVersions.get(j);ne(D!==null,48541),I.version.compareTo(D)<0&&(v.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),y.addEntry(I)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(m,v)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let m=Gt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function mE(e){const t=Mt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function MN(e,t){const i=Mt(e),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const d=[];t.targetChanges.forEach(((y,v)=>{const x=o.get(v);if(!x)return;d.push(i.Pi.removeMatchingKeys(u,y.removedDocuments,v).next((()=>i.Pi.addMatchingKeys(u,y.addedDocuments,v))));let w=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(v)!==null?w=w.withResumeToken(yn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),o=o.insert(v,w),(function(I,D,k){return I.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=CN?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(x,w,y)&&d.push(i.Pi.updateTargetData(u,w))}));let m=qs(),p=Gt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,y))})),d.push(VN(u,c,t.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!r.isEqual(Dt.min())){const y=i.Pi.getLastRemoteSnapshotVersion(u).next((v=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));d.push(y)}return at.waitFor(d).next((()=>c.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,m,p))).next((()=>m))})).then((u=>(i.Ms=o,u)))}function VN(e,t,i){let r=Gt(),o=Gt();return i.forEach((u=>r=r.add(u))),t.getEntries(e,r).next((u=>{let c=qs();return i.forEach(((d,m)=>{const p=u.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Dt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):dt(kg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:o}}))}function IN(e,t){const i=Mt(e);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Sg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function ON(e,t){const i=Mt(e);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((u=>u?(o=u,at.resolve(o)):i.Pi.allocateTargetId(r).next((c=>(o=new wr(t,c,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Lp(e,t,i){const r=Mt(e),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Yo(c))throw c;dt(kg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function r_(e,t,i){const r=Mt(e);let o=Dt.min(),u=Gt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const v=Mt(m),x=v.xs.get(y);return x!==void 0?at.resolve(v.Ms.get(x)):v.Pi.getTargetData(p,y)})(r,c,hs(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{u=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,i?o:Dt.min(),i?u:Gt()))).next((d=>(jN(r,_D(t),d),{documents:d,Qs:u})))))}function jN(e,t,i){let r=e.Os.get(t)||Dt.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),e.Os.set(t,r)}class a_{constructor(){this.activeTargetIds=wD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kN{constructor(){this.Mo=new a_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new a_,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class LN{Oo(t){}shutdown(){}}const o_="ConnectivityMonitor";class l_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(o_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(o_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sh=null;function Pp(){return Sh===null?Sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sh++,"0x"+Sh.toString(16)}const $m="RestConnection",PN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Yh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const c=Pp(),d=this.zo(t,i.toUriEncodedString());dt($m,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:p}=new URL(d),y=bg(p);return this.Jo(t,d,m,r,y).then((v=>(dt($m,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw ko($m,`RPC '${t}' ${c} failed with error: `,v,"url: ",d,"request:",r),v}))}Ho(t,i,r,o,u,c){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Go})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=PN[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class zN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Sn="WebChannelConnection";class BN extends UN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const c=Pp();return new Promise(((d,m)=>{const p=new vT;p.setWithCredentials(!0),p.listenOnce(bT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Nh.NO_ERROR:const v=p.getResponseJson();dt(Sn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),d(v);break;case Nh.TIMEOUT:dt(Sn,`RPC '${t}' ${c} timed out`),m(new bt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const x=p.getStatus();if(dt(Sn,`RPC '${t}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const j=w?.error;if(j&&j.status&&j.message){const I=(function(k){const B=k.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(B)>=0?B:ot.UNKNOWN})(j.status);m(new bt(I,j.message))}else m(new bt(ot.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new bt(ot.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{dt(Sn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);dt(Sn,`RPC '${t}' ${c} sending request:`,o),p.send(i,"POST",y,r,15)}))}T_(t,i,r){const o=Pp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=TT(),d=xT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,i,r),m.encodeInitMessageHeaders=!0;const y=u.join("");dt(Sn,`Creating RPC '${t}' stream ${o}: ${y}`,m);const v=c.createWebChannel(y,m);this.I_(v);let x=!1,w=!1;const j=new zN({Yo:D=>{w?dt(Sn,`Not sending because RPC '${t}' stream ${o} is closed:`,D):(x||(dt(Sn,`Opening RPC '${t}' stream ${o} transport.`),v.open(),x=!0),dt(Sn,`RPC '${t}' stream ${o} sending:`,D),v.send(D))},Zo:()=>v.close()}),I=(D,k,B)=>{D.listen(k,(P=>{try{B(P)}catch(G){setTimeout((()=>{throw G}),0)}}))};return I(v,eu.EventType.OPEN,(()=>{w||(dt(Sn,`RPC '${t}' stream ${o} transport opened.`),j.o_())})),I(v,eu.EventType.CLOSE,(()=>{w||(w=!0,dt(Sn,`RPC '${t}' stream ${o} transport closed`),j.a_(),this.E_(v))})),I(v,eu.EventType.ERROR,(D=>{w||(w=!0,ko(Sn,`RPC '${t}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),j.a_(new bt(ot.UNAVAILABLE,"The operation could not be completed")))})),I(v,eu.EventType.MESSAGE,(D=>{if(!w){const k=D.data[0];ne(!!k,16349);const B=k,P=B?.error||B[0]?.error;if(P){dt(Sn,`RPC '${t}' stream ${o} received error:`,P);const G=P.status;let Y=(function(S){const N=qe[S];if(N!==void 0)return eE(N)})(G),z=P.message;Y===void 0&&(Y=ot.INTERNAL,z="Unknown error status: "+G+" with message "+P.message),w=!0,j.a_(new bt(Y,z)),v.close()}else dt(Sn,`RPC '${t}' stream ${o} received:`,k),j.u_(k)}})),I(d,_T.STAT_EVENT,(D=>{D.stat===wp.PROXY?dt(Sn,`RPC '${t}' stream ${o} detected buffering proxy`):D.stat===wp.NOPROXY&&dt(Sn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Zm(){return typeof document<"u"?document:null}function Df(e){return new GD(e,!0)}class pE{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&dt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const u_="PersistentStream";class gE{constructor(t,i,r,o,u,c,d,m){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===ot.RESOURCE_EXHAUSTED?(Hs(i.toString()),Hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new bt(ot.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(u_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(dt(u_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FN extends gE{constructor(t,i,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=XD(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Dt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Dt.min():c.readTime?fs(c.readTime):Dt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=kp(this.serializer),i.addTarget=(function(u,c){let d;const m=c.target;if(d=Mp(m)?{documents:ZD(u,m)}:{query:JD(u,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=sE(u,c.resumeToken);const p=Ip(u,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Dt.min())>0){d.readTime=Wh(u,c.snapshotVersion.toTimestamp());const p=Ip(u,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const r=tN(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=kp(this.serializer),i.removeTarget=t,this.q_(i)}}class HN extends gE{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ne(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ne(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ne(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=$D(t.writeResults,t.commitTime),r=fs(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=kp(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>QD(this.serializer,r)))};this.q_(i)}}class qN{}class GN extends qN{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new bt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Op(i,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new bt(ot.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Op(i,r),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new bt(ot.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class KN{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hs(i),this.aa=!1):dt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ca="RemoteStore";class YN{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ma(this)&&(dt(Ca,"Restarting streams for network reachability change."),await(async function(m){const p=Mt(m);p.Ea.add(4),await Hu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Nf(p)})(this))}))})),this.Ra=new KN(r,o)}}async function Nf(e){if(Ma(e))for(const t of e.da)await t(!0)}async function Hu(e){for(const t of e.da)await t(!1)}function yE(e,t){const i=Mt(e);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),zg(i)?Ug(i):Xo(i).O_()&&Pg(i,t))}function Lg(e,t){const i=Mt(e),r=Xo(i);i.Ia.delete(t),r.O_()&&vE(i,t),i.Ia.size===0&&(r.O_()?r.L_():Ma(i)&&i.Ra.set("Unknown"))}function Pg(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const i=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Xo(e).Y_(t)}function vE(e,t){e.Va.Ue(t),Xo(e).Z_(t)}function Ug(e){e.Va=new BD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Xo(e).start(),e.Ra.ua()}function zg(e){return Ma(e)&&!Xo(e).x_()&&e.Ia.size>0}function Ma(e){return Mt(e).Ea.size===0}function bE(e){e.Va=void 0}async function XN(e){e.Ra.set("Online")}async function QN(e){e.Ia.forEach(((t,i)=>{Pg(e,t)}))}async function $N(e,t){bE(e),zg(e)?(e.Ra.ha(t),Ug(e)):e.Ra.set("Unknown")}async function ZN(e,t,i){if(e.Ra.set("Online"),t instanceof iE&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(e,t)}catch(r){dt(Ca,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ef(e,r)}else if(t instanceof Oh?e.Va.Ze(t):t instanceof nE?e.Va.st(t):e.Va.tt(t),!i.isEqual(Dt.min()))try{const r=await mE(e.localStore);i.compareTo(r)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=u.Ia.get(p);y&&u.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=u.Ia.get(m);if(!y)return;u.Ia.set(m,y.withResumeToken(yn.EMPTY_BYTE_STRING,y.snapshotVersion)),vE(u,m);const v=new wr(y.target,m,p,y.sequenceNumber);Pg(u,v)})),u.remoteSyncer.applyRemoteEvent(d)})(e,i)}catch(r){dt(Ca,"Failed to raise snapshot:",r),await ef(e,r)}}async function ef(e,t,i){if(!Yo(t))throw t;e.Ea.add(1),await Hu(e),e.Ra.set("Offline"),i||(i=()=>mE(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{dt(Ca,"Retrying IndexedDB access"),await i(),e.Ea.delete(1),await Nf(e)}))}function _E(e,t){return t().catch((i=>ef(e,i,t)))}async function Mf(e){const t=Mt(e),i=Lr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Sg;for(;JN(t);)try{const o=await IN(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,WN(t,o)}catch(o){await ef(t,o)}xE(t)&&TE(t)}function JN(e){return Ma(e)&&e.Ta.length<10}function WN(e,t){e.Ta.push(t);const i=Lr(e);i.O_()&&i.X_&&i.ea(t.mutations)}function xE(e){return Ma(e)&&!Lr(e).x_()&&e.Ta.length>0}function TE(e){Lr(e).start()}async function t4(e){Lr(e).ra()}async function e4(e){const t=Lr(e);for(const i of e.Ta)t.ea(i.mutations)}async function n4(e,t,i){const r=e.Ta.shift(),o=Ng.from(r,t,i);await _E(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await Mf(e)}async function i4(e,t){t&&Lr(e).X_&&await(async function(r,o){if((function(c){return PD(c)&&c!==ot.ABORTED})(o.code)){const u=r.Ta.shift();Lr(r).B_(),await _E(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Mf(r)}})(e,t),xE(e)&&TE(e)}async function c_(e,t){const i=Mt(e);i.asyncQueue.verifyOperationInProgress(),dt(Ca,"RemoteStore received new credentials");const r=Ma(i);i.Ea.add(3),await Hu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Nf(i)}async function s4(e,t){const i=Mt(e);t?(i.Ea.delete(2),await Nf(i)):t||(i.Ea.add(2),await Hu(i),i.Ra.set("Unknown"))}function Xo(e){return e.ma||(e.ma=(function(i,r,o){const u=Mt(i);return u.sa(),new FN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:XN.bind(null,e),t_:QN.bind(null,e),r_:$N.bind(null,e),H_:ZN.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),zg(e)?Ug(e):e.Ra.set("Unknown")):(await e.ma.stop(),bE(e))}))),e.ma}function Lr(e){return e.fa||(e.fa=(function(i,r,o){const u=Mt(i);return u.sa(),new HN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:t4.bind(null,e),r_:i4.bind(null,e),ta:e4.bind(null,e),na:n4.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Mf(e)):(await e.fa.stop(),e.Ta.length>0&&(dt(Ca,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Bg{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,d=new Bg(t,i,c,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(e,t){if(Hs("AsyncQueue",`${t}: ${e}`),Yo(e))return new bt(ot.UNAVAILABLE,`${t}: ${e}`);throw e}class Mo{static emptySet(t){return new Mo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||Et.comparator(i.key,r.key):(i,r)=>Et.comparator(i.key,r.key),this.keyedMap=nu(),this.sortedSet=new Ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Mo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class h_{constructor(){this.ga=new Ae(Et.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):wt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Bo{constructor(t,i,r,o,u,c,d,m,p){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,i,r,o,u){const c=[];return i.forEach((d=>{c.push({type:0,doc:d})})),new Bo(t,i,Mo.emptySet(i),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class r4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class a4{constructor(){this.queries=f_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Mt(i),u=o.queries;o.queries=f_(),u.forEach(((c,d)=>{for(const m of d.Sa)m.onError(r)}))})(this,new bt(ot.ABORTED,"Firestore shutting down"))}}function f_(){return new Da((e=>FT(e)),Sf)}async function EE(e,t){const i=Mt(e);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new r4,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const d=Fg(c,`Initialization of query '${To(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&Hg(i)}async function SE(e,t){const i=Mt(e),r=t.query;let o=3;const u=i.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function o4(e,t){const i=Mt(e);let r=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(r=!0);c.wa=o}}r&&Hg(i)}function l4(e,t,i){const r=Mt(e),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function Hg(e){e.Ca.forEach((t=>{t.next()}))}var Up,d_;(d_=Up||(Up={})).Ma="default",d_.Cache="cache";class AE{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Bo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Up.Cache}}class wE{constructor(t){this.key=t}}class CE{constructor(t){this.key=t}}class u4{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gt(),this.mutatedKeys=Gt(),this.eu=HT(t),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new h_,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((y,v)=>{const x=o.get(y),w=Af(this.query,v)?v:null,j=!!x&&this.mutatedKeys.has(x.key),I=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;x&&w?x.data.isEqual(w.data)?j!==I&&(r.track({type:3,doc:w}),D=!0):this.su(x,w)||(r.track({type:2,doc:w}),D=!0,(m&&this.eu(w,m)>0||p&&this.eu(w,p)<0)&&(d=!0)):!x&&w?(r.track({type:0,doc:w}),D=!0):x&&!w&&(r.track({type:1,doc:x}),D=!0,(m||p)&&(d=!0)),D&&(w?(c=c.add(w),u=I?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:d,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(w,j){const I=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:D})}};return I(w)-I(j)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),o=o??!1;const d=i&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new Bo(this.query,t.tu,u,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Gt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new CE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new wE(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Gt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qg="SyncEngine";class c4{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class h4{constructor(t){this.key=t,this.hu=!1}}class f4{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Da((d=>FT(d)),Sf),this.Iu=new Map,this.Eu=new Set,this.du=new Ae(Et.comparator),this.Au=new Map,this.Ru=new Ig,this.Vu={},this.mu=new Map,this.fu=zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function d4(e,t,i=!0){const r=IE(e);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await RE(r,t,i,!0),o}async function m4(e,t){const i=IE(e);await RE(i,t,!0,!1)}async function RE(e,t,i,r){const o=await ON(e.localStore,hs(t)),u=o.targetId,c=e.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await p4(e,t,u,c==="current",o.resumeToken)),e.isPrimaryClient&&i&&yE(e.remoteStore,o),d}async function p4(e,t,i,r,o){e.pu=(v,x,w)=>(async function(I,D,k,B){let P=D.view.ru(k);P.Cs&&(P=await r_(I.localStore,D.query,!1).then((({documents:A})=>D.view.ru(A,P))));const G=B&&B.targetChanges.get(D.targetId),Y=B&&B.targetMismatches.get(D.targetId)!=null,z=D.view.applyChanges(P,I.isPrimaryClient,G,Y);return p_(I,D.targetId,z.au),z.snapshot})(e,v,x,w);const u=await r_(e.localStore,t,!0),c=new u4(t,u.Qs),d=c.ru(u.documents),m=Fu.createSynthesizedTargetChangeForCurrentChange(i,r&&e.onlineState!=="Offline",o),p=c.applyChanges(d,e.isPrimaryClient,m);p_(e,i,p.au);const y=new c4(t,i,c);return e.Tu.set(t,y),e.Iu.has(i)?e.Iu.get(i).push(t):e.Iu.set(i,[t]),p.snapshot}async function g4(e,t,i){const r=Mt(e),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Sf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Lp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Lg(r.remoteStore,o.targetId),zp(r,o.targetId)})).catch(Ko)):(zp(r,o.targetId),await Lp(r.localStore,o.targetId,!0))}async function y4(e,t){const i=Mt(e),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Lg(i.remoteStore,r.targetId))}async function v4(e,t,i){const r=A4(e);try{const o=await(function(c,d){const m=Mt(c),p=me.now(),y=d.reduce(((w,j)=>w.add(j.key)),Gt());let v,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let j=qs(),I=Gt();return m.Ns.getEntries(w,y).next((D=>{j=D,j.forEach(((k,B)=>{B.isValidDocument()||(I=I.add(k))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,j))).next((D=>{v=D;const k=[];for(const B of d){const P=ID(B,v.get(B.key).overlayedDocument);P!=null&&k.push(new Na(B.key,P,jT(P.value.mapValue),Bs.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,k,d)})).next((D=>{x=D;const k=D.applyToLocalDocumentSet(v,I);return m.documentOverlayCache.saveOverlays(w,D.batchId,k)}))})).then((()=>({batchId:x.batchId,changes:GT(v)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new Ae(qt)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(r,o.batchId,i),await qu(r,o.changes),await Mf(r.remoteStore)}catch(o){const u=Fg(o,"Failed to persist write");i.reject(u)}}async function DE(e,t){const i=Mt(e);try{const r=await MN(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=i.Au.get(u);c&&(ne(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ne(c.hu,14607):o.removedDocuments.size>0&&(ne(c.hu,42227),c.hu=!1))})),await qu(i,r,t)}catch(r){await Ko(r)}}function m_(e,t,i){const r=Mt(e);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const m=Mt(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,v)=>{for(const x of v.Sa)x.va(d)&&(p=!0)})),p&&Hg(m)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function b4(e,t,i){const r=Mt(e);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Ae(Et.comparator);c=c.insert(u,wn.newNoDocument(u,Dt.min()));const d=Gt().add(u),m=new Rf(Dt.min(),new Map,new Ae(qt),c,d);await DE(r,m),r.du=r.du.remove(u),r.Au.delete(t),Gg(r)}else await Lp(r.localStore,t,!1).then((()=>zp(r,t,i))).catch(Ko)}async function _4(e,t){const i=Mt(e),r=t.batch.batchId;try{const o=await NN(i.localStore,t);ME(i,r,null),NE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await qu(i,o)}catch(o){await Ko(o)}}async function x4(e,t,i){const r=Mt(e);try{const o=await(function(c,d){const m=Mt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((v=>(ne(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(r.localStore,t);ME(r,t,i),NE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await qu(r,o)}catch(o){await Ko(o)}}function NE(e,t){(e.mu.get(t)||[]).forEach((i=>{i.resolve()})),e.mu.delete(t)}function ME(e,t,i){const r=Mt(e);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function zp(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),i&&e.Pu.yu(r,i);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((r=>{e.Ru.containsKey(r)||VE(e,r)}))}function VE(e,t){e.Eu.delete(t.path.canonicalString());const i=e.du.get(t);i!==null&&(Lg(e.remoteStore,i),e.du=e.du.remove(t),e.Au.delete(i),Gg(e))}function p_(e,t,i){for(const r of i)r instanceof wE?(e.Ru.addReference(r.key,t),T4(e,r)):r instanceof CE?(dt(qg,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||VE(e,r.key)):wt(19791,{wu:r})}function T4(e,t){const i=t.key,r=i.path.canonicalString();e.du.get(i)||e.Eu.has(r)||(dt(qg,"New document in limbo: "+i),e.Eu.add(r),Gg(e))}function Gg(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const i=new Et(Ee.fromString(t)),r=e.fu.next();e.Au.set(r,new h4(i)),e.du=e.du.insert(i,r),yE(e.remoteStore,new wr(hs(Ef(i.path)),r,"TargetPurposeLimboResolution",bf.ce))}}async function qu(e,t,i){const r=Mt(e),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,m)=>{c.push(r.pu(m,t,i).then((p=>{if((p||i)&&r.isPrimaryClient){const y=p?!p.fromCache:i?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){o.push(p);const y=jg.As(m.targetId,p);u.push(y)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(m,p){const y=Mt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>at.forEach(p,(x=>at.forEach(x.Es,(w=>y.persistence.referenceDelegate.addReference(v,x.targetId,w))).next((()=>at.forEach(x.ds,(w=>y.persistence.referenceDelegate.removeReference(v,x.targetId,w)))))))))}catch(v){if(!Yo(v))throw v;dt(kg,"Failed to update sequence numbers: "+v)}for(const v of p){const x=v.targetId;if(!v.fromCache){const w=y.Ms.get(x),j=w.snapshotVersion,I=w.withLastLimboFreeSnapshotVersion(j);y.Ms=y.Ms.insert(x,I)}}})(r.localStore,u))}async function E4(e,t){const i=Mt(e);if(!i.currentUser.isEqual(t)){dt(qg,"User change. New user:",t.toKey());const r=await dE(i.localStore,t);i.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((m=>{m.reject(new bt(ot.CANCELLED,c))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await qu(i,r.Ls)}}function S4(e,t){const i=Mt(e),r=i.Au.get(t);if(r&&r.hu)return Gt().add(r.key);{let o=Gt();const u=i.Iu.get(t);if(!u)return o;for(const c of u){const d=i.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function IE(e){const t=Mt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=DE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=S4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=b4.bind(null,t),t.Pu.H_=o4.bind(null,t.eventManager),t.Pu.yu=l4.bind(null,t.eventManager),t}function A4(e){const t=Mt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=x4.bind(null,t),t}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Df(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return DN(this.persistence,new wN,t.initialUser,this.serializer)}Cu(t){return new fE(Og.mi,this.serializer)}Du(t){return new kN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class w4 extends nf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ne(this.persistence.referenceDelegate instanceof tf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hN(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new fE((r=>tf.mi(r,i)),this.serializer)}}class Bp{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E4.bind(null,this.syncEngine),await s4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new a4})()}createDatastore(t){const i=Df(t.databaseInfo.databaseId),r=(function(u){return new BN(u)})(t.databaseInfo);return(function(u,c,d,m){return new GN(u,c,d,m)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,c,d){return new YN(r,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(i=>m_(this.syncEngine,i,0)),(function(){return l_.v()?new l_:new LN})())}createSyncEngine(t,i){return(function(o,u,c,d,m,p,y){const v=new f4(o,u,c,d,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Mt(i);dt(Ca,"RemoteStore shutting down."),r.Ea.add(5),await Hu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bp.provider={build:()=>new Bp};class OE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Hs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Pr="FirestoreClient";class C4{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=An.UNAUTHENTICATED,this.clientId=Tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{dt(Pr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(dt(Pr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Fg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Jm(e,t){e.asyncQueue.verifyOperationInProgress(),dt(Pr,"Initializing OfflineComponentProvider");const i=e.configuration;await t.initialize(i);let r=i.initialUser;e.setCredentialChangeListener((async o=>{r.isEqual(o)||(await dE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function g_(e,t){e.asyncQueue.verifyOperationInProgress();const i=await R4(e);dt(Pr,"Initializing OnlineComponentProvider"),await t.initialize(i,e.configuration),e.setCredentialChangeListener((r=>c_(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,o)=>c_(t.remoteStore,o))),e._onlineComponents=t}async function R4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dt(Pr,"Using user provided OfflineComponentProvider");try{await Jm(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ot.FAILED_PRECONDITION||o.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ko("Error using user provided cache. Falling back to memory cache: "+i),await Jm(e,new nf)}}else dt(Pr,"Using default OfflineComponentProvider"),await Jm(e,new w4(void 0));return e._offlineComponents}async function jE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dt(Pr,"Using user provided OnlineComponentProvider"),await g_(e,e._uninitializedComponentsProvider._online)):(dt(Pr,"Using default OnlineComponentProvider"),await g_(e,new Bp))),e._onlineComponents}function D4(e){return jE(e).then((t=>t.syncEngine))}async function Fp(e){const t=await jE(e),i=t.eventManager;return i.onListen=d4.bind(null,t.syncEngine),i.onUnlisten=g4.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=m4.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=y4.bind(null,t.syncEngine),i}function N4(e,t,i={}){const r=new Mr;return e.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,m,p){const y=new OE({next:x=>{y.Nu(),c.enqueueAndForget((()=>SE(u,v)));const w=x.docs.has(d);!w&&x.fromCache?p.reject(new bt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&m&&m.source==="server"?p.reject(new bt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new AE(Ef(d.path),y,{includeMetadataChanges:!0,qa:!0});return EE(u,v)})(await Fp(e),e.asyncQueue,t,i,r))),r.promise}function kE(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const y_=new Map;const LE="firestore.googleapis.com",v_=!0;class b_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new bt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LE,this.ssl=v_}else this.host=t.host,this.ssl=t.ssl??v_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uN)throw new bt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new bt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new bt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new bt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kg{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new bt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jR;switch(r.type){case"firstParty":return new UR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new bt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=y_.get(i);r&&(dt("ComponentProvider","Removing Datastore"),y_.delete(i),r.terminate())})(this),Promise.resolve()}}function M4(e,t,i,r={}){e=Vr(e,Kg);const o=bg(t),u=e._getSettings(),c={...u,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${i}`;o&&(lC(`https://${d}`),fC("Firestore",!0)),u.host!==LE&&u.host!==d&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:d,ssl:o,emulatorOptions:r};if(!Hh(m,c)&&(e._setSettings(m),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=An.MOCK_USER;else{p=uC(r.mockUserToken,e._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new bt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new An(v)}e._authCredentials=new kR(new ST(p,y))}}class Vf{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Vf(this.firestore,t,this._query)}}class We{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Du(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new We(this.firestore,t,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(zu(i,We._jsonSchema))return new We(t,r||null,new Et(Ee.fromString(i.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Ke("string",We._jsonSchemaVersion),referencePath:Ke("string")};class Du extends Vf{constructor(t,i,r){super(t,i,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new We(this.firestore,null,new Et(t))}withConverter(t){return new Du(this.firestore,t,this._path)}}function Vo(e,t,...i){if(e=_u(e),arguments.length===1&&(t=Tg.newId()),GR("doc","path",t),e instanceof Kg){const r=Ee.fromString(t,...i);return I1(r),new We(e,null,new Et(r))}{if(!(e instanceof We||e instanceof Du))throw new bt(ot.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ee.fromString(t,...i));return I1(r),new We(e.firestore,e instanceof Du?e.converter:null,new Et(r))}}const __="AsyncQueue";class x_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pE(this,"async_queue_retry"),this._c=()=>{const r=Zm();r&&dt(__,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Zm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Zm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Yo(t))throw t;dt(__,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Hs("INTERNAL UNHANDLED ERROR: ",T_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Bg.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&wt(47125,{Pc:T_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function T_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function E_(e){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(e,["next","error","complete"])}class Nu extends Kg{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new x_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new x_(t),this._firestoreClient=void 0,await t}}}function V4(e,t){const i=typeof e=="object"?e:TR(),r=typeof e=="string"?e:Yh,o=yR(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=aC("firestore");u&&M4(o,...u)}return o}function Yg(e){if(e._terminated)throw new bt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||I4(e),e._firestoreClient}function I4(e){const t=e._freezeSettings(),i=(function(o,u,c,d){return new iD(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,kE(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new C4(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(e._componentsProvider))}class Ci{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ci(yn.fromBase64String(t))}catch(i){throw new bt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ci(yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zu(t,Ci._jsonSchema))return Ci.fromBase64String(t.bytes)}}Ci._jsonSchemaVersion="firestore/bytes/1.0",Ci._jsonSchema={type:Ke("string",Ci._jsonSchemaVersion),bytes:Ke("string")};class Xg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new bt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class PE{constructor(t){this._methodName=t}}class ds{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new bt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new bt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ds._jsonSchemaVersion}}static fromJSON(t){if(zu(t,ds._jsonSchema))return new ds(t.latitude,t.longitude)}}ds._jsonSchemaVersion="firestore/geoPoint/1.0",ds._jsonSchema={type:Ke("string",ds._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};class ms{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zu(t,ms._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ms(t.vectorValues);throw new bt(ot.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ms._jsonSchemaVersion="firestore/vectorValue/1.0",ms._jsonSchema={type:Ke("string",ms._jsonSchemaVersion),vectorValues:Ke("object")};const O4=/^__.*__$/;class j4{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Na(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bu(t,this.data,i,this.fieldTransforms)}}function UE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:e})}}class Qg{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return sf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(UE(this.Ac)&&O4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class k4{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Df(t)}Cc(t,i,r,o=!1){return new Qg({Ac:t,methodName:i,Dc:r,path:gn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L4(e){const t=e._freezeSettings(),i=Df(e._databaseId);return new k4(e._databaseId,!!t.ignoreUndefinedProperties,i)}function P4(e,t,i,r,o,u={}){const c=e.Cc(u.merge||u.mergeFields?2:0,t,i,o);HE("Data must be an object, but it was:",c,r);const d=BE(r,c);let m,p;if(u.merge)m=new Bi(c.fieldMask),p=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const v of u.mergeFields){const x=U4(t,v,i);if(!c.contains(x))throw new bt(ot.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);B4(y,x)||y.push(x)}m=new Bi(y),p=c.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=c.fieldTransforms;return new j4(new wi(d),m,p)}function zE(e,t){if(FE(e=_u(e)))return HE("Unsupported field value:",t,e),BE(e,t);if(e instanceof PE)return(function(r,o){if(!UE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const d of r){let m=zE(d,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}})(e,t)}return(function(r,o){if((r=_u(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=me.fromDate(r);return{timestampValue:Wh(o.serializer,u)}}if(r instanceof me){const u=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wh(o.serializer,u)}}if(r instanceof ds)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ci)return{bytesValue:sE(o.serializer,r._byteString)};if(r instanceof We){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ms)return(function(c,d){return{mapValue:{fields:{[IT]:{stringValue:OT},[Xh]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Dg(d.serializer,p)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Eg(r)}`)})(e,t)}function BE(e,t){const i={};return CT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ra(e,((r,o)=>{const u=zE(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function FE(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof me||e instanceof ds||e instanceof Ci||e instanceof We||e instanceof PE||e instanceof ms)}function HE(e,t,i){if(!FE(i)||!AT(i)){const r=Eg(i);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function U4(e,t,i){if((t=_u(t))instanceof Xg)return t._internalPath;if(typeof t=="string")return qE(e,t);throw sf("Field path arguments must be of type string or ",e,!1,void 0,i)}const z4=new RegExp("[~\\*/\\[\\]]");function qE(e,t,i){if(t.search(z4)>=0)throw sf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new Xg(...t.split("."))._internalPath}catch{throw sf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function sf(e,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${r}`),c&&(m+=` in document ${o}`),m+=")"),new bt(ot.INVALID_ARGUMENT,d+e+m)}function B4(e,t){return e.some((i=>i.isEqual(t)))}class GE{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new F4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(KE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class F4 extends GE{data(){return super.data()}}function KE(e,t){return typeof t=="string"?qE(e,t):t instanceof Xg?t._internalPath:t._delegate._internalPath}function H4(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new bt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q4{convertValue(t,i="none"){switch(kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Ra(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){const i=t.fields?.[Xh].arrayValue?.values?.map((r=>Oe(r.doubleValue)));return new ms(i)}convertGeoPoint(t){return new ds(Oe(t.latitude),Oe(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=xf(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Su(t));default:return null}}convertTimestamp(t){const i=Or(t);return new me(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=Ee.fromString(t);ne(cE(r),9688,{name:t});const o=new Au(r.get(1),r.get(3)),u=new Et(r.popFirst(5));return o.isEqual(i)||Hs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function G4(e,t,i){let r;return r=e?e.toFirestore(t):t,r}class su{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ea extends GE{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(KE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(ot.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ea._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Ke("string",Ea._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class jh extends Ea{data(t={}){return super.data(t)}}class Io{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new su(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new jh(this._firestore,this._userDataWriter,r.key,r,new su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new bt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const m=new jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new su(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const m=new jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new su(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:K4(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(ot.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Io._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function K4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:e})}}function kh(e){e=Vr(e,We);const t=Vr(e.firestore,Nu);return N4(Yg(t),e._key).then((i=>QE(t,e,i)))}Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:Ke("string",Io._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class YE extends q4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ci(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new We(this.firestore,null,i)}}function XE(e,t,i){e=Vr(e,We);const r=Vr(e.firestore,Nu),o=G4(e.converter,t);return X4(r,[P4(L4(r),"setDoc",e._key,o,e.converter!==null,i).toMutation(e._key,Bs.none())])}function Y4(e,...t){e=_u(e);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||E_(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(E_(t[r])){const m=t[r];t[r]=m.next?.bind(m),t[r+1]=m.error?.bind(m),t[r+2]=m.complete?.bind(m)}let u,c,d;if(e instanceof We)c=Vr(e.firestore,Nu),d=Ef(e._key.path),u={next:m=>{t[r]&&t[r](QE(c,e,m))},error:t[r+1],complete:t[r+2]};else{const m=Vr(e,Vf);c=Vr(m.firestore,Nu),d=m._query;const p=new YE(c);u={next:y=>{t[r]&&t[r](new Io(c,p,m,y))},error:t[r+1],complete:t[r+2]},H4(e._query)}return(function(p,y,v,x){const w=new OE(x),j=new AE(y,w,v);return p.asyncQueue.enqueueAndForget((async()=>EE(await Fp(p),j))),()=>{w.Nu(),p.asyncQueue.enqueueAndForget((async()=>SE(await Fp(p),j)))}})(Yg(c),d,o,u)}function X4(e,t){return(function(r,o){const u=new Mr;return r.asyncQueue.enqueueAndForget((async()=>v4(await D4(r),o,u))),u.promise})(Yg(e),t)}function QE(e,t,i){const r=i.docs.get(t._key),o=new YE(e);return new Ea(e,o,t._key,r,new su(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Go=o})(xR),Gh(new xu("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),d=new Nu(new LR(r.getProvider("auth-internal")),new zR(c,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new bt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(p.options.projectId,y)})(c,o),c);return u={useFetchStreams:i,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),No(D1,N1,t),No(D1,N1,"esm2020")})();const S_={apiKey:"AIzaSyBwDft82qUWbeMNM4Dq-cOgClaRXi6BndQ",authDomain:"url-dashboard-sync.firebaseapp.com",projectId:"url-dashboard-sync",storageBucket:"url-dashboard-sync.firebasestorage.app",messagingSenderId:"1045539948520",appId:"1:1045539948520:web:65d24d68d59ce760ad065d",measurementId:"G-CLJE9F9YPL"};let Ai=null;try{if(S_.apiKey){const e=mT(S_);Ai=V4(e)}else console.warn("Firebase not configured. Cloud Sync will not work until keys are added to firebase.js")}catch(e){console.warn("Firebase initialization failed:",e)}const Wm={save:async(e,t)=>{if(!Ai)throw new Error("Firebase not configured");await XE(Vo(Ai,"dashboards",e),{data:t,updatedAt:new Date().toISOString()})},load:async e=>{if(!Ai)throw new Error("Firebase not configured");const t=Vo(Ai,"dashboards",e),i=await kh(t);if(i.exists()){const r=i.data();return{data:r.data,updatedAt:r.updatedAt}}else return null},subscribe:(e,t)=>{if(!Ai)return()=>{};const i=Vo(Ai,"dashboards",e);return Y4(i,r=>{if(r.exists()){const o=r.data();t({data:o.data,updatedAt:o.updatedAt})}})}},$g={generateCode:()=>{const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let i=0;i<6;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t.substring(0,3)+"-"+t.substring(3)},saveTeam:async e=>{if(!Ai)throw new Error("Firebase not configured");for(let t=0;t<3;t++){const i=$g.generateCode(),r=Vo(Ai,"shared_teams",i);if(!(await kh(r)).exists())return await XE(r,{data:e,createdAt:new Date().toISOString()}),i}throw new Error("Failed to generate a unique code. Please try again.")},getTeam:async e=>{if(!Ai)throw new Error("Firebase not configured");const t=e.toUpperCase().trim();let i=Vo(Ai,"shared_teams",t),r=await kh(i);if(r.exists())return r.data().data;if(!t.includes("-")&&t.length===6){const o=t.substring(0,3)+"-"+t.substring(3);if(i=Vo(Ai,"shared_teams",o),r=await kh(i),r.exists())return r.data().data}return null}},Q4=2e3;function $4(e,t){const[i,r]=V.useState({status:"idle",lastSynced:null,error:null}),[o,u]=V.useState(()=>localStorage.getItem("url_dashboard_recovery_key")||null),c=I=>{u(I),localStorage.setItem("url_dashboard_recovery_key",I)},d=async()=>{try{const I=X2();return c(I),await p(I,e),I}catch(I){throw console.error(I),r(D=>({...D,status:"error",error:"Failed to enable sync"})),I}},m=async I=>{r(D=>({...D,status:"recovering"}));try{const D=await Hm(I),k=await Wm.load(D);if(!k)throw new Error("No data found for this key.");const{data:B,updatedAt:P}=k,G=await g1(B,I),Y={linkLayout:v.current?.linkLayout,theme:v.current?.theme,pattern:v.current?.pattern},z={...G,linkLayout:Y.linkLayout!==void 0?Y.linkLayout:G.linkLayout||"list",theme:Y.theme!==void 0?Y.theme:G.theme||"theme-white",pattern:Y.pattern!==void 0?Y.pattern:G.pattern||"dots"};return t(z),c(I),x.current=new Date(P).getTime(),r({status:"synced",lastSynced:new Date,error:null}),!0}catch(D){return console.error(D),r(k=>({...k,status:"error",error:D.message||"Recovery failed"})),!1}},p=V.useCallback(async(I,D)=>{if(I){r(k=>({...k,status:"syncing"}));try{const k=await Hm(I),B=await Q2(D,I);await Wm.save(k,B),r({status:"synced",lastSynced:new Date,error:null})}catch(k){console.error("Sync failed",k),r(B=>({...B,status:"error",error:"Sync failed"}))}}},[]),y=V.useRef(!1),v=V.useRef(e),x=V.useRef(0);V.useEffect(()=>{v.current=e},[e]),V.useEffect(()=>{if(!o||!e)return;if(y.current){y.current=!1;return}const I=setTimeout(()=>{p(o,e)},Q4);return()=>clearTimeout(I)},[e,o,p]);const w=V.useCallback(async()=>{if(!o)return!1;r(I=>({...I,status:"syncing"}));try{const I=await Hm(o),D=await Wm.load(I);if(!D)return r(z=>({...z,status:"error",error:"No cloud data found"})),!1;const{data:k,updatedAt:B}=D,P=await g1(k,o),G={linkLayout:v.current?.linkLayout,theme:v.current?.theme,pattern:v.current?.pattern},Y={...P,linkLayout:G.linkLayout!==void 0?G.linkLayout:P.linkLayout||"list",theme:G.theme!==void 0?G.theme:P.theme||"theme-white",pattern:G.pattern!==void 0?G.pattern:P.pattern||"dots"};return y.current=!0,x.current=new Date(B).getTime(),t(Y),r({status:"synced",lastSynced:new Date,error:null}),!0}catch(I){return console.error("Pull failed",I),r(D=>({...D,status:"error",error:"Failed to fetch from cloud"})),!1}},[o,t]),j=V.useCallback(()=>{u(null),localStorage.removeItem("url_dashboard_recovery_key"),r({status:"idle",lastSynced:null,error:null})},[]);return{syncState:i,recoveryKey:o,enableSync:d,recoverAccount:m,pullFromCloud:w,disconnect:j}}const Zg=V.createContext({});function Jg(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wg=typeof window<"u",$E=Wg?V.useLayoutEffect:V.useEffect,If=V.createContext(null);function ty(e,t){e.indexOf(t)===-1&&e.push(t)}function ey(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const Gs=(e,t,i)=>i>t?t:i<e?e:i;let ny=()=>{};const Ks={},ZE=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function JE(e){return typeof e=="object"&&e!==null}const WE=e=>/^0[^.\s]+$/u.test(e);function iy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Di=e=>e,Z4=(e,t)=>i=>t(e(i)),Gu=(...e)=>e.reduce(Z4),Mu=(e,t,i)=>{const r=t-e;return r===0?1:(i-e)/r};class sy{constructor(){this.subscriptions=[]}add(t){return ty(this.subscriptions,t),()=>ey(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ps=e=>e*1e3,Ri=e=>e/1e3;function tS(e,t){return t?e*(1e3/t):0}const eS=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,J4=1e-7,W4=12;function tM(e,t,i,r,o){let u,c,d=0;do c=t+(i-t)/2,u=eS(c,r,o)-e,u>0?i=c:t=c;while(Math.abs(u)>J4&&++d<W4);return c}function Ku(e,t,i,r){if(e===t&&i===r)return Di;const o=u=>tM(u,0,1,e,i);return u=>u===0||u===1?u:eS(o(u),t,r)}const nS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iS=e=>t=>1-e(1-t),sS=Ku(.33,1.53,.69,.99),ry=iS(sS),rS=nS(ry),aS=e=>(e*=2)<1?.5*ry(e):.5*(2-Math.pow(2,-10*(e-1))),ay=e=>1-Math.sin(Math.acos(e)),oS=iS(ay),lS=nS(ay),eM=Ku(.42,0,1,1),nM=Ku(0,0,.58,1),uS=Ku(.42,0,.58,1),iM=e=>Array.isArray(e)&&typeof e[0]!="number",cS=e=>Array.isArray(e)&&typeof e[0]=="number",sM={linear:Di,easeIn:eM,easeInOut:uS,easeOut:nM,circIn:ay,circInOut:lS,circOut:oS,backIn:ry,backInOut:rS,backOut:sS,anticipate:aS},rM=e=>typeof e=="string",A_=e=>{if(cS(e)){ny(e.length===4);const[t,i,r,o]=e;return Ku(t,i,r,o)}else if(rM(e))return sM[e];return e},Ah=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aM(e,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),e()),y(d)}const p={schedule:(y,v=!1,x=!1)=>{const j=x&&o?i:r;return v&&c.add(y),j.has(y)||j.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(d=y,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(m),i.clear(),o=!1,u&&(u=!1,p.process(y))}};return p}const oM=40;function hS(e,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=Ah.reduce((P,G)=>(P[G]=aM(u),P),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:v,preRender:x,render:w,postRender:j}=c,I=()=>{const P=Ks.useManualTiming?o.timestamp:performance.now();i=!1,Ks.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(P-o.timestamp,oM),1)),o.timestamp=P,o.isProcessing=!0,d.process(o),m.process(o),p.process(o),y.process(o),v.process(o),x.process(o),w.process(o),j.process(o),o.isProcessing=!1,i&&t&&(r=!1,e(I))},D=()=>{i=!0,r=!0,o.isProcessing||e(I)};return{schedule:Ah.reduce((P,G)=>{const Y=c[G];return P[G]=(z,A=!1,S=!1)=>(i||D(),Y.schedule(z,A,S)),P},{}),cancel:P=>{for(let G=0;G<Ah.length;G++)c[Ah[G]].cancel(P)},state:o,steps:c}}const{schedule:_e,cancel:Ur,state:mn,steps:tp}=hS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Di,!0);let Lh;function lM(){Lh=void 0}const $n={now:()=>(Lh===void 0&&$n.set(mn.isProcessing||Ks.useManualTiming?mn.timestamp:performance.now()),Lh),set:e=>{Lh=e,queueMicrotask(lM)}},fS=e=>t=>typeof t=="string"&&t.startsWith(e),dS=fS("--"),uM=fS("var(--"),oy=e=>uM(e)?cM.test(e.split("/*")[0].trim()):!1,cM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vu={...Qo,transform:e=>Gs(0,1,e)},wh={...Qo,default:1},du=e=>Math.round(e*1e5)/1e5,ly=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hM(e){return e==null}const fM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uy=(e,t)=>i=>!!(typeof i=="string"&&fM.test(i)&&i.startsWith(e)||t&&!hM(i)&&Object.prototype.hasOwnProperty.call(i,t)),mS=(e,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,d]=r.match(ly);return{[e]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},dM=e=>Gs(0,255,e),ep={...Qo,transform:e=>Math.round(dM(e))},xa={test:uy("rgb","red"),parse:mS("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:r=1})=>"rgba("+ep.transform(e)+", "+ep.transform(t)+", "+ep.transform(i)+", "+du(Vu.transform(r))+")"};function mM(e){let t="",i="",r="",o="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Hp={test:uy("#"),parse:mM,transform:xa.transform},Yu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Sr=Yu("deg"),gs=Yu("%"),Rt=Yu("px"),pM=Yu("vh"),gM=Yu("vw"),w_={...gs,parse:e=>gs.parse(e)/100,transform:e=>gs.transform(e*100)},Ao={test:uy("hsl","hue"),parse:mS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(e)+", "+gs.transform(du(t))+", "+gs.transform(du(i))+", "+du(Vu.transform(r))+")"},Ge={test:e=>xa.test(e)||Hp.test(e)||Ao.test(e),parse:e=>xa.test(e)?xa.parse(e):Ao.test(e)?Ao.parse(e):Hp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xa.transform(e):Ao.transform(e),getAnimatableNone:e=>{const t=Ge.parse(e);return t.alpha=0,Ge.transform(t)}},yM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vM(e){return isNaN(e)&&typeof e=="string"&&(e.match(ly)?.length||0)+(e.match(yM)?.length||0)>0}const pS="number",gS="color",bM="var",_M="var(",C_="${}",xM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Iu(e){const t=e.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(xM,m=>(Ge.test(m)?(r.color.push(u),o.push(gS),i.push(Ge.parse(m))):m.startsWith(_M)?(r.var.push(u),o.push(bM),i.push(m)):(r.number.push(u),o.push(pS),i.push(parseFloat(m))),++u,C_)).split(C_);return{values:i,split:d,indexes:r,types:o}}function yS(e){return Iu(e).values}function vS(e){const{split:t,types:i}=Iu(e),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const d=i[c];d===pS?u+=du(o[c]):d===gS?u+=Ge.transform(o[c]):u+=o[c]}return u}}const TM=e=>typeof e=="number"?0:Ge.test(e)?Ge.getAnimatableNone(e):e;function EM(e){const t=yS(e);return vS(e)(t.map(TM))}const zr={test:vM,parse:yS,createTransformer:vS,getAnimatableNone:EM};function np(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function SM({hue:e,saturation:t,lightness:i,alpha:r}){e/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const d=i<.5?i*(1+t):i+t-i*t,m=2*i-d;o=np(m,d,e+1/3),u=np(m,d,e),c=np(m,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function rf(e,t){return i=>i>0?t:e}const Se=(e,t,i)=>e+(t-e)*i,ip=(e,t,i)=>{const r=e*e,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},AM=[Hp,xa,Ao],wM=e=>AM.find(t=>t.test(e));function R_(e){const t=wM(e);if(!t)return!1;let i=t.parse(e);return t===Ao&&(i=SM(i)),i}const D_=(e,t)=>{const i=R_(e),r=R_(t);if(!i||!r)return rf(e,t);const o={...i};return u=>(o.red=ip(i.red,r.red,u),o.green=ip(i.green,r.green,u),o.blue=ip(i.blue,r.blue,u),o.alpha=Se(i.alpha,r.alpha,u),xa.transform(o))},qp=new Set(["none","hidden"]);function CM(e,t){return qp.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function RM(e,t){return i=>Se(e,t,i)}function cy(e){return typeof e=="number"?RM:typeof e=="string"?oy(e)?rf:Ge.test(e)?D_:MM:Array.isArray(e)?bS:typeof e=="object"?Ge.test(e)?D_:DM:rf}function bS(e,t){const i=[...e],r=i.length,o=e.map((u,c)=>cy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function DM(e,t){const i={...e,...t},r={};for(const o in i)e[o]!==void 0&&t[o]!==void 0&&(r[o]=cy(e[o])(e[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function NM(e,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=e.indexes[u][r[u]],d=e.values[c]??0;i[o]=d,r[u]++}return i}const MM=(e,t)=>{const i=zr.createTransformer(t),r=Iu(e),o=Iu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?qp.has(e)&&!o.values.length||qp.has(t)&&!r.values.length?CM(e,t):Gu(bS(NM(r,o),o.values),i):rf(e,t)};function _S(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?Se(e,t,i):cy(e)(e,t)}const VM=e=>{const t=({timestamp:i})=>e(i);return{start:(i=!0)=>_e.update(t,i),stop:()=>Ur(t),now:()=>mn.isProcessing?mn.timestamp:$n.now()}},xS=(e,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},af=2e4;function hy(e){let t=0;const i=50;let r=e.next(t);for(;!r.done&&t<af;)t+=i,r=e.next(t);return t>=af?1/0:t}function IM(e,t=100,i){const r=i({...e,keyframes:[0,t]}),o=Math.min(hy(r),af);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Ri(o)}}const OM=5;function TS(e,t,i){const r=Math.max(t-OM,0);return tS(i-e(r),t-r)}const Re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sp=.001;function jM({duration:e=Re.duration,bounce:t=Re.bounce,velocity:i=Re.velocity,mass:r=Re.mass}){let o,u,c=1-t;c=Gs(Re.minDamping,Re.maxDamping,c),e=Gs(Re.minDuration,Re.maxDuration,Ri(e)),c<1?(o=p=>{const y=p*c,v=y*e,x=y-i,w=Gp(p,c),j=Math.exp(-v);return sp-x/w*j},u=p=>{const v=p*c*e,x=v*i+i,w=Math.pow(c,2)*Math.pow(p,2)*e,j=Math.exp(-v),I=Gp(Math.pow(p,2),c);return(-o(p)+sp>0?-1:1)*((x-w)*j)/I}):(o=p=>{const y=Math.exp(-p*e),v=(p-i)*e+1;return-sp+y*v},u=p=>{const y=Math.exp(-p*e),v=(i-p)*(e*e);return y*v});const d=5/e,m=LM(o,u,d);if(e=ps(e),isNaN(m))return{stiffness:Re.stiffness,damping:Re.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:e}}}const kM=12;function LM(e,t,i){let r=i;for(let o=1;o<kM;o++)r=r-e(r)/t(r);return r}function Gp(e,t){return e*Math.sqrt(1-t*t)}const PM=["duration","bounce"],UM=["stiffness","damping","mass"];function N_(e,t){return t.some(i=>e[i]!==void 0)}function zM(e){let t={velocity:Re.velocity,stiffness:Re.stiffness,damping:Re.damping,mass:Re.mass,isResolvedFromDuration:!1,...e};if(!N_(e,UM)&&N_(e,PM))if(e.visualDuration){const i=e.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Gs(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Re.mass,stiffness:o,damping:u}}else{const i=jM(e);t={...t,...i,mass:Re.mass},t.isResolvedFromDuration=!0}return t}function of(e=Re.visualDuration,t=Re.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:m,damping:p,mass:y,duration:v,velocity:x,isResolvedFromDuration:w}=zM({...i,velocity:-Ri(i.velocity||0)}),j=x||0,I=p/(2*Math.sqrt(m*y)),D=c-u,k=Ri(Math.sqrt(m/y)),B=Math.abs(D)<5;r||(r=B?Re.restSpeed.granular:Re.restSpeed.default),o||(o=B?Re.restDelta.granular:Re.restDelta.default);let P;if(I<1){const Y=Gp(k,I);P=z=>{const A=Math.exp(-I*k*z);return c-A*((j+I*k*D)/Y*Math.sin(Y*z)+D*Math.cos(Y*z))}}else if(I===1)P=Y=>c-Math.exp(-k*Y)*(D+(j+k*D)*Y);else{const Y=k*Math.sqrt(I*I-1);P=z=>{const A=Math.exp(-I*k*z),S=Math.min(Y*z,300);return c-A*((j+I*k*D)*Math.sinh(S)+Y*D*Math.cosh(S))/Y}}const G={calculatedDuration:w&&v||null,next:Y=>{const z=P(Y);if(w)d.done=Y>=v;else{let A=Y===0?j:0;I<1&&(A=Y===0?ps(j):TS(P,Y,z));const S=Math.abs(A)<=r,N=Math.abs(c-z)<=o;d.done=S&&N}return d.value=d.done?c:z,d},toString:()=>{const Y=Math.min(hy(G),af),z=xS(A=>G.next(Y*A).value,Y,30);return Y+"ms "+z},toTransition:()=>{}};return G}of.applyToOptions=e=>{const t=IM(e,100,of);return e.ease=t.ease,e.duration=ps(t.duration),e.type="keyframes",e};function Kp({keyframes:e,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const v=e[0],x={done:!1,value:v},w=S=>d!==void 0&&S<d||m!==void 0&&S>m,j=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let I=i*t;const D=v+I,k=c===void 0?D:c(D);k!==D&&(I=k-v);const B=S=>-I*Math.exp(-S/r),P=S=>k+B(S),G=S=>{const N=B(S),L=P(S);x.done=Math.abs(N)<=p,x.value=x.done?k:L};let Y,z;const A=S=>{w(x.value)&&(Y=S,z=of({keyframes:[x.value,j(x.value)],velocity:TS(P,S,x.value),damping:o,stiffness:u,restDelta:p,restSpeed:y}))};return A(0),{calculatedDuration:null,next:S=>{let N=!1;return!z&&Y===void 0&&(N=!0,G(S),A(S)),Y!==void 0&&S>=Y?z.next(S-Y):(!N&&G(S),x)}}}function BM(e,t,i){const r=[],o=i||Ks.mix||_S,u=e.length-1;for(let c=0;c<u;c++){let d=o(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Di:t;d=Gu(m,d)}r.push(d)}return r}function FM(e,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=e.length;if(ny(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=BM(t,r,o),m=d.length,p=y=>{if(c&&y<e[0])return t[0];let v=0;if(m>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const x=Mu(e[v],e[v+1],y);return d[v](x)};return i?y=>p(Gs(e[0],e[u-1],y)):p}function HM(e,t){const i=e[e.length-1];for(let r=1;r<=t;r++){const o=Mu(0,t,r);e.push(Se(i,1,o))}}function qM(e){const t=[0];return HM(t,e.length-1),t}function GM(e,t){return e.map(i=>i*t)}function KM(e,t){return e.map(()=>t||uS).splice(0,e.length-1)}function mu({duration:e=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=iM(r)?r.map(A_):A_(r),u={done:!1,value:t[0]},c=GM(i&&i.length===t.length?i:qM(t),e),d=FM(c,t,{ease:Array.isArray(o)?o:KM(t,o)});return{calculatedDuration:e,next:m=>(u.value=d(m),u.done=m>=e,u)}}const YM=e=>e!==null;function fy(e,{repeat:t,repeatType:i="loop"},r,o=1){const u=e.filter(YM),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const XM={decay:Kp,inertia:Kp,tween:mu,keyframes:mu,spring:of};function ES(e){typeof e.type=="string"&&(e.type=XM[e.type])}class dy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const QM=e=>e/100;class my extends dy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==$n.now()&&this.tick($n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ES(t);const{type:i=mu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const m=i||mu;m!==mu&&typeof d[0]!="number"&&(this.mixKeyframes=Gu(QM,_S(d[0],d[1])),d=[0,100]);const p=m({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=hy(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:x,repeatDelay:w,type:j,onUpdate:I,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const k=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?k<0:k>o;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let P=this.currentTime,G=r;if(v){const S=Math.min(this.currentTime,o)/d;let N=Math.floor(S),L=S%1;!L&&S>=1&&(L=1),L===1&&N--,N=Math.min(N,v+1),N%2&&(x==="reverse"?(L=1-L,w&&(L-=w/d)):x==="mirror"&&(G=c)),P=Gs(0,1,L)*d}const Y=B?{done:!1,value:y[0]}:G.next(P);u&&(Y.value=u(Y.value));let{done:z}=Y;!B&&m!==null&&(z=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return A&&j!==Kp&&(Y.value=fy(y,this.options,D,this.speed)),I&&I(Y.value),A&&this.finish(),Y}then(t,i){return this.finished.then(t,i)}get duration(){return Ri(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ri(t)}get time(){return Ri(this.currentTime)}set time(t){t=ps(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime($n.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=VM,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function $M(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ta=e=>e*180/Math.PI,Yp=e=>{const t=Ta(Math.atan2(e[1],e[0]));return Xp(t)},ZM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Yp,rotateZ:Yp,skewX:e=>Ta(Math.atan(e[1])),skewY:e=>Ta(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Xp=e=>(e=e%360,e<0&&(e+=360),e),M_=Yp,V_=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),I_=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),JM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:V_,scaleY:I_,scale:e=>(V_(e)+I_(e))/2,rotateX:e=>Xp(Ta(Math.atan2(e[6],e[5]))),rotateY:e=>Xp(Ta(Math.atan2(-e[2],e[0]))),rotateZ:M_,rotate:M_,skewX:e=>Ta(Math.atan(e[4])),skewY:e=>Ta(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Qp(e){return e.includes("scale")?1:0}function $p(e,t){if(!e||e==="none")return Qp(t);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=JM,o=i;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ZM,o=d}if(!o)return Qp(t);const u=r[t],c=o[1].split(",").map(tV);return typeof u=="function"?u(c):c[u]}const WM=(e,t)=>{const{transform:i="none"}=getComputedStyle(e);return $p(i,t)};function tV(e){return parseFloat(e.trim())}const $o=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zo=new Set($o),O_=e=>e===Qo||e===Rt,eV=new Set(["x","y","z"]),nV=$o.filter(e=>!eV.has(e));function iV(e){const t=[];return nV.forEach(i=>{const r=e.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const Sa={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>$p(t,"x"),y:(e,{transform:t})=>$p(t,"y")};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const Aa=new Set;let Zp=!1,Jp=!1,Wp=!1;function SS(){if(Jp){const e=Array.from(Aa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=iV(r);o.length&&(i.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jp=!1,Zp=!1,Aa.forEach(e=>e.complete(Wp)),Aa.clear()}function AS(){Aa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Jp=!0)})}function sV(){Wp=!0,AS(),SS(),Wp=!1}class py{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Aa.add(this),Zp||(Zp=!0,_e.read(AS),_e.resolveKeyframes(SS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}$M(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Aa.delete(this)}cancel(){this.state==="scheduled"&&(Aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rV=e=>e.startsWith("--");function aV(e,t,i){rV(t)?e.style.setProperty(t,i):e.style[t]=i}const oV=iy(()=>window.ScrollTimeline!==void 0),lV={};function uV(e,t){const i=iy(e);return()=>lV[t]??i()}const wS=uV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ru=([e,t,i,r])=>`cubic-bezier(${e}, ${t}, ${i}, ${r})`,j_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ru([0,.65,.55,1]),circOut:ru([.55,0,1,.45]),backIn:ru([.31,.01,.66,-.59]),backOut:ru([.33,1.53,.69,.99])};function CS(e,t){if(e)return typeof e=="function"?wS()?xS(e,t):"ease-out":cS(e)?ru(e):Array.isArray(e)?e.map(i=>CS(i,t)||j_.easeOut):j_[e]}function cV(e,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[t]:i};m&&(y.offset=m);const v=CS(d,o);Array.isArray(v)&&(y.easing=v);const x={delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),e.animate(y,x)}function RS(e){return typeof e=="function"&&"applyToOptions"in e}function hV({type:e,...t}){return RS(e)&&wS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class fV extends dy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,ny(typeof t.type!="string");const p=hV(t);this.animation=cV(i,r,o,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=fy(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):aV(i,r,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ri(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ri(t)}get time(){return Ri(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ps(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&oV()?(this.animation.timeline=t,Di):i(this)}}const DS={anticipate:aS,backInOut:rS,circInOut:lS};function dV(e){return e in DS}function mV(e){typeof e.ease=="string"&&dV(e.ease)&&(e.ease=DS[e.ease])}const k_=10;class pV extends fV{constructor(t){mV(t),ES(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new my({...c,autoplay:!1}),m=ps(this.finishedTime??this.time);i.setWithVelocity(d.sample(m-k_).value,d.sample(m).value,k_),d.stop()}}const L_=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zr.test(e)||e==="0")&&!e.startsWith("url("));function gV(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function yV(e,t,i,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=L_(o,t),d=L_(u,t);return!c||!d?!1:gV(e)||(i==="spring"||RS(i))&&r}function tg(e){e.duration=0,e.type="keyframes"}const vV=new Set(["opacity","clipPath","filter","transform"]),bV=iy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _V(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return bV()&&i&&vV.has(i)&&(i!=="transform"||!p)&&!m&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const xV=40;class TV extends dy{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=$n.now();const x={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:m,motionValue:p,element:y,...v},w=y?.KeyframeResolver||py;this.keyframeResolver=new w(d,(j,I,D)=>this.onKeyframesResolved(j,I,x,!D),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=r;this.resolvedAt=$n.now(),yV(t,u,c,d)||((Ks.instantAnimations||!m)&&y?.(fy(t,r,i)),t[0]=t[t.length-1],tg(r),r.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>xV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},w=!p&&_V(x)?new pV({...x,element:x.motionValue.owner.current}):new my(x);w.finished.then(()=>this.notifyFinished()).catch(Di),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const EV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SV(e){const t=EV.exec(e);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function NS(e,t,i=1){const[r,o]=SV(e);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return ZE(c)?parseFloat(c):c}return oy(o)?NS(o,t,i+1):o}function gy(e,t){return e?.[t]??e?.default??e}const MS=new Set(["width","height","top","left","right","bottom",...$o]),AV={test:e=>e==="auto",parse:e=>e},VS=e=>t=>t.test(e),IS=[Qo,Rt,gs,Sr,gM,pM,AV],P_=e=>IS.find(VS(e));function wV(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||WE(e):!0}const CV=new Set(["brightness","contrast","saturate","opacity"]);function RV(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=i.match(ly)||[];if(!r)return e;const o=i.replace(r,"");let u=CV.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const DV=/\b([a-z-]*)\(.*?\)/gu,eg={...zr,getAnimatableNone:e=>{const t=e.match(DV);return t?t.map(RV).join(" "):e}},U_={...Qo,transform:Math.round},NV={rotate:Sr,rotateX:Sr,rotateY:Sr,rotateZ:Sr,scale:wh,scaleX:wh,scaleY:wh,scaleZ:wh,skew:Sr,skewX:Sr,skewY:Sr,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:Vu,originX:w_,originY:w_,originZ:Rt},yy={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt,...NV,zIndex:U_,fillOpacity:Vu,strokeOpacity:Vu,numOctaves:U_},MV={...yy,color:Ge,backgroundColor:Ge,outlineColor:Ge,fill:Ge,stroke:Ge,borderColor:Ge,borderTopColor:Ge,borderRightColor:Ge,borderBottomColor:Ge,borderLeftColor:Ge,filter:eg,WebkitFilter:eg},OS=e=>MV[e];function jS(e,t){let i=OS(e);return i!==eg&&(i=zr),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const VV=new Set(["auto","none","0"]);function IV(e,t,i){let r=0,o;for(;r<e.length&&!o;){const u=e[r];typeof u=="string"&&!VV.has(u)&&Iu(u).values.length&&(o=e[r]),r++}if(o&&i)for(const u of t)e[u]=jS(i,o)}class OV extends py{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),oy(p))){const y=NS(p,i.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!MS.has(r)||t.length!==2)return;const[o,u]=t,c=P_(o),d=P_(u);if(c!==d)if(O_(c)&&O_(d))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else Sa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||wV(t[o]))&&r.push(o);r.length&&IV(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Sa[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function jV(e,t,i){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=i?.[e]??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const kS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function LS(e){return JE(e)&&"offsetHeight"in e}const z_=30,kV=e=>!isNaN(parseFloat(e));class LV{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=$n.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=$n.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new sy);const r=this.events[t].add(i);return t==="change"?()=>{r(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=$n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>z_)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,z_);return tS(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fo(e,t){return new LV(e,t)}const{schedule:vy}=hS(queueMicrotask,!1),zi={x:!1,y:!1};function PS(){return zi.x||zi.y}function PV(e){return e==="x"||e==="y"?zi[e]?null:(zi[e]=!0,()=>{zi[e]=!1}):zi.x||zi.y?null:(zi.x=zi.y=!0,()=>{zi.x=zi.y=!1})}function US(e,t){const i=jV(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function B_(e){return!(e.pointerType==="touch"||PS())}function UV(e,t,i={}){const[r,o,u]=US(e,i),c=d=>{if(!B_(d))return;const{target:m}=d,p=t(m,d);if(typeof p!="function"||!m)return;const y=v=>{B_(v)&&(p(v),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,o)};return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const zS=(e,t)=>t?e===t?!0:zS(e,t.parentElement):!1,by=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,zV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BV(e){return zV.has(e.tagName)||e.tabIndex!==-1}const Ph=new WeakSet;function F_(e){return t=>{t.key==="Enter"&&e(t)}}function rp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const FV=(e,t)=>{const i=e.currentTarget;if(!i)return;const r=F_(()=>{if(Ph.has(i))return;rp(i,"down");const o=F_(()=>{rp(i,"up")}),u=()=>rp(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function H_(e){return by(e)&&!PS()}function HV(e,t,i={}){const[r,o,u]=US(e,i),c=d=>{const m=d.currentTarget;if(!H_(d))return;Ph.add(m);const p=t(m,d),y=(w,j)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),Ph.has(m)&&Ph.delete(m),H_(w)&&typeof p=="function"&&p(w,{success:j})},v=w=>{y(w,m===window||m===document||i.useGlobalTarget||zS(m,w.target))},x=w=>{y(w,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",x,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),LS(d)&&(d.addEventListener("focus",p=>FV(p,o)),!BV(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function BS(e){return JE(e)&&"ownerSVGElement"in e}function qV(e){return BS(e)&&e.tagName==="svg"}const Rn=e=>!!(e&&e.getVelocity),GV=[...IS,Ge,zr],KV=e=>GV.find(VS(e)),_y=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function q_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function YV(...e){return t=>{let i=!1;const r=e.map(o=>{const u=q_(o,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():q_(e[o],null)}}}}function XV(...e){return V.useCallback(YV(...e),e)}class QV extends V.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=LS(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $V({children:e,isPresent:t,anchorX:i,root:r}){const o=V.useId(),u=V.useRef(null),c=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=V.useContext(_y),m=XV(u,e?.ref);return V.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:x,right:w}=c.current;if(t||!u.current||!p||!y)return;const j=i==="left"?`left: ${x}`:`right: ${w}`;u.current.dataset.motionPopId=o;const I=document.createElement("style");d&&(I.nonce=d);const D=r??document.head;return D.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${j}px !important;
            top: ${v}px !important;
          }
        `),()=>{D.contains(I)&&D.removeChild(I)}},[t]),E.jsx(QV,{isPresent:t,childRef:u,sizeRef:c,children:V.cloneElement(e,{ref:m})})}const ZV=({children:e,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,root:m})=>{const p=Jg(JV),y=V.useId();let v=!0,x=V.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:i,custom:o,onExitComplete:w=>{p.set(w,!0);for(const j of p.values())if(!j)return;r&&r()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[i,p,r]);return u&&v&&(x={...x}),V.useMemo(()=>{p.forEach((w,j)=>p.set(j,!1))},[i]),V.useEffect(()=>{!i&&!p.size&&r&&r()},[i]),c==="popLayout"&&(e=E.jsx($V,{isPresent:i,anchorX:d,root:m,children:e})),E.jsx(If.Provider,{value:x,children:e})};function JV(){return new Map}function FS(e=!0){const t=V.useContext(If);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=V.useId();V.useEffect(()=>{if(e)return o(u)},[e]);const c=V.useCallback(()=>e&&r&&r(u),[u,r,e]);return!i&&r?[!1,c]:[!0]}const Ch=e=>e.key||"";function G_(e){const t=[];return V.Children.forEach(e,i=>{V.isValidElement(i)&&t.push(i)}),t}const Cr=({children:e,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[p,y]=FS(c),v=V.useMemo(()=>G_(e),[e]),x=c&&!p?[]:v.map(Ch),w=V.useRef(!0),j=V.useRef(v),I=Jg(()=>new Map),[D,k]=V.useState(v),[B,P]=V.useState(v);$E(()=>{w.current=!1,j.current=v;for(let z=0;z<B.length;z++){const A=Ch(B[z]);x.includes(A)?I.delete(A):I.get(A)!==!0&&I.set(A,!1)}},[B,x.length,x.join("-")]);const G=[];if(v!==D){let z=[...v];for(let A=0;A<B.length;A++){const S=B[A],N=Ch(S);x.includes(N)||(z.splice(A,0,S),G.push(S))}return u==="wait"&&G.length&&(z=G),P(G_(z)),k(v),null}const{forceRender:Y}=V.useContext(Zg);return E.jsx(E.Fragment,{children:B.map(z=>{const A=Ch(z),S=c&&!p?!1:v===B||x.includes(A),N=()=>{if(I.has(A))I.set(A,!0);else return;let L=!0;I.forEach(O=>{O||(L=!1)}),L&&(Y?.(),P(j.current),c&&y?.(),r&&r())};return E.jsx(ZV,{isPresent:S,initial:!w.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:m,onExitComplete:S?void 0:N,anchorX:d,children:z},A)})})},HS=V.createContext({strict:!1}),K_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ho={};for(const e in K_)Ho[e]={isEnabled:t=>K_[e].some(i=>!!t[i])};function WV(e){for(const t in e)Ho[t]={...Ho[t],...e[t]}}const t3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||t3.has(e)}let qS=e=>!lf(e);function e3(e){typeof e=="function"&&(qS=t=>t.startsWith("on")?!lf(t):e(t))}try{e3(require("@emotion/is-prop-valid").default)}catch{}function n3(e,t,i){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(qS(o)||i===!0&&lf(o)||!t&&!lf(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}const Of=V.createContext({});function jf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ou(e){return typeof e=="string"||Array.isArray(e)}const xy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ty=["initial",...xy];function kf(e){return jf(e.animate)||Ty.some(t=>Ou(e[t]))}function GS(e){return!!(kf(e)||e.variants)}function i3(e,t){if(kf(e)){const{initial:i,animate:r}=e;return{initial:i===!1||Ou(i)?i:void 0,animate:Ou(r)?r:void 0}}return e.inherit!==!1?t:{}}function s3(e){const{initial:t,animate:i}=i3(e,V.useContext(Of));return V.useMemo(()=>({initial:t,animate:i}),[Y_(t),Y_(i)])}function Y_(e){return Array.isArray(e)?e.join(" "):e}function X_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const tu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Rt.test(e))e=parseFloat(e);else return e;const i=X_(e,t.target.x),r=X_(e,t.target.y);return`${i}% ${r}%`}},r3={correct:(e,{treeScale:t,projectionDelta:i})=>{const r=e,o=zr.parse(e);if(o.length>5)return r;const u=zr.createTransformer(e),c=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,m=i.y.scale*t.y;o[0+c]/=d,o[1+c]/=m;const p=Se(d,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),u(o)}},ng={borderRadius:{...tu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tu,borderTopRightRadius:tu,borderBottomLeftRadius:tu,borderBottomRightRadius:tu,boxShadow:r3};function KS(e,{layout:t,layoutId:i}){return Zo.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!ng[e]||e==="opacity")}const a3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},o3=$o.length;function l3(e,t,i){let r="",o=!0;for(let u=0;u<o3;u++){const c=$o[u],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||i){const p=kS(d,yy[c]);if(!m){o=!1;const y=a3[c]||c;r+=`${y}(${p}) `}i&&(t[c]=p)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function Ey(e,t,i){const{style:r,vars:o,transformOrigin:u}=e;let c=!1,d=!1;for(const m in t){const p=t[m];if(Zo.has(m)){c=!0;continue}else if(dS(m)){o[m]=p;continue}else{const y=kS(p,yy[m]);m.startsWith("origin")?(d=!0,u[m]=y):r[m]=y}}if(t.transform||(c||i?r.transform=l3(t,e.transform,i):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=u;r.transformOrigin=`${m} ${p} ${y}`}}const Sy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YS(e,t,i){for(const r in t)!Rn(t[r])&&!KS(r,i)&&(e[r]=t[r])}function u3({transformTemplate:e},t){return V.useMemo(()=>{const i=Sy();return Ey(i,t,e),Object.assign({},i.vars,i.style)},[t])}function c3(e,t){const i=e.style||{},r={};return YS(r,i,e),Object.assign(r,u3(e,t)),r}function h3(e,t){const i={},r=c3(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=r,i}const f3={offset:"stroke-dashoffset",array:"stroke-dasharray"},d3={offset:"strokeDashoffset",array:"strokeDasharray"};function m3(e,t,i=1,r=0,o=!0){e.pathLength=1;const u=o?f3:d3;e[u.offset]=Rt.transform(-r);const c=Rt.transform(t),d=Rt.transform(i);e[u.array]=`${c} ${d}`}function XS(e,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},m,p,y){if(Ey(e,d,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:x}=e;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),i!==void 0&&(v.y=i),r!==void 0&&(v.scale=r),o!==void 0&&m3(v,o,u,c,!1)}const QS=()=>({...Sy(),attrs:{}}),$S=e=>typeof e=="string"&&e.toLowerCase()==="svg";function p3(e,t,i,r){const o=V.useMemo(()=>{const u=QS();return XS(u,t,$S(r),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};YS(u,e.style,e),o.style={...u,...o.style}}return o}const g3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ay(e){return typeof e!="string"||e.includes("-")?!1:!!(g3.indexOf(e)>-1||/[A-Z]/u.test(e))}function y3(e,t,i,{latestValues:r},o,u=!1){const d=(Ay(e)?p3:h3)(t,r,o,e),m=n3(t,typeof e=="string",u),p=e!==V.Fragment?{...m,...d,ref:i}:{},{children:y}=t,v=V.useMemo(()=>Rn(y)?y.get():y,[y]);return V.createElement(e,{...p,children:v})}function Q_(e){const t=[{},{}];return e?.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function wy(e,t,i,r){if(typeof t=="function"){const[o,u]=Q_(r);t=t(i!==void 0?i:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=Q_(r);t=t(i!==void 0?i:e.custom,o,u)}return t}function Uh(e){return Rn(e)?e.get():e}function v3({scrapeMotionValuesFromProps:e,createRenderState:t},i,r,o){return{latestValues:b3(i,r,o,e),renderState:t()}}function b3(e,t,i,r){const o={},u=r(e,{});for(const x in u)o[x]=Uh(u[x]);let{initial:c,animate:d}=e;const m=kf(e),p=GS(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=i?i.initial===!1:!1;y=y||c===!1;const v=y?d:c;if(v&&typeof v!="boolean"&&!jf(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const j=wy(e,x[w]);if(j){const{transitionEnd:I,transition:D,...k}=j;for(const B in k){let P=k[B];if(Array.isArray(P)){const G=y?P.length-1:0;P=P[G]}P!==null&&(o[B]=P)}for(const B in I)o[B]=I[B]}}}return o}const ZS=e=>(t,i)=>{const r=V.useContext(Of),o=V.useContext(If),u=()=>v3(e,t,r,o);return i?u():Jg(u)};function Cy(e,t,i){const{style:r}=e,o={};for(const u in r)(Rn(r[u])||t.style&&Rn(t.style[u])||KS(u,e)||i?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const _3=ZS({scrapeMotionValuesFromProps:Cy,createRenderState:Sy});function JS(e,t,i){const r=Cy(e,t,i);for(const o in e)if(Rn(e[o])||Rn(t[o])){const u=$o.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=e[o]}return r}const x3=ZS({scrapeMotionValuesFromProps:JS,createRenderState:QS}),T3=Symbol.for("motionComponentSymbol");function wo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function E3(e,t,i){return V.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):wo(i)&&(i.current=r))},[t])}const Ry=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),S3="framerAppearId",WS="data-"+Ry(S3),tA=V.createContext({});function A3(e,t,i,r,o){const{visualElement:u}=V.useContext(Of),c=V.useContext(HS),d=V.useContext(If),m=V.useContext(_y).reducedMotion,p=V.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,v=V.useContext(tA);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&w3(p.current,i,o,v);const x=V.useRef(!1);V.useInsertionEffect(()=>{y&&x.current&&y.update(i,d)});const w=i[WS],j=V.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return $E(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),j.current&&y.animationState&&y.animationState.animateChanges())}),V.useEffect(()=>{y&&(!j.current&&y.animationState&&y.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),j.current=!1),y.enteringChildren=void 0)}),y}function w3(e,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:eA(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&wo(d),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function eA(e){if(e)return e.options.allowProjection!==!1?e.projection:eA(e.parent)}function ap(e,{forwardMotionProps:t=!1}={},i,r){i&&WV(i);const o=Ay(e)?x3:_3;function u(d,m){let p;const y={...V.useContext(_y),...d,layoutId:C3(d)},{isStatic:v}=y,x=s3(d),w=o(d,v);if(!v&&Wg){R3();const j=D3(y);p=j.MeasureLayout,x.visualElement=A3(e,w,y,r,j.ProjectionNode)}return E.jsxs(Of.Provider,{value:x,children:[p&&x.visualElement?E.jsx(p,{visualElement:x.visualElement,...y}):null,y3(e,d,E3(w,x.visualElement,m),w,v,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=V.forwardRef(u);return c[T3]=e,c}function C3({layoutId:e}){const t=V.useContext(Zg).id;return t&&e!==void 0?t+"-"+e:e}function R3(e,t){V.useContext(HS).strict}function D3(e){const{drag:t,layout:i}=Ho;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t?.isEnabled(e)||i?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function N3(e,t){if(typeof Proxy>"u")return ap;const i=new Map,r=(u,c)=>ap(u,c,e,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,ap(c,void 0,e,t)),i.get(c))})}function nA({top:e,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:e,max:r}}}function M3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function V3(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function op(e){return e===void 0||e===1}function ig({scale:e,scaleX:t,scaleY:i}){return!op(e)||!op(t)||!op(i)}function ba(e){return ig(e)||iA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iA(e){return $_(e.x)||$_(e.y)}function $_(e){return e&&e!=="0%"}function uf(e,t,i){const r=e-i,o=t*r;return i+o}function Z_(e,t,i,r,o){return o!==void 0&&(e=uf(e,o,r)),uf(e,i,r)+t}function sg(e,t=0,i=1,r,o){e.min=Z_(e.min,t,i,r,o),e.max=Z_(e.max,t,i,r,o)}function sA(e,{x:t,y:i}){sg(e.x,t.translate,t.scale,t.originPoint),sg(e.y,i.translate,i.scale,i.originPoint)}const J_=.999999999999,W_=1.0000000000001;function I3(e,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=i[d],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ro(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,sA(e,c)),r&&ba(u.latestValues)&&Ro(e,u.latestValues))}t.x<W_&&t.x>J_&&(t.x=1),t.y<W_&&t.y>J_&&(t.y=1)}function Co(e,t){e.min=e.min+t,e.max=e.max+t}function tx(e,t,i,r,o=.5){const u=Se(e.min,e.max,o);sg(e,t,i,u,r)}function Ro(e,t){tx(e.x,t.x,t.scaleX,t.scale,t.originX),tx(e.y,t.y,t.scaleY,t.scale,t.originY)}function rA(e,t){return nA(V3(e.getBoundingClientRect(),t))}function O3(e,t,i){const r=rA(e,i),{scroll:o}=t;return o&&(Co(r.x,o.offset.x),Co(r.y,o.offset.y)),r}const ex=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:ex(),y:ex()}),nx=()=>({min:0,max:0}),$e=()=>({x:nx(),y:nx()}),rg={current:null},aA={current:!1};function j3(){if(aA.current=!0,!!Wg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rg.current=e.matches;e.addEventListener("change",t),t()}else rg.current=!1}const k3=new WeakMap;function L3(e,t,i){for(const r in t){const o=t[r],u=i[r];if(Rn(o))e.addValue(r,o);else if(Rn(u))e.addValue(r,Fo(o,{owner:e}));else if(u!==o)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(r);e.addValue(r,Fo(c!==void 0?c:o,{owner:e}))}}for(const r in i)t[r]===void 0&&e.removeValue(r);return t}const ix=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class P3{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=py,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=$n.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,_e.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=i.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=kf(i),this.isVariantNode=GS(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(i,{},this);for(const x in v){const w=v[x];m[x]!==void 0&&Rn(w)&&w.set(m[x])}}mount(t){this.current=t,k3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),aA.current||j3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ur(this.notifyUpdate),Ur(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Zo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&_e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ho){const i=Ho[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<ix.length;r++){const o=ix[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=L3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=Fo(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(ZE(r)||WE(r))?r=parseFloat(r):!KV(r)&&zr.test(i)&&(r=jS(t,i)),this.setBaseTarget(t,Rn(r)?r.get():r)),Rn(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=wy(this.props,i,this.presenceContext?.custom);u&&(r=u[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Rn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new sy),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){vy.render(this.render)}}class oA extends P3{constructor(){super(...arguments),this.KeyframeResolver=OV}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Rn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function lA(e,{style:t,vars:i},r,o){const u=e.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function U3(e){return window.getComputedStyle(e)}class z3 extends oA{constructor(){super(...arguments),this.type="html",this.renderInstance=lA}readValueFromInstance(t,i){if(Zo.has(i))return this.projection?.isProjecting?Qp(i):WM(t,i);{const r=U3(t),o=(dS(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return rA(t,i)}build(t,i,r){Ey(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Cy(t,i,r)}}const uA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function B3(e,t,i,r){lA(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(uA.has(o)?o:Ry(o),t.attrs[o])}class F3 extends oA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$e}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(Zo.has(i)){const r=OS(i);return r&&r.default||0}return i=uA.has(i)?i:Ry(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return JS(t,i,r)}build(t,i,r){XS(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){B3(t,i,r,o)}mount(t){this.isSVGTag=$S(t.tagName),super.mount(t)}}const H3=(e,t)=>Ay(e)?new F3(t):new z3(t,{allowProjection:e!==V.Fragment});function Oo(e,t,i){const r=e.getProps();return wy(r,t,i!==void 0?i:r.custom,e)}const ag=e=>Array.isArray(e);function q3(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,Fo(i))}function G3(e){return ag(e)?e[e.length-1]||0:e}function K3(e,t){const i=Oo(e,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const d=G3(u[c]);q3(e,c,d)}}function Y3(e){return!!(Rn(e)&&e.add)}function og(e,t){const i=e.getValue("willChange");if(Y3(i))return i.add(t);if(!i&&Ks.WillChange){const r=new Ks.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function cA(e){return e.props[WS]}const X3=e=>e!==null;function Q3(e,{repeat:t,repeatType:i="loop"},r){const o=e.filter(X3),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const $3={type:"spring",stiffness:500,damping:25,restSpeed:10},Z3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),J3={type:"keyframes",duration:.8},W3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tI=(e,{keyframes:t})=>t.length>2?J3:Zo.has(e)?e.startsWith("scale")?Z3(t[1]):$3:W3;function eI({when:e,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Dy=(e,t,i,r={},o,u)=>c=>{const d=gy(r,e)||{},m=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ps(m);const y={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:x=>{t.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:u?void 0:o};eI(d)||Object.assign(y,tI(e,y)),y.duration&&(y.duration=ps(y.duration)),y.repeatDelay&&(y.repeatDelay=ps(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(tg(y),y.delay===0&&(v=!0)),(Ks.instantAnimations||Ks.skipAnimations)&&(v=!0,tg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,v&&!u&&t.get()!==void 0){const x=Q3(y.keyframes,d);if(x!==void 0){_e.update(()=>{y.onUpdate(x),y.onComplete()});return}}return d.isSync?new my(y):new TV(y)};function nI({protectedKeys:e,needsAnimating:t},i){const r=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function hA(e,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(u=r);const m=[],p=o&&e.animationState&&e.animationState.getState()[o];for(const y in d){const v=e.getValue(y,e.latestValues[y]??null),x=d[y];if(x===void 0||p&&nI(p,y))continue;const w={delay:i,...gy(u||{},y)},j=v.get();if(j!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===j&&!w.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const k=cA(e);if(k){const B=window.MotionHandoffAnimation(k,y,_e);B!==null&&(w.startTime=B,I=!0)}}og(e,y),v.start(Dy(y,v,x,e.shouldReduceMotion&&MS.has(y)?{type:!1}:w,e,I));const D=v.animation;D&&m.push(D)}return c&&Promise.all(m).then(()=>{_e.update(()=>{c&&K3(e,c)})}),m}function fA(e,t,i,r=0,o=1){const u=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:d-u*r}function lg(e,t,i={}){const r=Oo(e,t,i.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(hA(e,r,i)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=o;return iI(e,t,m,p,y,v,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[m,p]=d==="beforeChildren"?[u,c]:[c,u];return m().then(()=>p())}else return Promise.all([u(),c(i.delay)])}function iI(e,t,i=0,r=0,o=0,u=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(lg(m,t,{...c,delay:i+(typeof r=="function"?0:r)+fA(e.variantChildren,m,r,o,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function sI(e,t,i={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>lg(e,u,i));r=Promise.all(o)}else if(typeof t=="string")r=lg(e,t,i);else{const o=typeof t=="function"?Oo(e,t,i.custom):t;r=Promise.all(hA(e,o,i))}return r.then(()=>{e.notify("AnimationComplete",t)})}function dA(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0}const rI=Ty.length;function mA(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?mA(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<rI;i++){const r=Ty[i],o=e.props[r];(Ou(o)||o===!1)&&(t[r]=o)}return t}const aI=[...xy].reverse(),oI=xy.length;function lI(e){return t=>Promise.all(t.map(({animation:i,options:r})=>sI(e,i,r)))}function uI(e){let t=lI(e),i=sx(),r=!0;const o=m=>(p,y)=>{const v=Oo(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:w,...j}=v;p={...p,...j,...w}}return p};function u(m){t=m(e)}function c(m){const{props:p}=e,y=mA(e.parent)||{},v=[],x=new Set;let w={},j=1/0;for(let D=0;D<oI;D++){const k=aI[D],B=i[k],P=p[k]!==void 0?p[k]:y[k],G=Ou(P),Y=k===m?B.isActive:null;Y===!1&&(j=D);let z=P===y[k]&&P!==p[k]&&G;if(z&&r&&e.manuallyAnimateOnMount&&(z=!1),B.protectedKeys={...w},!B.isActive&&Y===null||!P&&!B.prevProp||jf(P)||typeof P=="boolean")continue;const A=cI(B.prevProp,P);let S=A||k===m&&B.isActive&&!z&&G||D>j&&G,N=!1;const L=Array.isArray(P)?P:[P];let O=L.reduce(o(k),{});Y===!1&&(O={});const{prevResolvedValues:q={}}=B,M={...q,...O},Ct=st=>{S=!0,x.has(st)&&(N=!0,x.delete(st)),B.needsAnimating[st]=!0;const ft=e.getValue(st);ft&&(ft.liveStyle=!1)};for(const st in M){const ft=O[st],yt=q[st];if(w.hasOwnProperty(st))continue;let pt=!1;ag(ft)&&ag(yt)?pt=!dA(ft,yt):pt=ft!==yt,pt?ft!=null?Ct(st):x.add(st):ft!==void 0&&x.has(st)?Ct(st):B.protectedKeys[st]=!0}B.prevProp=P,B.prevResolvedValues=O,B.isActive&&(w={...w,...O}),r&&e.blockInitialAnimation&&(S=!1);const Pt=z&&A;S&&(!Pt||N)&&v.push(...L.map(st=>{const ft={type:k};if(typeof st=="string"&&r&&!Pt&&e.manuallyAnimateOnMount&&e.parent){const{parent:yt}=e,pt=Oo(yt,st);if(yt.enteringChildren&&pt){const{delayChildren:F}=pt.transition||{};ft.delay=fA(yt.enteringChildren,e,F)}}return{animation:st,options:ft}}))}if(x.size){const D={};if(typeof p.initial!="boolean"){const k=Oo(e,Array.isArray(p.initial)?p.initial[0]:p.initial);k&&k.transition&&(D.transition=k.transition)}x.forEach(k=>{const B=e.getBaseTarget(k),P=e.getValue(k);P&&(P.liveStyle=!0),D[k]=B??null}),v.push({animation:D})}let I=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(I=!1),r=!1,I?t(v):Promise.resolve()}function d(m,p){if(i[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),i[m].isActive=p;const y=c(m);for(const v in i)i[v].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=sx()}}}function cI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dA(t,e):!1}function ga(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sx(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}class Fr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class hI extends Fr{constructor(t){super(t),t.animationState||(t.animationState=uI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();jf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let fI=0;class dI extends Fr{constructor(){super(...arguments),this.id=fI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const mI={animation:{Feature:hI},exit:{Feature:dI}};function ju(e,t,i,r={passive:!0}){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i)}function Xu(e){return{point:{x:e.pageX,y:e.pageY}}}const pI=e=>t=>by(t)&&e(t,Xu(t));function pu(e,t,i,r){return ju(e,t,pI(i),r)}const pA=1e-4,gI=1-pA,yI=1+pA,gA=.01,vI=0-gA,bI=0+gA;function Ln(e){return e.max-e.min}function _I(e,t,i){return Math.abs(e-t)<=i}function rx(e,t,i,r=.5){e.origin=r,e.originPoint=Se(t.min,t.max,e.origin),e.scale=Ln(i)/Ln(t),e.translate=Se(i.min,i.max,e.origin)-e.originPoint,(e.scale>=gI&&e.scale<=yI||isNaN(e.scale))&&(e.scale=1),(e.translate>=vI&&e.translate<=bI||isNaN(e.translate))&&(e.translate=0)}function gu(e,t,i,r){rx(e.x,t.x,i.x,r?r.originX:void 0),rx(e.y,t.y,i.y,r?r.originY:void 0)}function ax(e,t,i){e.min=i.min+t.min,e.max=e.min+Ln(t)}function xI(e,t,i){ax(e.x,t.x,i.x),ax(e.y,t.y,i.y)}function ox(e,t,i){e.min=t.min-i.min,e.max=e.min+Ln(t)}function cf(e,t,i){ox(e.x,t.x,i.x),ox(e.y,t.y,i.y)}function Ei(e){return[e("x"),e("y")]}const yA=({current:e})=>e?e.ownerDocument.defaultView:null,lx=(e,t)=>Math.abs(e-t);function TI(e,t){const i=lx(e.x,t.x),r=lx(e.y,t.y);return Math.sqrt(i**2+r**2)}class vA{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=up(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,j=TI(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!j)return;const{point:I}=x,{timestamp:D}=mn;this.history.push({...I,timestamp:D});const{onStart:k,onMove:B}=this.handlers;w||(k&&k(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,x)},this.handlePointerMove=(x,w)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=lp(w,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(x,w)=>{this.end();const{onEnd:j,onSessionEnd:I,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=up(x.type==="pointercancel"?this.lastMoveEventInfo:lp(w,this.transformPagePoint),this.history);this.startEvent&&j&&j(x,k),I&&I(x,k)},!by(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const d=Xu(t),m=lp(d,this.transformPagePoint),{point:p}=m,{timestamp:y}=mn;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=i;v&&v(t,up(m,this.history)),this.removeListeners=Gu(pu(this.contextWindow,"pointermove",this.handlePointerMove),pu(this.contextWindow,"pointerup",this.handlePointerUp),pu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ur(this.updatePoint)}}function lp(e,t){return t?{point:t(e.point)}:e}function ux(e,t){return{x:e.x-t.x,y:e.y-t.y}}function up({point:e},t){return{point:e,delta:ux(e,bA(t)),offset:ux(e,EI(t)),velocity:SI(t,.1)}}function EI(e){return e[0]}function bA(e){return e[e.length-1]}function SI(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,r=null;const o=bA(e);for(;i>=0&&(r=e[i],!(o.timestamp-r.timestamp>ps(t)));)i--;if(!r)return{x:0,y:0};const u=Ri(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function AI(e,{min:t,max:i},r){return t!==void 0&&e<t?e=r?Se(t,e,r.min):Math.max(e,t):i!==void 0&&e>i&&(e=r?Se(i,e,r.max):Math.min(e,i)),e}function cx(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function wI(e,{top:t,left:i,bottom:r,right:o}){return{x:cx(e.x,i,o),y:cx(e.y,t,r)}}function hx(e,t){let i=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,r]=[r,i]),{min:i,max:r}}function CI(e,t){return{x:hx(e.x,t.x),y:hx(e.y,t.y)}}function RI(e,t){let i=.5;const r=Ln(e),o=Ln(t);return o>r?i=Mu(t.min,t.max-r,e.min):r>o&&(i=Mu(e.min,e.max-o,t.min)),Gs(0,1,i)}function DI(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const ug=.35;function NI(e=ug){return e===!1?e=0:e===!0&&(e=ug),{x:fx(e,"left","right"),y:fx(e,"top","bottom")}}function fx(e,t,i){return{min:dx(e,t),max:dx(e,i)}}function dx(e,t){return typeof e=="number"?e:e[t]||0}const MI=new WeakMap;class VI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Xu(v).point)},c=(v,x)=>{const{drag:w,dragPropagation:j,onDragStart:I}=this.getProps();if(w&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PV(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ei(k=>{let B=this.getAxisMotionValue(k).get()||0;if(gs.test(B)){const{projection:P}=this.visualElement;if(P&&P.layout){const G=P.layout.layoutBox[k];G&&(B=Ln(G)*(parseFloat(B)/100))}}this.originPoint[k]=B}),I&&_e.postRender(()=>I(v,x)),og(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},d=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:w,dragDirectionLock:j,onDirectionLock:I,onDrag:D}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:k}=x;if(j&&this.currentDirection===null){this.currentDirection=II(k),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",x.point,k),this.updateAxis("y",x.point,k),this.visualElement.render(),D&&D(v,x)},m=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ei(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new vA(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:yA(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&_e.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!Rh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=AI(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&wo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=wI(r.layoutBox,t):this.constraints=!1,this.elastic=NI(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ei(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=DI(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!wo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=O3(r,o.root,this.visualElement.getTransformPagePoint());let c=CI(o.layout.layoutBox,u);if(i){const d=i(M3(c));this.hasMutatedConstraints=!!d,d&&(c=nA(d))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Ei(y=>{if(!Rh(y,i,this.currentDirection))return;let v=m&&m[y]||{};c&&(v={min:0,max:0});const x=o?200:1e6,w=o?40:1e7,j={type:"inertia",velocity:r?t[y]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(y,j)});return Promise.all(p).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return og(this.visualElement,t),r.start(Dy(t,r,0,i,this.visualElement,!1))}stopAnimation(){Ei(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ei(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ei(i=>{const{drag:r}=this.getProps();if(!Rh(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[i];u.set(t[i]-Se(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!wo(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ei(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();o[c]=RI({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ei(c=>{if(!Rh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(Se(m,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;MI.set(this.visualElement,this);const t=this.visualElement.current,i=pu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();wo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),_e.read(r);const c=ju(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ei(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=m[y].translate,v.set(v.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=ug,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Rh(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function II(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class OI extends Fr{constructor(t){super(t),this.removeGroupControls=Di,this.removeListeners=Di,this.controls=new VI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Di}unmount(){this.removeGroupControls(),this.removeListeners()}}const mx=e=>(t,i)=>{e&&_e.postRender(()=>e(t,i))};class jI extends Fr{constructor(){super(...arguments),this.removePointerDownListener=Di}onPointerDown(t){this.session=new vA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:mx(t),onStart:mx(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&_e.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=pu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let cp=!1;class kI extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),cp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),zh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,cp=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||_e.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;cp=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _A(e){const[t,i]=FS(),r=V.useContext(Zg);return E.jsx(kI,{...e,layoutGroup:r,switchLayoutGroup:V.useContext(tA),isPresent:t,safeToRemove:i})}function LI(e,t,i){const r=Rn(e)?e:Fo(e);return r.start(Dy("",r,t,i)),r.animation}const PI=(e,t)=>e.depth-t.depth;class UI{constructor(){this.children=[],this.isDirty=!1}add(t){ty(this.children,t),this.isDirty=!0}remove(t){ey(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(PI),this.isDirty=!1,this.children.forEach(t)}}function zI(e,t){const i=$n.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(Ur(r),e(u-t))};return _e.setup(r,!0),()=>Ur(r)}const xA=["TopLeft","TopRight","BottomLeft","BottomRight"],BI=xA.length,px=e=>typeof e=="string"?parseFloat(e):e,gx=e=>typeof e=="number"||Rt.test(e);function FI(e,t,i,r,o,u){o?(e.opacity=Se(0,i.opacity??1,HI(r)),e.opacityExit=Se(t.opacity??1,0,qI(r))):u&&(e.opacity=Se(t.opacity??1,i.opacity??1,r));for(let c=0;c<BI;c++){const d=`border${xA[c]}Radius`;let m=yx(t,d),p=yx(i,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||gx(m)===gx(p)?(e[d]=Math.max(Se(px(m),px(p),r),0),(gs.test(p)||gs.test(m))&&(e[d]+="%")):e[d]=p}(t.rotate||i.rotate)&&(e.rotate=Se(t.rotate||0,i.rotate||0,r))}function yx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const HI=TA(0,.5,oS),qI=TA(.5,.95,Di);function TA(e,t,i){return r=>r<e?0:r>t?1:i(Mu(e,t,r))}function vx(e,t){e.min=t.min,e.max=t.max}function Ui(e,t){vx(e.x,t.x),vx(e.y,t.y)}function bx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _x(e,t,i,r,o){return e-=t,e=uf(e,1/i,r),o!==void 0&&(e=uf(e,1/o,r)),e}function GI(e,t=0,i=1,r=.5,o,u=e,c=e){if(gs.test(t)&&(t=parseFloat(t),t=Se(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Se(u.min,u.max,r);e===u&&(d-=t),e.min=_x(e.min,t,i,d,o),e.max=_x(e.max,t,i,d,o)}function xx(e,t,[i,r,o],u,c){GI(e,t[i],t[r],t[o],t.scale,u,c)}const KI=["x","scaleX","originX"],YI=["y","scaleY","originY"];function Tx(e,t,i,r){xx(e.x,t,KI,i?i.x:void 0,r?r.x:void 0),xx(e.y,t,YI,i?i.y:void 0,r?r.y:void 0)}function Ex(e){return e.translate===0&&e.scale===1}function EA(e){return Ex(e.x)&&Ex(e.y)}function Sx(e,t){return e.min===t.min&&e.max===t.max}function XI(e,t){return Sx(e.x,t.x)&&Sx(e.y,t.y)}function Ax(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function SA(e,t){return Ax(e.x,t.x)&&Ax(e.y,t.y)}function wx(e){return Ln(e.x)/Ln(e.y)}function Cx(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class QI{constructor(){this.members=[]}add(t){ty(this.members,t),t.scheduleRender()}remove(t){if(ey(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $I(e,t,i){let r="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=i?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:x,skewX:w,skewY:j}=i;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),w&&(r+=`skewX(${w}deg) `),j&&(r+=`skewY(${j}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const hp=["","X","Y","Z"],ZI=1e3;let JI=0;function fp(e,t,i,r){const{latestValues:o}=t;o[e]&&(i[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function AA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=cA(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",_e,!(o||u))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&AA(r)}function wA({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=JI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(e5),this.nodes.forEach(r5),this.nodes.forEach(a5),this.nodes.forEach(n5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new UI)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new sy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=BS(c)&&!qV(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,v=0;const x=()=>this.root.updateBlockedByResize=!1;_e.read(()=>{v=window.innerWidth}),e(c,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,y&&y(),y=zI(x,250),zh.hasAnimatedSinceResize&&(zh.hasAnimatedSinceResize=!1,this.nodes.forEach(Nx)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||h5,{onLayoutAnimationStart:I,onLayoutAnimationComplete:D}=p.getProps(),k=!this.targetLayout||!SA(this.targetLayout,w),B=!v&&x;if(this.options.layoutRoot||this.resumeFrom||B||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...gy(j,"layout"),onPlay:I,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(y,B)}else v||Nx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(o5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Dx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(s5),this.nodes.forEach(WI),this.nodes.forEach(t5)):this.nodes.forEach(Dx),this.clearAllSnapshots();const d=$n.now();mn.delta=Gs(0,1e3/60,d-mn.timestamp),mn.timestamp=d,mn.isProcessing=!0,tp.update.process(mn),tp.preRender.process(mn),tp.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(i5),this.sharedNodes.forEach(l5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ln(this.snapshot.measuredBox.x)&&!Ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!EA(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||ba(this.latestValues)||y)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),f5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return $e();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(d5))){const{scroll:p}=this.root;p&&(Co(d.x,p.offset.x),Co(d.y,p.offset.y))}return d}removeElementScroll(c){const d=$e();if(Ui(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ui(d,c),Co(d.x,y.offset.x),Co(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=$e();Ui(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ro(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ba(y.latestValues)&&Ro(m,y.latestValues)}return ba(this.latestValues)&&Ro(m,this.latestValues),m}removeTransform(c){const d=$e();Ui(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ba(p.latestValues))continue;ig(p.latestValues)&&p.updateSnapshot();const y=$e(),v=p.measurePageBox();Ui(y,v),Tx(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ba(this.latestValues)&&Tx(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=mn.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ui(this.target,this.layout.layoutBox),sA(this.target,this.targetDelta)):Ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ig(this.parent.latestValues)||iA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),cf(this.relativeTargetOrigin,d,m),Ui(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Ui(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;I3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=$e());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bx(this.prevProjectionDelta.x,this.projectionDelta.x),bx(this.prevProjectionDelta.y,this.projectionDelta.y)),gu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!Cx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Do(),this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},v=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=$e(),w=m?m.source:void 0,j=this.layout?this.layout.source:void 0,I=w!==j,D=this.getStack(),k=!D||D.members.length<=1,B=!!(I&&!k&&this.options.crossfade===!0&&!this.path.some(c5));this.animationProgress=0;let P;this.mixTargetDelta=G=>{const Y=G/1e3;Mx(v.x,c.x,Y),Mx(v.y,c.y,Y),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cf(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),u5(this.relativeTarget,this.relativeTargetOrigin,x,Y),P&&XI(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=$e()),Ui(P,this.relativeTarget)),I&&(this.animationValues=y,FI(y,p,this.latestValues,Y,B,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{zh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fo(0)),this.currentAnimation=LI(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&CA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||$e();const v=Ln(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+v;const x=Ln(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+x}Ui(d,m),Ro(d,y),gu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new QI),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&fp("z",c,p,this.animationValues);for(let y=0;y<hp.length;y++)fp(`rotate${hp[y]}`,c,p,this.animationValues),fp(`skew${hp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Uh(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Uh(d?.pointerEvents)||""),this.hasProjected&&!ba(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=$I(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),c.transform=v;const{x,y:w}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in ng){if(y[j]===void 0)continue;const{correct:I,applyTo:D,isCSSVariable:k}=ng[j],B=v==="none"?y[j]:I(y[j],p);if(D){const P=D.length;for(let G=0;G<P;G++)c[D[G]]=B}else k?this.options.visualElement.renderState.vars[j]=B:c[j]=B}this.options.layoutId&&(c.pointerEvents=p===this?Uh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Rx),this.root.sharedNodes.clear()}}}function WI(e){e.updateLayout()}function t5(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?Ei(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],x=Ln(v);v.min=i[y].min,v.max=v.min+x}):CA(o,t.layoutBox,i)&&Ei(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],x=Ln(i[y]);v.max=v.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+x)});const c=Do();gu(c,i,t.layoutBox);const d=Do();u?gu(d,e.applyTransform(r,!0),t.measuredBox):gu(d,i,t.layoutBox);const m=!EA(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:x}=y;if(v&&x){const w=$e();cf(w,t.layoutBox,v.layoutBox);const j=$e();cf(j,i,x.layoutBox),SA(w,j)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=w,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function e5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function n5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function i5(e){e.clearSnapshot()}function Rx(e){e.clearMeasurements()}function Dx(e){e.isLayoutDirty=!1}function s5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Nx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function r5(e){e.resolveTargetDelta()}function a5(e){e.calcProjection()}function o5(e){e.resetSkewAndRotation()}function l5(e){e.removeLeadSnapshot()}function Mx(e,t,i){e.translate=Se(t.translate,0,i),e.scale=Se(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function Vx(e,t,i,r){e.min=Se(t.min,i.min,r),e.max=Se(t.max,i.max,r)}function u5(e,t,i,r){Vx(e.x,t.x,i.x,r),Vx(e.y,t.y,i.y,r)}function c5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const h5={duration:.45,ease:[.4,0,.1,1]},Ix=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ox=Ix("applewebkit/")&&!Ix("chrome/")?Math.round:Di;function jx(e){e.min=Ox(e.min),e.max=Ox(e.max)}function f5(e){jx(e.x),jx(e.y)}function CA(e,t,i){return e==="position"||e==="preserve-aspect"&&!_I(wx(t),wx(i),.2)}function d5(e){return e!==e.root&&e.scroll?.wasRoot}const m5=wA({attachResizeListener:(e,t)=>ju(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dp={current:void 0},RA=wA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!dp.current){const e=new m5({});e.mount(window),e.setOptions({layoutScroll:!0}),dp.current=e}return dp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),p5={pan:{Feature:jI},drag:{Feature:OI,ProjectionNode:RA,MeasureLayout:_A}};function kx(e,t,i){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&_e.postRender(()=>u(t,Xu(t)))}class g5 extends Fr{mount(){const{current:t}=this.node;t&&(this.unmount=UV(t,(i,r)=>(kx(this.node,r,"Start"),o=>kx(this.node,o,"End"))))}unmount(){}}class y5 extends Fr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(ju(this.node.current,"focus",()=>this.onFocus()),ju(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Lx(e,t,i){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&_e.postRender(()=>u(t,Xu(t)))}class v5 extends Fr{mount(){const{current:t}=this.node;t&&(this.unmount=HV(t,(i,r)=>(Lx(this.node,r,"Start"),(o,{success:u})=>Lx(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cg=new WeakMap,mp=new WeakMap,b5=e=>{const t=cg.get(e.target);t&&t(e)},_5=e=>{e.forEach(b5)};function x5({root:e,...t}){const i=e||document;mp.has(i)||mp.set(i,{});const r=mp.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(_5,{root:e,...t})),r[o]}function T5(e,t,i){const r=x5(t);return cg.set(e,i),r.observe(e),()=>{cg.delete(e),r.unobserve(e)}}const E5={some:0,all:1};class S5 extends Fr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:E5[o]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),x=p?y:v;x&&x(m)};return T5(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(A5(t,i))&&this.startObserver()}unmount(){}}function A5({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const w5={inView:{Feature:S5},tap:{Feature:v5},focus:{Feature:y5},hover:{Feature:g5}},C5={layout:{ProjectionNode:RA,MeasureLayout:_A}},R5={...mI,...w5,...p5,...C5},Cn=N3(R5,H3);const D5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),Px=e=>{const t=N5(e);return t.charAt(0).toUpperCase()+t.slice(1)},DA=(...e)=>e.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),M5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var V5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const I5=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...d},m)=>V.createElement("svg",{ref:m,...V5,width:t,height:t,stroke:e,strokeWidth:r?Number(i)*24/Number(t):i,className:DA("lucide",o),...!u&&!M5(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>V.createElement(p,y)),...Array.isArray(u)?u:[u]]));const Lt=(e,t)=>{const i=V.forwardRef(({className:r,...o},u)=>V.createElement(I5,{ref:u,iconNode:t,className:DA(`lucide-${D5(Px(e))}`,`lucide-${e}`,r),...o}));return i.displayName=Px(e),i};const O5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],j5=Lt("arrow-left",O5);const k5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],L5=Lt("arrow-right",k5);const P5=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],U5=Lt("arrow-up-right",P5);const z5=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],B5=Lt("briefcase",z5);const F5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],H5=Lt("calendar",F5);const q5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hf=Lt("check",q5);const G5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],K5=Lt("circle",G5);const Y5=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],ku=Lt("cloud",Y5);const X5=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],NA=Lt("copy",X5);const Q5=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],$5=Lt("corner-down-left",Q5);const Z5=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],J5=Lt("database",Z5);const W5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],tO=Lt("download",W5);const eO=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],nO=Lt("ellipsis",eO);const iO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],sO=Lt("file-braces",iO);const rO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],aO=Lt("file-code",rO);const oO=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],lO=Lt("folder-open",oO);const uO=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Ux=Lt("folder",uO);const cO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hO=Lt("globe",cO);const fO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],dO=Lt("grid-3x3",fO);const mO=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],pO=Lt("grip-vertical",mO);const gO=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],zx=Lt("laptop",gO);const yO=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],hg=Lt("layout-grid",yO);const vO=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],bO=Lt("list",vO);const _O=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],MA=Lt("loader-circle",_O);const xO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],TO=Lt("lock",xO);const EO=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],SO=Lt("log-in",EO);const AO=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],wO=Lt("palette",AO);const CO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],VA=Lt("pen",CO);const RO=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Bx=Lt("pin",RO);const DO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fg=Lt("plus",DO);const NO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],MO=Lt("refresh-cw",NO);const VO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],au=Lt("search",VO);const IO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],OO=Lt("settings",IO);const jO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],IA=Lt("trash-2",jO);const kO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],LO=Lt("triangle-alert",kO);const PO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],UO=Lt("upload",PO);const zO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],BO=Lt("user",zO);const FO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dg=Lt("users",FO);const HO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ff=Lt("x",HO);var ou=rT();function qO(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return V.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Lf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ny(e){return"nodeType"in e}function Pn(e){var t,i;return e?Jo(e)?e:Ny(e)&&(t=(i=e.ownerDocument)==null?void 0:i.defaultView)!=null?t:window:window}function My(e){const{Document:t}=Pn(e);return e instanceof t}function Qu(e){return Jo(e)?!1:e instanceof Pn(e).HTMLElement}function OA(e){return e instanceof Pn(e).SVGElement}function Wo(e){return e?Jo(e)?e.document:Ny(e)?My(e)?e:Qu(e)||OA(e)?e.ownerDocument:document:document:document}const Fi=Lf?V.useLayoutEffect:V.useEffect;function Pf(e){const t=V.useRef(e);return Fi(()=>{t.current=e}),V.useCallback(function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function GO(){const e=V.useRef(null),t=V.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),i=V.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,i]}function Lu(e,t){t===void 0&&(t=[e]);const i=V.useRef(e);return Fi(()=>{i.current!==e&&(i.current=e)},t),i}function $u(e,t){const i=V.useRef();return V.useMemo(()=>{const r=e(i.current);return i.current=r,r},[...t])}function df(e){const t=Pf(e),i=V.useRef(null),r=V.useCallback(o=>{o!==i.current&&t?.(o,i.current),i.current=o},[]);return[i,r]}function mf(e){const t=V.useRef();return V.useEffect(()=>{t.current=e},[e]),t.current}let pp={};function Zu(e,t){return V.useMemo(()=>{if(t)return t;const i=pp[e]==null?0:pp[e]+1;return pp[e]=i,e+"-"+i},[e,t])}function jA(e){return function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return r.reduce((u,c)=>{const d=Object.entries(c);for(const[m,p]of d){const y=u[m];y!=null&&(u[m]=y+e*p)}return u},{...t})}}const jo=jA(1),Pu=jA(-1);function KO(e){return"clientX"in e&&"clientY"in e}function Uf(e){if(!e)return!1;const{KeyboardEvent:t}=Pn(e.target);return t&&e instanceof t}function YO(e){if(!e)return!1;const{TouchEvent:t}=Pn(e.target);return t&&e instanceof t}function pf(e){if(YO(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:i}=e.touches[0];return{x:t,y:i}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:i}=e.changedTouches[0];return{x:t,y:i}}}return KO(e)?{x:e.clientX,y:e.clientY}:null}const Br=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:i}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:i}=e;return"scaleX("+t+") scaleY("+i+")"}},Transform:{toString(e){if(e)return[Br.Translate.toString(e),Br.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:i,easing:r}=e;return t+" "+i+"ms "+r}}}),Fx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function XO(e){return e.matches(Fx)?e:e.querySelector(Fx)}const QO={display:"none"};function $O(e){let{id:t,value:i}=e;return Te.createElement("div",{id:t,style:QO},i)}function ZO(e){let{id:t,announcement:i,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Te.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},i)}function JO(){const[e,t]=V.useState("");return{announce:V.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const kA=V.createContext(null);function WO(e){const t=V.useContext(kA);V.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function t6(){const[e]=V.useState(()=>new Set),t=V.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[V.useCallback(r=>{let{type:o,event:u}=r;e.forEach(c=>{var d;return(d=c[o])==null?void 0:d.call(c,u)})},[e]),t]}const e6={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},n6={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:i}=e;return i?"Draggable item "+t.id+" was moved over droppable area "+i.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:i}=e;return i?"Draggable item "+t.id+" was dropped over droppable area "+i.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function i6(e){let{announcements:t=n6,container:i,hiddenTextDescribedById:r,screenReaderInstructions:o=e6}=e;const{announce:u,announcement:c}=JO(),d=Zu("DndLiveRegion"),[m,p]=V.useState(!1);if(V.useEffect(()=>{p(!0)},[]),WO(V.useMemo(()=>({onDragStart(v){let{active:x}=v;u(t.onDragStart({active:x}))},onDragMove(v){let{active:x,over:w}=v;t.onDragMove&&u(t.onDragMove({active:x,over:w}))},onDragOver(v){let{active:x,over:w}=v;u(t.onDragOver({active:x,over:w}))},onDragEnd(v){let{active:x,over:w}=v;u(t.onDragEnd({active:x,over:w}))},onDragCancel(v){let{active:x,over:w}=v;u(t.onDragCancel({active:x,over:w}))}}),[u,t])),!m)return null;const y=Te.createElement(Te.Fragment,null,Te.createElement($O,{id:r,value:o.draggable}),Te.createElement(ZO,{id:d,announcement:c}));return i?ou.createPortal(y,i):y}var Ze;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ze||(Ze={}));function gf(){}function Hx(e,t){return V.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function s6(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return V.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Hi=Object.freeze({x:0,y:0});function LA(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function r6(e,t){const i=pf(e);if(!i)return"0 0";const r={x:(i.x-t.left)/t.width*100,y:(i.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function PA(e,t){let{data:{value:i}}=e,{data:{value:r}}=t;return i-r}function a6(e,t){let{data:{value:i}}=e,{data:{value:r}}=t;return r-i}function qx(e){let{left:t,top:i,height:r,width:o}=e;return[{x:t,y:i},{x:t+o,y:i},{x:t,y:i+r},{x:t+o,y:i+r}]}function UA(e,t){if(!e||e.length===0)return null;const[i]=e;return i[t]}function Gx(e,t,i){return t===void 0&&(t=e.left),i===void 0&&(i=e.top),{x:t+e.width*.5,y:i+e.height*.5}}const o6=e=>{let{collisionRect:t,droppableRects:i,droppableContainers:r}=e;const o=Gx(t,t.left,t.top),u=[];for(const c of r){const{id:d}=c,m=i.get(d);if(m){const p=LA(Gx(m),o);u.push({id:d,data:{droppableContainer:c,value:p}})}}return u.sort(PA)},l6=e=>{let{collisionRect:t,droppableRects:i,droppableContainers:r}=e;const o=qx(t),u=[];for(const c of r){const{id:d}=c,m=i.get(d);if(m){const p=qx(m),y=o.reduce((x,w,j)=>x+LA(p[j],w),0),v=Number((y/4).toFixed(4));u.push({id:d,data:{droppableContainer:c,value:v}})}}return u.sort(PA)};function u6(e,t){const i=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),u=Math.min(t.top+t.height,e.top+e.height),c=o-r,d=u-i;if(r<o&&i<u){const m=t.width*t.height,p=e.width*e.height,y=c*d,v=y/(m+p-y);return Number(v.toFixed(4))}return 0}const c6=e=>{let{collisionRect:t,droppableRects:i,droppableContainers:r}=e;const o=[];for(const u of r){const{id:c}=u,d=i.get(c);if(d){const m=u6(d,t);m>0&&o.push({id:c,data:{droppableContainer:u,value:m}})}}return o.sort(a6)};function h6(e,t,i){return{...e,scaleX:t&&i?t.width/i.width:1,scaleY:t&&i?t.height/i.height:1}}function zA(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Hi}function f6(e){return function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return o.reduce((c,d)=>({...c,top:c.top+e*d.y,bottom:c.bottom+e*d.y,left:c.left+e*d.x,right:c.right+e*d.x}),{...i})}}const d6=f6(1);function BA(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function m6(e,t,i){const r=BA(t);if(!r)return e;const{scaleX:o,scaleY:u,x:c,y:d}=r,m=e.left-c-(1-o)*parseFloat(i),p=e.top-d-(1-u)*parseFloat(i.slice(i.indexOf(" ")+1)),y=o?e.width/o:e.width,v=u?e.height/u:e.height;return{width:y,height:v,top:p,right:m+y,bottom:p+v,left:m}}const p6={ignoreTransform:!1};function tl(e,t){t===void 0&&(t=p6);let i=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:p,transformOrigin:y}=Pn(e).getComputedStyle(e);p&&(i=m6(i,p,y))}const{top:r,left:o,width:u,height:c,bottom:d,right:m}=i;return{top:r,left:o,width:u,height:c,bottom:d,right:m}}function Kx(e){return tl(e,{ignoreTransform:!0})}function g6(e){const t=e.innerWidth,i=e.innerHeight;return{top:0,left:0,right:t,bottom:i,width:t,height:i}}function y6(e,t){return t===void 0&&(t=Pn(e).getComputedStyle(e)),t.position==="fixed"}function v6(e,t){t===void 0&&(t=Pn(e).getComputedStyle(e));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=t[o];return typeof u=="string"?i.test(u):!1})}function zf(e,t){const i=[];function r(o){if(t!=null&&i.length>=t||!o)return i;if(My(o)&&o.scrollingElement!=null&&!i.includes(o.scrollingElement))return i.push(o.scrollingElement),i;if(!Qu(o)||OA(o)||i.includes(o))return i;const u=Pn(e).getComputedStyle(o);return o!==e&&v6(o,u)&&i.push(o),y6(o,u)?i:r(o.parentNode)}return e?r(e):i}function FA(e){const[t]=zf(e,1);return t??null}function gp(e){return!Lf||!e?null:Jo(e)?e:Ny(e)?My(e)||e===Wo(e).scrollingElement?window:Qu(e)?e:null:null}function HA(e){return Jo(e)?e.scrollX:e.scrollLeft}function qA(e){return Jo(e)?e.scrollY:e.scrollTop}function mg(e){return{x:HA(e),y:qA(e)}}var on;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(on||(on={}));function GA(e){return!Lf||!e?!1:e===document.scrollingElement}function KA(e){const t={x:0,y:0},i=GA(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-i.width,y:e.scrollHeight-i.height},o=e.scrollTop<=t.y,u=e.scrollLeft<=t.x,c=e.scrollTop>=r.y,d=e.scrollLeft>=r.x;return{isTop:o,isLeft:u,isBottom:c,isRight:d,maxScroll:r,minScroll:t}}const b6={x:.2,y:.2};function _6(e,t,i,r,o){let{top:u,left:c,right:d,bottom:m}=i;r===void 0&&(r=10),o===void 0&&(o=b6);const{isTop:p,isBottom:y,isLeft:v,isRight:x}=KA(e),w={x:0,y:0},j={x:0,y:0},I={height:t.height*o.y,width:t.width*o.x};return!p&&u<=t.top+I.height?(w.y=on.Backward,j.y=r*Math.abs((t.top+I.height-u)/I.height)):!y&&m>=t.bottom-I.height&&(w.y=on.Forward,j.y=r*Math.abs((t.bottom-I.height-m)/I.height)),!x&&d>=t.right-I.width?(w.x=on.Forward,j.x=r*Math.abs((t.right-I.width-d)/I.width)):!v&&c<=t.left+I.width&&(w.x=on.Backward,j.x=r*Math.abs((t.left+I.width-c)/I.width)),{direction:w,speed:j}}function x6(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:c}=window;return{top:0,left:0,right:u,bottom:c,width:u,height:c}}const{top:t,left:i,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:i,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function YA(e){return e.reduce((t,i)=>jo(t,mg(i)),Hi)}function T6(e){return e.reduce((t,i)=>t+HA(i),0)}function E6(e){return e.reduce((t,i)=>t+qA(i),0)}function XA(e,t){if(t===void 0&&(t=tl),!e)return;const{top:i,left:r,bottom:o,right:u}=t(e);FA(e)&&(o<=0||u<=0||i>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const S6=[["x",["left","right"],T6],["y",["top","bottom"],E6]];class Vy{constructor(t,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=zf(i),o=YA(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,c,d]of S6)for(const m of c)Object.defineProperty(this,m,{get:()=>{const p=d(r),y=o[u]-p;return this.rect[m]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class yu{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...i)})},this.target=t}add(t,i,r){var o;(o=this.target)==null||o.addEventListener(t,i,r),this.listeners.push([t,i,r])}}function A6(e){const{EventTarget:t}=Pn(e);return e instanceof t?e:Wo(e)}function yp(e,t){const i=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(i**2+r**2)>t:"x"in t&&"y"in t?i>t.x&&r>t.y:"x"in t?i>t.x:"y"in t?r>t.y:!1}var Si;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Si||(Si={}));function Yx(e){e.preventDefault()}function w6(e){e.stopPropagation()}var Yt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Yt||(Yt={}));const QA={start:[Yt.Space,Yt.Enter],cancel:[Yt.Esc],end:[Yt.Space,Yt.Enter,Yt.Tab]},C6=(e,t)=>{let{currentCoordinates:i}=t;switch(e.code){case Yt.Right:return{...i,x:i.x+25};case Yt.Left:return{...i,x:i.x-25};case Yt.Down:return{...i,y:i.y+25};case Yt.Up:return{...i,y:i.y-25}}};class Iy{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:i}}=t;this.props=t,this.listeners=new yu(Wo(i)),this.windowListeners=new yu(Pn(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Si.Resize,this.handleCancel),this.windowListeners.add(Si.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Si.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:i}=this.props,r=t.node.current;r&&XA(r),i(Hi)}handleKeyDown(t){if(Uf(t)){const{active:i,context:r,options:o}=this.props,{keyboardCodes:u=QA,coordinateGetter:c=C6,scrollBehavior:d="smooth"}=o,{code:m}=t;if(u.end.includes(m)){this.handleEnd(t);return}if(u.cancel.includes(m)){this.handleCancel(t);return}const{collisionRect:p}=r.current,y=p?{x:p.left,y:p.top}:Hi;this.referenceCoordinates||(this.referenceCoordinates=y);const v=c(t,{active:i,context:r.current,currentCoordinates:y});if(v){const x=Pu(v,y),w={x:0,y:0},{scrollableAncestors:j}=r.current;for(const I of j){const D=t.code,{isTop:k,isRight:B,isLeft:P,isBottom:G,maxScroll:Y,minScroll:z}=KA(I),A=x6(I),S={x:Math.min(D===Yt.Right?A.right-A.width/2:A.right,Math.max(D===Yt.Right?A.left:A.left+A.width/2,v.x)),y:Math.min(D===Yt.Down?A.bottom-A.height/2:A.bottom,Math.max(D===Yt.Down?A.top:A.top+A.height/2,v.y))},N=D===Yt.Right&&!B||D===Yt.Left&&!P,L=D===Yt.Down&&!G||D===Yt.Up&&!k;if(N&&S.x!==v.x){const O=I.scrollLeft+x.x,q=D===Yt.Right&&O<=Y.x||D===Yt.Left&&O>=z.x;if(q&&!x.y){I.scrollTo({left:O,behavior:d});return}q?w.x=I.scrollLeft-O:w.x=D===Yt.Right?I.scrollLeft-Y.x:I.scrollLeft-z.x,w.x&&I.scrollBy({left:-w.x,behavior:d});break}else if(L&&S.y!==v.y){const O=I.scrollTop+x.y,q=D===Yt.Down&&O<=Y.y||D===Yt.Up&&O>=z.y;if(q&&!x.x){I.scrollTo({top:O,behavior:d});return}q?w.y=I.scrollTop-O:w.y=D===Yt.Down?I.scrollTop-Y.y:I.scrollTop-z.y,w.y&&I.scrollBy({top:-w.y,behavior:d});break}}this.handleMove(t,jo(Pu(v,this.referenceCoordinates),w))}}}handleMove(t,i){const{onMove:r}=this.props;t.preventDefault(),r(i)}handleEnd(t){const{onEnd:i}=this.props;t.preventDefault(),this.detach(),i()}handleCancel(t){const{onCancel:i}=this.props;t.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Iy.activators=[{eventName:"onKeyDown",handler:(e,t,i)=>{let{keyboardCodes:r=QA,onActivation:o}=t,{active:u}=i;const{code:c}=e.nativeEvent;if(r.start.includes(c)){const d=u.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function Xx(e){return!!(e&&"distance"in e)}function Qx(e){return!!(e&&"delay"in e)}class Oy{constructor(t,i,r){var o;r===void 0&&(r=A6(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=i;const{event:u}=t,{target:c}=u;this.props=t,this.events=i,this.document=Wo(c),this.documentListeners=new yu(this.document),this.listeners=new yu(r),this.windowListeners=new yu(Pn(c)),this.initialCoordinates=(o=pf(u))!=null?o:Hi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:i,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Si.Resize,this.handleCancel),this.windowListeners.add(Si.DragStart,Yx),this.windowListeners.add(Si.VisibilityChange,this.handleCancel),this.windowListeners.add(Si.ContextMenu,Yx),this.documentListeners.add(Si.Keydown,this.handleKeydown),i){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Qx(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(Xx(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,i){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:t}=this,{onStart:i}=this.props;t&&(this.activated=!0,this.documentListeners.add(Si.Click,w6,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Si.SelectionChange,this.removeTextSelection),i(t))}handleMove(t){var i;const{activated:r,initialCoordinates:o,props:u}=this,{onMove:c,options:{activationConstraint:d}}=u;if(!o)return;const m=(i=pf(t))!=null?i:Hi,p=Pu(o,m);if(!r&&d){if(Xx(d)){if(d.tolerance!=null&&yp(p,d.tolerance))return this.handleCancel();if(yp(p,d.distance))return this.handleStart()}if(Qx(d)&&yp(p,d.tolerance))return this.handleCancel();this.handlePending(d,p);return}t.cancelable&&t.preventDefault(),c(m)}handleEnd(){const{onAbort:t,onEnd:i}=this.props;this.detach(),this.activated||t(this.props.active),i()}handleCancel(){const{onAbort:t,onCancel:i}=this.props;this.detach(),this.activated||t(this.props.active),i()}handleKeydown(t){t.code===Yt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const R6={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class jy extends Oy{constructor(t){const{event:i}=t,r=Wo(i.target);super(t,R6,r)}}jy.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:i}=e,{onActivation:r}=t;return!i.isPrimary||i.button!==0?!1:(r?.({event:i}),!0)}}];const D6={move:{name:"mousemove"},end:{name:"mouseup"}};var pg;(function(e){e[e.RightClick=2]="RightClick"})(pg||(pg={}));class N6 extends Oy{constructor(t){super(t,D6,Wo(t.event.target))}}N6.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:i}=e,{onActivation:r}=t;return i.button===pg.RightClick?!1:(r?.({event:i}),!0)}}];const vp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class M6 extends Oy{constructor(t){super(t,vp)}static setup(){return window.addEventListener(vp.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(vp.move.name,t)};function t(){}}}M6.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:i}=e,{onActivation:r}=t;const{touches:o}=i;return o.length>1?!1:(r?.({event:i}),!0)}}];var vu;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(vu||(vu={}));var yf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(yf||(yf={}));function V6(e){let{acceleration:t,activator:i=vu.Pointer,canScroll:r,draggingRect:o,enabled:u,interval:c=5,order:d=yf.TreeOrder,pointerCoordinates:m,scrollableAncestors:p,scrollableAncestorRects:y,delta:v,threshold:x}=e;const w=O6({delta:v,disabled:!u}),[j,I]=GO(),D=V.useRef({x:0,y:0}),k=V.useRef({x:0,y:0}),B=V.useMemo(()=>{switch(i){case vu.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case vu.DraggableRect:return o}},[i,o,m]),P=V.useRef(null),G=V.useCallback(()=>{const z=P.current;if(!z)return;const A=D.current.x*k.current.x,S=D.current.y*k.current.y;z.scrollBy(A,S)},[]),Y=V.useMemo(()=>d===yf.TreeOrder?[...p].reverse():p,[d,p]);V.useEffect(()=>{if(!u||!p.length||!B){I();return}for(const z of Y){if(r?.(z)===!1)continue;const A=p.indexOf(z),S=y[A];if(!S)continue;const{direction:N,speed:L}=_6(z,S,B,t,x);for(const O of["x","y"])w[O][N[O]]||(L[O]=0,N[O]=0);if(L.x>0||L.y>0){I(),P.current=z,j(G,c),D.current=L,k.current=N;return}}D.current={x:0,y:0},k.current={x:0,y:0},I()},[t,G,r,I,u,c,JSON.stringify(B),JSON.stringify(w),j,p,Y,y,JSON.stringify(x)])}const I6={x:{[on.Backward]:!1,[on.Forward]:!1},y:{[on.Backward]:!1,[on.Forward]:!1}};function O6(e){let{delta:t,disabled:i}=e;const r=mf(t);return $u(o=>{if(i||!r||!o)return I6;const u={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[on.Backward]:o.x[on.Backward]||u.x===-1,[on.Forward]:o.x[on.Forward]||u.x===1},y:{[on.Backward]:o.y[on.Backward]||u.y===-1,[on.Forward]:o.y[on.Forward]||u.y===1}}},[i,t,r])}function j6(e,t){const i=t!=null?e.get(t):void 0,r=i?i.node.current:null;return $u(o=>{var u;return t==null?null:(u=r??o)!=null?u:null},[r,t])}function k6(e,t){return V.useMemo(()=>e.reduce((i,r)=>{const{sensor:o}=r,u=o.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,r)}));return[...i,...u]},[]),[e,t])}var Uu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Uu||(Uu={}));var gg;(function(e){e.Optimized="optimized"})(gg||(gg={}));const $x=new Map;function L6(e,t){let{dragging:i,dependencies:r,config:o}=t;const[u,c]=V.useState(null),{frequency:d,measure:m,strategy:p}=o,y=V.useRef(e),v=D(),x=Lu(v),w=V.useCallback(function(k){k===void 0&&(k=[]),!x.current&&c(B=>B===null?k:B.concat(k.filter(P=>!B.includes(P))))},[x]),j=V.useRef(null),I=$u(k=>{if(v&&!i)return $x;if(!k||k===$x||y.current!==e||u!=null){const B=new Map;for(let P of e){if(!P)continue;if(u&&u.length>0&&!u.includes(P.id)&&P.rect.current){B.set(P.id,P.rect.current);continue}const G=P.node.current,Y=G?new Vy(m(G),G):null;P.rect.current=Y,Y&&B.set(P.id,Y)}return B}return k},[e,u,i,v,m]);return V.useEffect(()=>{y.current=e},[e]),V.useEffect(()=>{v||w()},[i,v]),V.useEffect(()=>{u&&u.length>0&&c(null)},[JSON.stringify(u)]),V.useEffect(()=>{v||typeof d!="number"||j.current!==null||(j.current=setTimeout(()=>{w(),j.current=null},d))},[d,v,w,...r]),{droppableRects:I,measureDroppableContainers:w,measuringScheduled:u!=null};function D(){switch(p){case Uu.Always:return!1;case Uu.BeforeDragging:return i;default:return!i}}}function ky(e,t){return $u(i=>e?i||(typeof t=="function"?t(e):e):null,[t,e])}function P6(e,t){return ky(e,t)}function U6(e){let{callback:t,disabled:i}=e;const r=Pf(t),o=V.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(r)},[r,i]);return V.useEffect(()=>()=>o?.disconnect(),[o]),o}function Bf(e){let{callback:t,disabled:i}=e;const r=Pf(t),o=V.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(r)},[i]);return V.useEffect(()=>()=>o?.disconnect(),[o]),o}function z6(e){return new Vy(tl(e),e)}function Zx(e,t,i){t===void 0&&(t=z6);const[r,o]=V.useState(null);function u(){o(m=>{if(!e)return null;if(e.isConnected===!1){var p;return(p=m??i)!=null?p:null}const y=t(e);return JSON.stringify(m)===JSON.stringify(y)?m:y})}const c=U6({callback(m){if(e)for(const p of m){const{type:y,target:v}=p;if(y==="childList"&&v instanceof HTMLElement&&v.contains(e)){u();break}}}}),d=Bf({callback:u});return Fi(()=>{u(),e?(d?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[e]),r}function B6(e){const t=ky(e);return zA(e,t)}const Jx=[];function F6(e){const t=V.useRef(e),i=$u(r=>e?r&&r!==Jx&&e&&t.current&&e.parentNode===t.current.parentNode?r:zf(e):Jx,[e]);return V.useEffect(()=>{t.current=e},[e]),i}function H6(e){const[t,i]=V.useState(null),r=V.useRef(e),o=V.useCallback(u=>{const c=gp(u.target);c&&i(d=>d?(d.set(c,mg(c)),new Map(d)):null)},[]);return V.useEffect(()=>{const u=r.current;if(e!==u){c(u);const d=e.map(m=>{const p=gp(m);return p?(p.addEventListener("scroll",o,{passive:!0}),[p,mg(p)]):null}).filter(m=>m!=null);i(d.length?new Map(d):null),r.current=e}return()=>{c(e),c(u)};function c(d){d.forEach(m=>{const p=gp(m);p?.removeEventListener("scroll",o)})}},[o,e]),V.useMemo(()=>e.length?t?Array.from(t.values()).reduce((u,c)=>jo(u,c),Hi):YA(e):Hi,[e,t])}function Wx(e,t){t===void 0&&(t=[]);const i=V.useRef(null);return V.useEffect(()=>{i.current=null},t),V.useEffect(()=>{const r=e!==Hi;r&&!i.current&&(i.current=e),!r&&i.current&&(i.current=null)},[e]),i.current?Pu(e,i.current):Hi}function q6(e){V.useEffect(()=>{if(!Lf)return;const t=e.map(i=>{let{sensor:r}=i;return r.setup==null?void 0:r.setup()});return()=>{for(const i of t)i?.()}},e.map(t=>{let{sensor:i}=t;return i}))}function G6(e,t){return V.useMemo(()=>e.reduce((i,r)=>{let{eventName:o,handler:u}=r;return i[o]=c=>{u(c,t)},i},{}),[e,t])}function $A(e){return V.useMemo(()=>e?g6(e):null,[e])}const tT=[];function K6(e,t){t===void 0&&(t=tl);const[i]=e,r=$A(i?Pn(i):null),[o,u]=V.useState(tT);function c(){u(()=>e.length?e.map(m=>GA(m)?r:new Vy(t(m),m)):tT)}const d=Bf({callback:c});return Fi(()=>{d?.disconnect(),c(),e.forEach(m=>d?.observe(m))},[e]),o}function ZA(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Qu(t)?t:e}function Y6(e){let{measure:t}=e;const[i,r]=V.useState(null),o=V.useCallback(p=>{for(const{target:y}of p)if(Qu(y)){r(v=>{const x=t(y);return v?{...v,width:x.width,height:x.height}:x});break}},[t]),u=Bf({callback:o}),c=V.useCallback(p=>{const y=ZA(p);u?.disconnect(),y&&u?.observe(y),r(y?t(y):null)},[t,u]),[d,m]=df(c);return V.useMemo(()=>({nodeRef:d,rect:i,setRef:m}),[i,d,m])}const X6=[{sensor:jy,options:{}},{sensor:Iy,options:{}}],Q6={current:{}},Bh={draggable:{measure:Kx},droppable:{measure:Kx,strategy:Uu.WhileDragging,frequency:gg.Optimized},dragOverlay:{measure:tl}};class bu extends Map{get(t){var i;return t!=null&&(i=super.get(t))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:i}=t;return!i})}getNodeFor(t){var i,r;return(i=(r=this.get(t))==null?void 0:r.node.current)!=null?i:void 0}}const $6={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Bh,measureDroppableContainers:gf,windowRect:null,measuringScheduled:!1},JA={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gf,draggableNodes:new Map,over:null,measureDroppableContainers:gf},Ju=V.createContext(JA),WA=V.createContext($6);function Z6(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bu}}}function J6(e,t){switch(t.type){case Ze.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ze.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ze.DragEnd:case Ze.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ze.RegisterDroppable:{const{element:i}=t,{id:r}=i,o=new bu(e.droppable.containers);return o.set(r,i),{...e,droppable:{...e.droppable,containers:o}}}case Ze.SetDroppableDisabled:{const{id:i,key:r,disabled:o}=t,u=e.droppable.containers.get(i);if(!u||r!==u.key)return e;const c=new bu(e.droppable.containers);return c.set(i,{...u,disabled:o}),{...e,droppable:{...e.droppable,containers:c}}}case Ze.UnregisterDroppable:{const{id:i,key:r}=t,o=e.droppable.containers.get(i);if(!o||r!==o.key)return e;const u=new bu(e.droppable.containers);return u.delete(i),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function W6(e){let{disabled:t}=e;const{active:i,activatorEvent:r,draggableNodes:o}=V.useContext(Ju),u=mf(r),c=mf(i?.id);return V.useEffect(()=>{if(!t&&!r&&u&&c!=null){if(!Uf(u)||document.activeElement===u.target)return;const d=o.get(c);if(!d)return;const{activatorNode:m,node:p}=d;if(!m.current&&!p.current)return;requestAnimationFrame(()=>{for(const y of[m.current,p.current]){if(!y)continue;const v=XO(y);if(v){v.focus();break}}})}},[r,t,o,c,u]),null}function tw(e,t){let{transform:i,...r}=t;return e!=null&&e.length?e.reduce((o,u)=>u({transform:o,...r}),i):i}function tj(e){return V.useMemo(()=>({draggable:{...Bh.draggable,...e?.draggable},droppable:{...Bh.droppable,...e?.droppable},dragOverlay:{...Bh.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function ej(e){let{activeNode:t,measure:i,initialRect:r,config:o=!0}=e;const u=V.useRef(!1),{x:c,y:d}=typeof o=="boolean"?{x:o,y:o}:o;Fi(()=>{if(!c&&!d||!t){u.current=!1;return}if(u.current||!r)return;const p=t?.node.current;if(!p||p.isConnected===!1)return;const y=i(p),v=zA(y,r);if(c||(v.x=0),d||(v.y=0),u.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const x=FA(p);x&&x.scrollBy({top:v.y,left:v.x})}},[t,c,d,r,i])}const Ff=V.createContext({...Hi,scaleX:1,scaleY:1});var Ar;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ar||(Ar={}));const nj=V.memo(function(t){var i,r,o,u;let{id:c,accessibility:d,autoScroll:m=!0,children:p,sensors:y=X6,collisionDetection:v=c6,measuring:x,modifiers:w,...j}=t;const I=V.useReducer(J6,void 0,Z6),[D,k]=I,[B,P]=t6(),[G,Y]=V.useState(Ar.Uninitialized),z=G===Ar.Initialized,{draggable:{active:A,nodes:S,translate:N},droppable:{containers:L}}=D,O=A!=null?S.get(A):null,q=V.useRef({initial:null,translated:null}),M=V.useMemo(()=>{var Ut;return A!=null?{id:A,data:(Ut=O?.data)!=null?Ut:Q6,rect:q}:null},[A,O]),Ct=V.useRef(null),[Pt,tt]=V.useState(null),[st,ft]=V.useState(null),yt=Lu(j,Object.values(j)),pt=Zu("DndDescribedBy",c),F=V.useMemo(()=>L.getEnabled(),[L]),et=tj(x),{droppableRects:ut,measureDroppableContainers:ht,measuringScheduled:_t}=L6(F,{dragging:z,dependencies:[N.x,N.y],config:et.droppable}),vt=j6(S,A),lt=V.useMemo(()=>st?pf(st):null,[st]),Vt=Ts(),xt=P6(vt,et.draggable.measure);ej({activeNode:A!=null?S.get(A):null,config:Vt.layoutShiftCompensation,initialRect:xt,measure:et.draggable.measure});const At=Zx(vt,et.draggable.measure,xt),Dn=Zx(vt?vt.parentElement:null),Ye=V.useRef({activatorEvent:null,active:null,activeNode:vt,collisionRect:null,collisions:null,droppableRects:ut,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Nn=L.getNodeFor((i=Ye.current.over)==null?void 0:i.id),xe=Y6({measure:et.dragOverlay.measure}),Un=(r=xe.nodeRef.current)!=null?r:vt,vn=z?(o=xe.rect)!=null?o:At:null,qi=!!(xe.nodeRef.current&&xe.rect),Gi=B6(qi?null:At),he=$A(Un?Pn(Un):null),ee=F6(z?Nn??vt:null),Mn=K6(ee),Ki=tw(w,{transform:{x:N.x-Gi.x,y:N.y-Gi.y,scaleX:1,scaleY:1},activatorEvent:st,active:M,activeNodeRect:At,containerNodeRect:Dn,draggingNodeRect:vn,over:Ye.current.over,overlayNodeRect:xe.rect,scrollableAncestors:ee,scrollableAncestorRects:Mn,windowRect:he}),bs=lt?jo(lt,N):null,je=H6(ee),Ni=Wx(je),_s=Wx(je,[At]),kt=jo(Ki,Ni),$t=vn?d6(vn,Ki):null,zn=M&&$t?v({active:M,collisionRect:$t,droppableRects:ut,droppableContainers:F,pointerCoordinates:bs}):null,qr=UA(zn,"id"),[Zn,Gr]=V.useState(null),Jn=qi?Ki:jo(Ki,_s),Xe=h6(Jn,(u=Zn?.rect)!=null?u:null,At),bn=V.useRef(null),pe=V.useCallback((Ut,ge)=>{let{sensor:ye,options:ke}=ge;if(Ct.current==null)return;const _n=S.get(Ct.current);if(!_n)return;const en=Ut.nativeEvent,De=new ye({active:Ct.current,activeNode:_n,event:en,options:ke,context:Ye,onAbort(Ne){if(!S.get(Ne))return;const{onDragAbort:Tn}=yt.current,Vn={id:Ne};Tn?.(Vn),B({type:"onDragAbort",event:Vn})},onPending(Ne,xn,Tn,Vn){if(!S.get(Ne))return;const{onDragPending:In}=yt.current,ti={id:Ne,constraint:xn,initialCoordinates:Tn,offset:Vn};In?.(ti),B({type:"onDragPending",event:ti})},onStart(Ne){const xn=Ct.current;if(xn==null)return;const Tn=S.get(xn);if(!Tn)return;const{onDragStart:Vn}=yt.current,Wn={activatorEvent:en,active:{id:xn,data:Tn.data,rect:q}};ou.unstable_batchedUpdates(()=>{Vn?.(Wn),Y(Ar.Initializing),k({type:Ze.DragStart,initialCoordinates:Ne,active:xn}),B({type:"onDragStart",event:Wn}),tt(bn.current),ft(en)})},onMove(Ne){k({type:Ze.DragMove,coordinates:Ne})},onEnd:Bn(Ze.DragEnd),onCancel:Bn(Ze.DragCancel)});bn.current=De;function Bn(Ne){return async function(){const{active:Tn,collisions:Vn,over:Wn,scrollAdjustedTranslate:In}=Ye.current;let ti=null;if(Tn&&In){const{cancelDrop:ln}=yt.current;ti={activatorEvent:en,active:Tn,collisions:Vn,delta:In,over:Wn},Ne===Ze.DragEnd&&typeof ln=="function"&&await Promise.resolve(ln(ti))&&(Ne=Ze.DragCancel)}Ct.current=null,ou.unstable_batchedUpdates(()=>{k({type:Ne}),Y(Ar.Uninitialized),Gr(null),tt(null),ft(null),bn.current=null;const ln=Ne===Ze.DragEnd?"onDragEnd":"onDragCancel";if(ti){const On=yt.current[ln];On?.(ti),B({type:ln,event:ti})}})}}},[S]),Va=V.useCallback((Ut,ge)=>(ye,ke)=>{const _n=ye.nativeEvent,en=S.get(ke);if(Ct.current!==null||!en||_n.dndKit||_n.defaultPrevented)return;const De={active:en};Ut(ye,ge.options,De)===!0&&(_n.dndKit={capturedBy:ge.sensor},Ct.current=ke,pe(ye,ge))},[S,pe]),xs=k6(y,Va);q6(y),Fi(()=>{At&&G===Ar.Initializing&&Y(Ar.Initialized)},[At,G]),V.useEffect(()=>{const{onDragMove:Ut}=yt.current,{active:ge,activatorEvent:ye,collisions:ke,over:_n}=Ye.current;if(!ge||!ye)return;const en={active:ge,activatorEvent:ye,collisions:ke,delta:{x:kt.x,y:kt.y},over:_n};ou.unstable_batchedUpdates(()=>{Ut?.(en),B({type:"onDragMove",event:en})})},[kt.x,kt.y]),V.useEffect(()=>{const{active:Ut,activatorEvent:ge,collisions:ye,droppableContainers:ke,scrollAdjustedTranslate:_n}=Ye.current;if(!Ut||Ct.current==null||!ge||!_n)return;const{onDragOver:en}=yt.current,De=ke.get(qr),Bn=De&&De.rect.current?{id:De.id,rect:De.rect.current,data:De.data,disabled:De.disabled}:null,Ne={active:Ut,activatorEvent:ge,collisions:ye,delta:{x:_n.x,y:_n.y},over:Bn};ou.unstable_batchedUpdates(()=>{Gr(Bn),en?.(Ne),B({type:"onDragOver",event:Ne})})},[qr]),Fi(()=>{Ye.current={activatorEvent:st,active:M,activeNode:vt,collisionRect:$t,collisions:zn,droppableRects:ut,draggableNodes:S,draggingNode:Un,draggingNodeRect:vn,droppableContainers:L,over:Zn,scrollableAncestors:ee,scrollAdjustedTranslate:kt},q.current={initial:vn,translated:$t}},[M,vt,zn,$t,S,Un,vn,ut,L,Zn,ee,kt]),V6({...Vt,delta:N,draggingRect:$t,pointerCoordinates:bs,scrollableAncestors:ee,scrollableAncestorRects:Mn});const Ia=V.useMemo(()=>({active:M,activeNode:vt,activeNodeRect:At,activatorEvent:st,collisions:zn,containerNodeRect:Dn,dragOverlay:xe,draggableNodes:S,droppableContainers:L,droppableRects:ut,over:Zn,measureDroppableContainers:ht,scrollableAncestors:ee,scrollableAncestorRects:Mn,measuringConfiguration:et,measuringScheduled:_t,windowRect:he}),[M,vt,At,st,zn,Dn,xe,S,L,ut,Zn,ht,ee,Mn,et,_t,he]),ci=V.useMemo(()=>({activatorEvent:st,activators:xs,active:M,activeNodeRect:At,ariaDescribedById:{draggable:pt},dispatch:k,draggableNodes:S,over:Zn,measureDroppableContainers:ht}),[st,xs,M,At,k,pt,S,Zn,ht]);return Te.createElement(kA.Provider,{value:P},Te.createElement(Ju.Provider,{value:ci},Te.createElement(WA.Provider,{value:Ia},Te.createElement(Ff.Provider,{value:Xe},p)),Te.createElement(W6,{disabled:d?.restoreFocus===!1})),Te.createElement(i6,{...d,hiddenTextDescribedById:pt}));function Ts(){const Ut=Pt?.autoScrollEnabled===!1,ge=typeof m=="object"?m.enabled===!1:m===!1,ye=z&&!Ut&&!ge;return typeof m=="object"?{...m,enabled:ye}:{enabled:ye}}}),ij=V.createContext(null),eT="button",sj="Draggable";function rj(e){let{id:t,data:i,disabled:r=!1,attributes:o}=e;const u=Zu(sj),{activators:c,activatorEvent:d,active:m,activeNodeRect:p,ariaDescribedById:y,draggableNodes:v,over:x}=V.useContext(Ju),{role:w=eT,roleDescription:j="draggable",tabIndex:I=0}=o??{},D=m?.id===t,k=V.useContext(D?Ff:ij),[B,P]=df(),[G,Y]=df(),z=G6(c,t),A=Lu(i);Fi(()=>(v.set(t,{id:t,key:u,node:B,activatorNode:G,data:A}),()=>{const N=v.get(t);N&&N.key===u&&v.delete(t)}),[v,t]);const S=V.useMemo(()=>({role:w,tabIndex:I,"aria-disabled":r,"aria-pressed":D&&w===eT?!0:void 0,"aria-roledescription":j,"aria-describedby":y.draggable}),[r,w,I,D,j,y.draggable]);return{active:m,activatorEvent:d,activeNodeRect:p,attributes:S,isDragging:D,listeners:r?void 0:z,node:B,over:x,setNodeRef:P,setActivatorNodeRef:Y,transform:k}}function ew(){return V.useContext(WA)}const aj="Droppable",oj={timeout:25};function lj(e){let{data:t,disabled:i=!1,id:r,resizeObserverConfig:o}=e;const u=Zu(aj),{active:c,dispatch:d,over:m,measureDroppableContainers:p}=V.useContext(Ju),y=V.useRef({disabled:i}),v=V.useRef(!1),x=V.useRef(null),w=V.useRef(null),{disabled:j,updateMeasurementsFor:I,timeout:D}={...oj,...o},k=Lu(I??r),B=V.useCallback(()=>{if(!v.current){v.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{p(Array.isArray(k.current)?k.current:[k.current]),w.current=null},D)},[D]),P=Bf({callback:B,disabled:j||!c}),G=V.useCallback((S,N)=>{P&&(N&&(P.unobserve(N),v.current=!1),S&&P.observe(S))},[P]),[Y,z]=df(G),A=Lu(t);return V.useEffect(()=>{!P||!Y.current||(P.disconnect(),v.current=!1,P.observe(Y.current))},[Y,P]),V.useEffect(()=>(d({type:Ze.RegisterDroppable,element:{id:r,key:u,disabled:i,node:Y,rect:x,data:A}}),()=>d({type:Ze.UnregisterDroppable,key:u,id:r})),[r]),V.useEffect(()=>{i!==y.current.disabled&&(d({type:Ze.SetDroppableDisabled,id:r,key:u,disabled:i}),y.current.disabled=i)},[r,u,i,d]),{active:c,rect:x,isOver:m?.id===r,node:Y,over:m,setNodeRef:z}}function uj(e){let{animation:t,children:i}=e;const[r,o]=V.useState(null),[u,c]=V.useState(null),d=mf(i);return!i&&!r&&d&&o(d),Fi(()=>{if(!u)return;const m=r?.key,p=r?.props.id;if(m==null||p==null){o(null);return}Promise.resolve(t(p,u)).then(()=>{o(null)})},[t,r,u]),Te.createElement(Te.Fragment,null,i,r?V.cloneElement(r,{ref:c}):null)}const cj={x:0,y:0,scaleX:1,scaleY:1};function hj(e){let{children:t}=e;return Te.createElement(Ju.Provider,{value:JA},Te.createElement(Ff.Provider,{value:cj},t))}const fj={position:"fixed",touchAction:"none"},dj=e=>Uf(e)?"transform 250ms ease":void 0,mj=V.forwardRef((e,t)=>{let{as:i,activatorEvent:r,adjustScale:o,children:u,className:c,rect:d,style:m,transform:p,transition:y=dj}=e;if(!d)return null;const v=o?p:{...p,scaleX:1,scaleY:1},x={...fj,width:d.width,height:d.height,top:d.top,left:d.left,transform:Br.Transform.toString(v),transformOrigin:o&&r?r6(r,d):void 0,transition:typeof y=="function"?y(r):y,...m};return Te.createElement(i,{className:c,style:x,ref:t},u)}),pj=e=>t=>{let{active:i,dragOverlay:r}=t;const o={},{styles:u,className:c}=e;if(u!=null&&u.active)for(const[d,m]of Object.entries(u.active))m!==void 0&&(o[d]=i.node.style.getPropertyValue(d),i.node.style.setProperty(d,m));if(u!=null&&u.dragOverlay)for(const[d,m]of Object.entries(u.dragOverlay))m!==void 0&&r.node.style.setProperty(d,m);return c!=null&&c.active&&i.node.classList.add(c.active),c!=null&&c.dragOverlay&&r.node.classList.add(c.dragOverlay),function(){for(const[m,p]of Object.entries(o))i.node.style.setProperty(m,p);c!=null&&c.active&&i.node.classList.remove(c.active)}},gj=e=>{let{transform:{initial:t,final:i}}=e;return[{transform:Br.Transform.toString(t)},{transform:Br.Transform.toString(i)}]},yj={duration:250,easing:"ease",keyframes:gj,sideEffects:pj({styles:{active:{opacity:"0"}}})};function vj(e){let{config:t,draggableNodes:i,droppableContainers:r,measuringConfiguration:o}=e;return Pf((u,c)=>{if(t===null)return;const d=i.get(u);if(!d)return;const m=d.node.current;if(!m)return;const p=ZA(c);if(!p)return;const{transform:y}=Pn(c).getComputedStyle(c),v=BA(y);if(!v)return;const x=typeof t=="function"?t:bj(t);return XA(m,o.draggable.measure),x({active:{id:u,data:d.data,node:m,rect:o.draggable.measure(m)},draggableNodes:i,dragOverlay:{node:c,rect:o.dragOverlay.measure(p)},droppableContainers:r,measuringConfiguration:o,transform:v})})}function bj(e){const{duration:t,easing:i,sideEffects:r,keyframes:o}={...yj,...e};return u=>{let{active:c,dragOverlay:d,transform:m,...p}=u;if(!t)return;const y={x:d.rect.left-c.rect.left,y:d.rect.top-c.rect.top},v={scaleX:m.scaleX!==1?c.rect.width*m.scaleX/d.rect.width:1,scaleY:m.scaleY!==1?c.rect.height*m.scaleY/d.rect.height:1},x={x:m.x-y.x,y:m.y-y.y,...v},w=o({...p,active:c,dragOverlay:d,transform:{initial:m,final:x}}),[j]=w,I=w[w.length-1];if(JSON.stringify(j)===JSON.stringify(I))return;const D=r?.({active:c,dragOverlay:d,...p}),k=d.node.animate(w,{duration:t,easing:i,fill:"forwards"});return new Promise(B=>{k.onfinish=()=>{D?.(),B()}})}}let nT=0;function _j(e){return V.useMemo(()=>{if(e!=null)return nT++,nT},[e])}const xj=Te.memo(e=>{let{adjustScale:t=!1,children:i,dropAnimation:r,style:o,transition:u,modifiers:c,wrapperElement:d="div",className:m,zIndex:p=999}=e;const{activatorEvent:y,active:v,activeNodeRect:x,containerNodeRect:w,draggableNodes:j,droppableContainers:I,dragOverlay:D,over:k,measuringConfiguration:B,scrollableAncestors:P,scrollableAncestorRects:G,windowRect:Y}=ew(),z=V.useContext(Ff),A=_j(v?.id),S=tw(c,{activatorEvent:y,active:v,activeNodeRect:x,containerNodeRect:w,draggingNodeRect:D.rect,over:k,overlayNodeRect:D.rect,scrollableAncestors:P,scrollableAncestorRects:G,transform:z,windowRect:Y}),N=ky(x),L=vj({config:r,draggableNodes:j,droppableContainers:I,measuringConfiguration:B}),O=N?D.setRef:void 0;return Te.createElement(hj,null,Te.createElement(uj,{animation:L},v&&A?Te.createElement(mj,{key:A,id:v.id,ref:O,as:d,activatorEvent:y,adjustScale:t,className:m,transition:u,rect:N,style:{zIndex:p,...o},transform:S},i):null))});function nw(e,t,i){const r=e.slice();return r.splice(i<0?r.length+i:i,0,r.splice(t,1)[0]),r}function Tj(e,t){return e.reduce((i,r,o)=>{const u=t.get(r);return u&&(i[o]=u),i},Array(e.length))}function Dh(e){return e!==null&&e>=0}function Ej(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function Sj(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Ly=e=>{let{rects:t,activeIndex:i,overIndex:r,index:o}=e;const u=nw(t,r,i),c=t[o],d=u[o];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},iw="Sortable",sw=Te.createContext({activeIndex:-1,containerId:iw,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ly,disabled:{draggable:!1,droppable:!1}});function Aj(e){let{children:t,id:i,items:r,strategy:o=Ly,disabled:u=!1}=e;const{active:c,dragOverlay:d,droppableRects:m,over:p,measureDroppableContainers:y}=ew(),v=Zu(iw,i),x=d.rect!==null,w=V.useMemo(()=>r.map(z=>typeof z=="object"&&"id"in z?z.id:z),[r]),j=c!=null,I=c?w.indexOf(c.id):-1,D=p?w.indexOf(p.id):-1,k=V.useRef(w),B=!Ej(w,k.current),P=D!==-1&&I===-1||B,G=Sj(u);Fi(()=>{B&&j&&y(w)},[B,w,j,y]),V.useEffect(()=>{k.current=w},[w]);const Y=V.useMemo(()=>({activeIndex:I,containerId:v,disabled:G,disableTransforms:P,items:w,overIndex:D,useDragOverlay:x,sortedRects:Tj(w,m),strategy:o}),[I,v,G.draggable,G.droppable,P,w,D,m,x,o]);return Te.createElement(sw.Provider,{value:Y},t)}const wj=e=>{let{id:t,items:i,activeIndex:r,overIndex:o}=e;return nw(i,r,o).indexOf(t)},Cj=e=>{let{containerId:t,isSorting:i,wasDragging:r,index:o,items:u,newIndex:c,previousItems:d,previousContainerId:m,transition:p}=e;return!p||!r||d!==u&&o===c?!1:i?!0:c!==o&&t===m},Rj={duration:200,easing:"ease"},rw="transform",Dj=Br.Transition.toString({property:rw,duration:0,easing:"linear"}),Nj={roleDescription:"sortable"};function Mj(e){let{disabled:t,index:i,node:r,rect:o}=e;const[u,c]=V.useState(null),d=V.useRef(i);return Fi(()=>{if(!t&&i!==d.current&&r.current){const m=o.current;if(m){const p=tl(r.current,{ignoreTransform:!0}),y={x:m.left-p.left,y:m.top-p.top,scaleX:m.width/p.width,scaleY:m.height/p.height};(y.x||y.y)&&c(y)}}i!==d.current&&(d.current=i)},[t,i,r,o]),V.useEffect(()=>{u&&c(null)},[u]),u}function Vj(e){let{animateLayoutChanges:t=Cj,attributes:i,disabled:r,data:o,getNewIndex:u=wj,id:c,strategy:d,resizeObserverConfig:m,transition:p=Rj}=e;const{items:y,containerId:v,activeIndex:x,disabled:w,disableTransforms:j,sortedRects:I,overIndex:D,useDragOverlay:k,strategy:B}=V.useContext(sw),P=Ij(r,w),G=y.indexOf(c),Y=V.useMemo(()=>({sortable:{containerId:v,index:G,items:y},...o}),[v,o,G,y]),z=V.useMemo(()=>y.slice(y.indexOf(c)),[y,c]),{rect:A,node:S,isOver:N,setNodeRef:L}=lj({id:c,data:Y,disabled:P.droppable,resizeObserverConfig:{updateMeasurementsFor:z,...m}}),{active:O,activatorEvent:q,activeNodeRect:M,attributes:Ct,setNodeRef:Pt,listeners:tt,isDragging:st,over:ft,setActivatorNodeRef:yt,transform:pt}=rj({id:c,data:Y,attributes:{...Nj,...i},disabled:P.draggable}),F=qO(L,Pt),et=!!O,ut=et&&!j&&Dh(x)&&Dh(D),ht=!k&&st,_t=ht&&ut?pt:null,lt=ut?_t??(d??B)({rects:I,activeNodeRect:M,activeIndex:x,overIndex:D,index:G}):null,Vt=Dh(x)&&Dh(D)?u({id:c,items:y,activeIndex:x,overIndex:D}):G,xt=O?.id,At=V.useRef({activeId:xt,items:y,newIndex:Vt,containerId:v}),Dn=y!==At.current.items,Ye=t({active:O,containerId:v,isDragging:st,isSorting:et,id:c,index:G,items:y,newIndex:At.current.newIndex,previousItems:At.current.items,previousContainerId:At.current.containerId,transition:p,wasDragging:At.current.activeId!=null}),Nn=Mj({disabled:!Ye,index:G,node:S,rect:A});return V.useEffect(()=>{et&&At.current.newIndex!==Vt&&(At.current.newIndex=Vt),v!==At.current.containerId&&(At.current.containerId=v),y!==At.current.items&&(At.current.items=y)},[et,Vt,v,y]),V.useEffect(()=>{if(xt===At.current.activeId)return;if(xt!=null&&At.current.activeId==null){At.current.activeId=xt;return}const Un=setTimeout(()=>{At.current.activeId=xt},50);return()=>clearTimeout(Un)},[xt]),{active:O,activeIndex:x,attributes:Ct,data:Y,rect:A,index:G,newIndex:Vt,items:y,isOver:N,isSorting:et,isDragging:st,listeners:tt,node:S,overIndex:D,over:ft,setNodeRef:F,setActivatorNodeRef:yt,setDroppableNodeRef:L,setDraggableNodeRef:Pt,transform:Nn??lt,transition:xe()};function xe(){if(Nn||Dn&&At.current.newIndex===G)return Dj;if(!(ht&&!Uf(q)||!p)&&(et||Ye))return Br.Transition.toString({...p,property:rw})}}function Ij(e,t){var i,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(i=e?.draggable)!=null?i:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function vf(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Oj=[Yt.Down,Yt.Right,Yt.Up,Yt.Left],jj=(e,t)=>{let{context:{active:i,collisionRect:r,droppableRects:o,droppableContainers:u,over:c,scrollableAncestors:d}}=t;if(Oj.includes(e.code)){if(e.preventDefault(),!i||!r)return;const m=[];u.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const x=o.get(v.id);if(x)switch(e.code){case Yt.Down:r.top<x.top&&m.push(v);break;case Yt.Up:r.top>x.top&&m.push(v);break;case Yt.Left:r.left>x.left&&m.push(v);break;case Yt.Right:r.left<x.left&&m.push(v);break}});const p=l6({collisionRect:r,droppableRects:o,droppableContainers:m});let y=UA(p,"id");if(y===c?.id&&p.length>1&&(y=p[1].id),y!=null){const v=u.get(i.id),x=u.get(y),w=x?o.get(x.id):null,j=x?.node.current;if(j&&w&&v&&x){const D=zf(j).some((z,A)=>d[A]!==z),k=aw(v,x),B=kj(v,x),P=D||!k?{x:0,y:0}:{x:B?r.width-w.width:0,y:B?r.height-w.height:0},G={x:w.left,y:w.top};return P.x&&P.y?G:Pu(G,P)}}}};function aw(e,t){return!vf(e)||!vf(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function kj(e,t){return!vf(e)||!vf(t)||!aw(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Lj({url:e,index:t,onEdit:i,onDelete:r,onClick:o}){const[u,c]=V.useState(!1),[d,m]=V.useState(!1),p=(()=>{try{return new URL(e.url).hostname.replace(/^www\./,"")}catch{return e.url}})(),[y,v]=V.useState(e.customFavicon||`https://unavatar.io/${new URL(e.url).hostname}?fallback=false`),x=()=>{e.customFavicon&&y===e.customFavicon?v(`https://unavatar.io/${new URL(e.url).hostname}?fallback=false`):m(!0)};return E.jsxs(Cn.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:t*.05},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),className:"group relative",children:[E.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",onClick:o,className:"block p-3 rounded-xl bg-[var(--bg-input)] border border-transparent hover:border-[var(--border-subtle)] hover:bg-[var(--bg-card-hover)] transition-all duration-200 group-hover:shadow-lg flex items-center gap-3.5",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute inset-0 bg-white/20 blur-md rounded-lg transition-opacity duration-300 ${u?"opacity-100":"opacity-0"}`}),E.jsx("div",{className:"relative w-9 h-9 rounded-lg bg-[#18181b] border border-[var(--border-subtle)] flex items-center justify-center flex-shrink-0 z-10 transition-transform duration-200 group-hover:scale-105 overflow-hidden",children:d?E.jsx("div",{className:"w-full h-full flex items-center justify-center bg-[var(--bg-card-hover)] text-[var(--text-secondary)] font-bold text-sm uppercase",children:e.title?.charAt(0)||E.jsx(hO,{className:"w-4 h-4"})}):E.jsx("img",{src:y,alt:"",className:"w-5 h-5 object-contain opacity-90 group-hover:opacity-100",onError:x})})]}),E.jsxs("div",{className:"flex-1 min-w-0 py-0.5",children:[E.jsxs("div",{className:"flex items-center justify-between gap-2",children:[E.jsx("h4",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:e.title}),E.jsx(U5,{className:"w-3.5 h-3.5 text-[var(--text-secondary)] opacity-0 -translate-y-1 translate-x-1 group-hover:opacity-100 group-hover:translate-y-0 group-hover:translate-x-0 transition-all duration-200"})]}),E.jsx("p",{className:"text-[11px] text-[var(--text-tertiary)] truncate group-hover:text-[var(--text-secondary)] transition-colors",children:p})]})]}),(i||r)&&E.jsxs("div",{className:`absolute top-2 right-2 flex gap-1 transition-all duration-200 ${u?"opacity-100 translate-y-0":"opacity-0 -translate-y-1"}`,children:[i&&E.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),i()},className:"p-1.5 rounded-lg bg-[var(--bg-card)] border border-[var(--border-subtle)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:border-[var(--text-primary)] shadow-lg",children:E.jsx(VA,{className:"w-3.5 h-3.5"})}),r&&E.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),r()},className:"p-1.5 rounded-lg bg-[var(--bg-card)] border border-[var(--border-subtle)] text-[var(--text-secondary)] hover:text-red-400 hover:border-red-400 shadow-lg",children:E.jsx(ff,{className:"w-3.5 h-3.5"})})]})]})}function bp({category:e,viewMode:t,onEdit:i,onDelete:r,onAddUrl:o,onEditUrl:u,onDeleteUrl:c,onTogglePin:d,onToggleCollapse:m,isReadOnly:p=!1,onIncrementClick:y,linkLayout:v="list"}){const[x,w]=V.useState(!1),[j,I]=V.useState(!1),{attributes:D,listeners:k,setNodeRef:B,transform:P,transition:G,isDragging:Y}=Vj({id:e.id,disabled:p||e.pinned}),z={transform:Br.Transform.toString(P),transition:G,zIndex:Y?50:"auto",opacity:Y?.5:1,breakInside:"avoid-column",WebkitColumnBreakInside:"avoid-column"};return E.jsx("div",{ref:B,style:z,children:E.jsxs(Cn.div,{layout:!0,className:`card-premium rounded-2xl flex flex-col group ${Y?"shadow-2xl ring-2 ring-[var(--primary-500)]":""}`,onMouseEnter:()=>I(!0),onMouseLeave:()=>{I(!1),w(!1)},children:[E.jsxs("div",{className:"relative p-5 pl-12 flex items-center justify-between border-b border-[var(--border-subtle)]/50",children:[!p&&(e.pinned?E.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 p-1.5 text-amber-400",children:E.jsx(Bx,{className:"w-5 h-5 fill-current"})}):E.jsx("div",{...D,...k,className:"absolute left-3 top-1/2 -translate-y-1/2 p-1.5 cursor-grab active:cursor-grabbing text-[var(--text-tertiary)] hover:text-[var(--text-secondary)] rounded-lg hover:bg-[var(--bg-input)]/50 opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-all duration-200",children:E.jsx(pO,{className:"w-5 h-5"})})),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{onClick:()=>m&&m(),className:"w-10 h-10 rounded-xl bg-[var(--bg-input)] flex items-center justify-center text-[var(--text-secondary)] border border-[var(--border-subtle)] shadow-sm hover:bg-[var(--bg-card-hover)] transition-colors cursor-pointer",title:e.isCollapsed?"Expand":"Collapse",children:e.isCollapsed?E.jsx(Ux,{className:"w-5 h-5 transition-transform duration-300"}):E.jsx(lO,{className:"w-5 h-5 transition-transform duration-300"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-[var(--text-primary)] tracking-tight",children:e.name}),E.jsxs("p",{className:"text-xs text-[var(--text-secondary)] font-medium flex items-center gap-2",children:[E.jsxs("span",{children:[e.urls.length," Links"]}),e.mode==="work"&&E.jsx(B5,{className:"w-3 h-3 text-[var(--text-tertiary)]"}),e.mode==="personal"&&E.jsx(BO,{className:"w-3 h-3 text-[var(--text-tertiary)]"})]})]})]}),E.jsxs("div",{className:"flex items-center -mr-2",children:[!p&&E.jsx(Cn.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:o,className:"btn-icon p-2 opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-opacity focus:opacity-100",title:"Add Link",children:E.jsx(fg,{className:"w-5 h-5"})}),!p&&E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:()=>w(!x),className:`p-2 rounded-lg transition-all ${j?"opacity-100":"opacity-100 lg:opacity-0"} hover:bg-[var(--bg-card-hover)] text-[var(--text-tertiary)] hover:text-[var(--text-primary)]`,children:E.jsx(nO,{className:"w-5 h-5"})}),E.jsx(Cr,{children:x&&E.jsxs(Cn.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},className:"absolute right-0 top-full mt-2 w-48 py-1 rounded-xl bg-[#1a1a1f] border border-[var(--border-subtle)] shadow-2xl z-20 overflow-hidden",children:[E.jsxs("button",{onClick:()=>{w(!1),i()},className:"w-full px-4 py-2.5 text-left text-sm text-[var(--text-secondary)] hover:bg-[var(--bg-card-hover)] hover:text-[var(--text-primary)] flex items-center gap-2",children:[E.jsx(VA,{className:"w-4 h-4"})," Rename Collection"]}),E.jsxs("button",{onClick:()=>{w(!1),d&&d()},className:`w-full px-4 py-2.5 text-left text-sm flex items-center gap-2 ${e.pinned?"text-amber-400 hover:bg-amber-500/10":"text-[var(--text-secondary)] hover:bg-[var(--bg-card-hover)] hover:text-[var(--text-primary)]"}`,children:[E.jsx(Bx,{className:`w-4 h-4 ${e.pinned?"fill-current":""}`})," ",e.pinned?"Unpin Collection":"Pin Collection"]}),E.jsxs("button",{onClick:()=>{w(!1),r()},className:"w-full px-4 py-2.5 text-left text-sm text-red-400 hover:bg-red-500/10 flex items-center gap-2",children:[E.jsx(IA,{className:"w-4 h-4"})," Delete Collection"]})]})})]})]})]}),E.jsx(Cr,{initial:!1,children:!e.isCollapsed&&E.jsx(Cn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:E.jsx("div",{className:"p-5 flex-1 relative",children:E.jsx(Cr,{mode:"popLayout",children:e.urls.length===0?E.jsxs("button",{onClick:p?void 0:o,disabled:p,className:`w-full h-32 rounded-xl border-2 border-dashed border-[var(--border-subtle)] flex flex-col items-center justify-center gap-3 group/empty transition-all duration-300 ${p?"cursor-default opacity-50":"cursor-pointer hover:border-[var(--primary-500)]/50 hover:bg-[var(--bg-card-hover)]"}`,children:[E.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${p?"bg-[var(--bg-input)] text-[var(--text-tertiary)]":"bg-[var(--bg-input)] text-[var(--text-secondary)] group-hover/empty:bg-[var(--primary-500)]/10 group-hover/empty:text-[var(--primary-500)] group-hover/empty:scale-110"}`,children:p?E.jsx(Ux,{className:"w-5 h-5"}):E.jsx(fg,{className:"w-5 h-5"})}),E.jsx("p",{className:`text-xs font-medium transition-colors ${p?"text-[var(--text-tertiary)]":"text-[var(--text-secondary)] group-hover/empty:text-[var(--primary-500)]"}`,children:p?"Empty Collection":"Add your first link"})]}):E.jsx("div",{className:`grid gap-3 ${v==="grid"?"grid-cols-2":"grid-cols-1"}`,children:E.jsx(Cr,{initial:!1,mode:"popLayout",children:e.urls.map((A,S)=>E.jsx(Lj,{url:A,index:S,viewMode:t,onEdit:p?null:()=>u(A),onDelete:p?null:()=>c(A.id),onClick:()=>y&&y(e.id,A.id)},`${A.id}-${A.url}-${A.customFavicon||""}`))})})})})})})]})})}function Pj({team:e,onView:t,onDelete:i}){return E.jsxs(Cn.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"card-premium rounded-2xl p-5 flex flex-col justify-between h-full group relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-500/10 flex items-center justify-center text-indigo-400 border border-indigo-500/20",children:E.jsx(dg,{className:"w-5 h-5"})}),E.jsx("button",{onClick:r=>{r.stopPropagation(),i()},className:"p-2 rounded-lg hover:bg-red-500/10 text-[var(--text-tertiary)] hover:text-red-400 transition-colors",title:"Leave Team",children:E.jsx(IA,{className:"w-4 h-4"})})]}),E.jsx("h3",{className:"text-lg font-semibold text-[var(--text-primary)] mb-1",children:e.name}),E.jsxs("p",{className:"text-xs text-[var(--text-secondary)] flex items-center gap-2 mb-6",children:[E.jsx(H5,{className:"w-3 h-3"}),"Joined ",new Date(e.joinedAt).toLocaleDateString()]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"text-xs font-medium px-2 py-1 rounded-md bg-[var(--bg-card-hover)] text-[var(--text-secondary)] border border-[var(--border-subtle)]",children:[e.categories.length," Collections"]}),E.jsxs("div",{className:"text-xs font-medium px-2 py-1 rounded-md bg-[var(--bg-card-hover)] text-[var(--text-secondary)] border border-[var(--border-subtle)]",children:[e.categories.reduce((r,o)=>r+o.urls.length,0)," Links"]})]})]}),E.jsxs("button",{onClick:t,className:"mt-6 w-full py-2.5 rounded-xl bg-[var(--bg-card-hover)] hover:bg-[var(--border-subtle)] border border-[var(--border-subtle)] text-sm font-medium transition-colors flex items-center justify-center gap-2 group-hover:border-indigo-500/30 group-hover:text-indigo-400",children:["View Team Dashboard ",E.jsx(L5,{className:"w-4 h-4"})]})]})}function ya({children:e,content:t,side:i="bottom"}){const[r,o]=V.useState(!1),u={hidden:{opacity:0,scale:.9,y:i==="bottom"?-5:5},visible:{opacity:1,scale:1,y:0}},c={top:"bottom-full mb-2 left-1/2 -translate-x-1/2",bottom:"top-full mt-2 left-1/2 -translate-x-1/2",left:"right-full mr-2 top-1/2 -translate-y-1/2",right:"left-full ml-2 top-1/2 -translate-y-1/2"};return E.jsxs("div",{className:"relative flex items-center justify-center",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[e,E.jsx(Cr,{children:r&&E.jsx(Cn.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:u,transition:{duration:.15,ease:"easeOut"},className:`absolute z-50 whitespace-nowrap px-2.5 py-1.5 rounded-lg text-[11px] font-medium bg-[var(--bg-card)] border border-[var(--border-subtle)] text-[var(--text-primary)] shadow-xl pointer-events-none ${c[i]}`,children:t})})]})}function Uj({categories:e,teams:t=[],onAddCategory:i,onEditCategory:r,onDeleteCategory:o,onAddUrl:u,onEditUrl:c,onDeleteUrl:d,onDeleteTeam:m,onOpenCreateTeam:p,onOpenJoinTeam:y,syncState:v,onEnableSync:x,onRecoverAccount:w,onPullFromCloud:j,onDisconnect:I,onIncrementClick:D,onOpenSettings:k,reorderCategories:B,onTogglePin:P,onToggleCollapse:G,linkLayout:Y}){const[z]=V.useState("grid"),[A,S]=V.useState(!1),[N,L]=V.useState(null),[O,q]=V.useState(""),[M,Ct]=V.useState("all"),[Pt,tt]=V.useState(null),[st,ft]=V.useState(()=>{if(typeof window>"u")return 1;const lt=window.innerWidth;return lt>=1536?4:lt>=1280?3:lt>=768?2:1});V.useEffect(()=>{const lt=()=>{const Vt=window.innerWidth;Vt>=1536?ft(4):Vt>=1280?ft(3):Vt>=768?ft(2):ft(1)};return lt(),window.addEventListener("resize",lt),()=>window.removeEventListener("resize",lt)},[]);const yt=s6(Hx(jy,{activationConstraint:{distance:8}}),Hx(Iy,{coordinateGetter:jj})),pt=N?t.find(lt=>lt.id===N):null,F=pt?pt.categories:e,et=!!pt,ht=F.filter(lt=>M==="all"?!0:lt.mode===M||lt.mode==="neutral"||!lt.mode).map(lt=>{const Vt=lt.name.toLowerCase().includes(O.toLowerCase()),xt=lt.urls.filter(At=>At.title.toLowerCase().includes(O.toLowerCase())||At.url.toLowerCase().includes(O.toLowerCase()));return Vt?{...lt}:{...lt,urls:xt}}).filter(lt=>lt.name.toLowerCase().includes(O.toLowerCase())||lt.urls.length>0),_t=lt=>{tt(lt.active.id)},vt=lt=>{const{active:Vt,over:xt}=lt;Vt.id!==xt?.id&&B(Vt.id,xt.id),tt(null)};return E.jsxs("div",{className:"w-full",children:[E.jsx("header",{className:"sticky top-0 z-40 bg-black/40 backdrop-blur-2xl border-b border-[var(--border-subtle)] transition-all duration-300 supports-[backdrop-filter]:bg-black/20",children:E.jsxs("div",{className:"max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between gap-4",children:[E.jsx(Cr,{children:A&&E.jsxs(Cn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute inset-0 z-50 bg-[var(--bg-card)] flex items-center px-4 gap-3 md:hidden",children:[E.jsxs("div",{className:"relative flex-1",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-[var(--text-tertiary)]",children:E.jsx(au,{className:"w-4 h-4"})}),E.jsx("input",{type:"text",value:O,onChange:lt=>q(lt.target.value),placeholder:"Search...",autoFocus:!0,className:"w-full pl-9 pr-4 py-2 rounded-lg bg-[var(--bg-input)] border border-[var(--border-subtle)] focus:border-[var(--primary-500)] focus:ring-1 focus:ring-[var(--primary-500)] text-sm outline-none"})]}),E.jsx("button",{onClick:()=>{S(!1),q("")},className:"p-2 text-[var(--text-secondary)] hover:bg-[var(--bg-card-hover)] rounded-lg",children:E.jsx(ff,{className:"w-5 h-5"})})]})}),E.jsxs("div",{className:`flex items-center gap-3 transition-opacity duration-200 ${A?"opacity-0 md:opacity-100":"opacity-100"} min-w-0 md:min-w-[240px]`,children:[pt?E.jsxs(Cn.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},onClick:()=>L(null),className:"group flex items-center gap-2 p-1.5 pr-3 rounded-lg hover:bg-[var(--bg-card-hover)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-all",children:[E.jsx(j5,{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform"}),E.jsx("span",{className:"text-sm font-medium hidden sm:block",children:"Back"})]}):E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-8 h-8 rounded-xl bg-[var(--primary-500)] flex items-center justify-center shadow-lg shadow-[var(--primary-500)]/20 shrink-0",children:E.jsx(hg,{className:"w-4 h-4 text-[var(--text-on-primary)]"})}),E.jsxs("h1",{className:"text-lg font-bold tracking-tight text-[var(--text-primary)] hidden sm:block",children:["Link",E.jsx("span",{className:"text-[var(--text-secondary)]",children:"Dash"})]})]}),pt&&E.jsx("div",{className:"h-4 w-px bg-[var(--border-subtle)] mx-2 hidden sm:block"}),pt&&E.jsx("h1",{className:"text-lg font-bold tracking-tight text-[var(--text-primary)] truncate",children:pt.name})]}),E.jsx("div",{className:"flex-1 max-w-2xl hidden md:block",children:E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-[var(--text-tertiary)] group-focus-within:text-[var(--primary-500)] transition-colors",children:E.jsx(au,{className:"w-4 h-4"})}),E.jsx("input",{type:"text",value:O,onChange:lt=>q(lt.target.value),placeholder:"Search links, commands, or teams (Cmd+K)...",className:"w-full pl-11 pr-4 py-2.5 rounded-xl bg-[var(--bg-input)]/50 border border-[var(--border-subtle)] hover:border-[var(--border-hover)] focus:border-[var(--primary-500)]/50 focus:bg-[var(--bg-card)] focus:ring-4 focus:ring-[var(--primary-500)]/10 transition-all text-sm text-[var(--text-primary)] placeholder-[var(--text-tertiary)] outline-none"}),E.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:E.jsxs("kbd",{className:"hidden lg:inline-flex items-center gap-1 px-1.5 py-0.5 font-sans text-[10px] font-medium text-[var(--text-tertiary)] opacity-50 bg-transparent border-none shadow-none ring-0",children:[E.jsx("span",{className:"text-xs",children:""}),"K"]})})]})}),E.jsxs("div",{className:`flex items-center justify-end gap-2 md:gap-3 transition-opacity duration-200 ${A?"opacity-0 md:opacity-100":"opacity-100"} min-w-0 md:min-w-[240px]`,children:[E.jsx("button",{onClick:()=>S(!0),className:"md:hidden p-2 rounded-lg text-[var(--text-secondary)] hover:bg-[var(--bg-card-hover)] hover:text-[var(--text-primary)]",children:E.jsx(au,{className:"w-5 h-5"})}),E.jsx("div",{className:"hidden xl:flex items-center p-1 rounded-xl bg-[var(--bg-input)]/50 border border-[var(--border-subtle)]",children:["all","work","personal"].map(lt=>E.jsx("button",{onClick:()=>Ct(lt),className:`px-3 py-1.5 rounded-[8px] text-[11px] font-semibold uppercase tracking-wider transition-all ${M===lt?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm ring-1 ring-white/5":"text-[var(--text-tertiary)] hover:text-[var(--text-secondary)] hover:bg-[var(--bg-card-hover)]/50"}`,children:lt},lt))}),E.jsx("div",{className:"w-px h-6 bg-[var(--border-subtle)] hidden xl:block"}),!pt&&E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(ya,{content:"Join an existing team",children:E.jsx("button",{onClick:y,className:"h-9 w-9 flex items-center justify-center rounded-lg hover:bg-[var(--bg-card-hover)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-all",title:"Join Team",children:E.jsx(SO,{className:"w-4 h-4"})})}),E.jsx(ya,{content:"Create a new team",children:E.jsx("button",{onClick:p,className:"h-9 w-9 flex items-center justify-center rounded-lg hover:bg-[var(--bg-card-hover)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-all",title:"Create Team",children:E.jsx(dg,{className:"w-4 h-4"})})})]}),!pt&&(v?.status==="synced"?E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(ya,{content:"Refresh from Cloud",children:E.jsx("button",{onClick:j,className:"h-9 w-9 flex items-center justify-center rounded-lg text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 transition-all",title:"Refresh from Cloud",children:E.jsx(MO,{className:"w-4 h-4"})})}),E.jsx(ya,{content:"Synced (Click to Disconnect)",children:E.jsxs("button",{onClick:I,className:"h-9 w-9 flex items-center justify-center rounded-lg text-green-400 hover:bg-red-500/10 hover:text-red-400 transition-all group",title:"Synced (Click to Disconnect)",children:[E.jsx(ku,{className:"w-4 h-4 group-hover:hidden"}),E.jsx(ff,{className:"w-4 h-4 hidden group-hover:block"})]})})]}):E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(ya,{content:"Enable Cloud Sync",children:E.jsx("button",{onClick:x,className:"h-9 w-9 flex items-center justify-center rounded-lg text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-card-hover)] transition-all",title:"Enable Cloud Sync",children:E.jsx(ku,{className:"w-4 h-4"})})}),E.jsx(ya,{content:"Recover Data",children:E.jsx("button",{onClick:w,className:"h-9 w-9 flex items-center justify-center rounded-lg text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-card-hover)] transition-all",title:"Recover Data",children:E.jsx(tO,{className:"w-4 h-4"})})})]})),E.jsx(ya,{content:"Dashboard Settings",children:E.jsx("button",{onClick:k,className:"h-9 w-9 flex items-center justify-center rounded-lg hover:bg-[var(--bg-card-hover)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-all",title:"Settings",children:E.jsx(OO,{className:"w-4 h-4"})})}),E.jsxs(Cn.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:pt?void 0:i,disabled:et,className:`ml-2 h-9 px-4 rounded-xl bg-[var(--primary-500)] text-[var(--text-on-primary)] text-sm font-semibold shadow-lg shadow-[var(--primary-500)]/20 flex items-center gap-2 border border-white/10 ${pt?"opacity-50 grayscale":"hover:brightness-110"}`,children:[E.jsx(fg,{className:"w-4 h-4"}),E.jsx("span",{className:"hidden sm:inline",children:"New"})]})]})]})}),E.jsxs("main",{className:"max-w-[1600px] mx-auto px-4 sm:px-8 py-8 space-y-12",children:[!pt&&!O&&t.length>0&&E.jsxs("section",{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:[E.jsx(dg,{className:"w-4 h-4"})," Joined Teams"]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(lt=>E.jsx(Pj,{team:lt,onView:()=>L(lt.id),onDelete:()=>m(lt.id)},lt.id))})]}),E.jsxs("section",{children:[!pt&&t.length>0&&!O&&E.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:[E.jsx(hg,{className:"w-4 h-4"})," My Collections"]}),pt?E.jsx("div",{className:`grid gap-6 ${z==="grid"?"grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4":"grid-cols-1 max-w-4xl mx-auto"}`,children:ht.map(lt=>E.jsx(bp,{category:lt,viewMode:z,isReadOnly:!0,onIncrementClick:D},lt.id))}):E.jsxs(nj,{sensors:yt,collisionDetection:o6,onDragStart:_t,onDragEnd:vt,children:[E.jsxs(Aj,{items:ht.filter(lt=>!lt.pinned).map(lt=>lt.id),strategy:Ly,children:[E.jsx(Cn.div,{layout:!0,className:`flex gap-6 items-start ${z==="grid"?"":"max-w-4xl mx-auto"}`,children:Array.from({length:st}).map((lt,Vt)=>E.jsx("div",{className:"flex-1 flex flex-col gap-6",children:E.jsx(Cr,{mode:"popLayout",children:ht.map((xt,At)=>({...xt,originalIndex:At})).filter((xt,At)=>At%st===Vt).map(xt=>E.jsx(Cn.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{duration:.3,delay:xt.originalIndex*.05},className:"break-inside-avoid",children:E.jsx(bp,{category:xt,viewMode:z,onEdit:()=>r(xt),onDelete:()=>o(xt.id),onAddUrl:()=>u(xt.id),onEditUrl:At=>c(xt.id,At),onDeleteUrl:At=>d(xt.id,At),onTogglePin:()=>P(xt.id),onToggleCollapse:()=>G(xt.id),isReadOnly:!1,onIncrementClick:D,linkLayout:Y})},xt.id))})},Vt))}),ht.length===0&&E.jsx("div",{className:"w-full",style:{columnSpan:"all"},children:E.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-[var(--text-tertiary)]",children:[E.jsx(au,{className:"w-12 h-12 mb-4 opacity-30"}),E.jsx("p",{className:"text-lg font-medium",children:O?`No matches for "${O}"`:"No collections found"})]})})]}),E.jsx(xj,{children:Pt?E.jsx("div",{className:"opacity-90 scale-105 cursor-grabbing",children:E.jsx(bp,{category:e.find(lt=>lt.id===Pt),viewMode:z,isReadOnly:!0})}):null})]})]})]})]})}const zj={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}}},Bj={hidden:{opacity:0,scale:.95,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",damping:30,stiffness:300}},exit:{opacity:0,scale:.95,y:10,transition:{duration:.15}}};function Hr({isOpen:e,onClose:t,title:i,children:r}){return V.useEffect(()=>{const o=u=>u.key==="Escape"&&t();return e&&(document.body.style.overflow="hidden",window.addEventListener("keydown",o)),()=>{document.body.style.overflow="unset",window.removeEventListener("keydown",o)}},[e,t]),E.jsx(Cr,{children:e&&E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[E.jsx(Cn.div,{variants:zj,initial:"hidden",animate:"visible",exit:"exit",onClick:t,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),E.jsxs(Cn.div,{variants:Bj,initial:"hidden",animate:"visible",exit:"exit",className:"relative w-full max-w-md glass-panel rounded-2xl shadow-2xl overflow-hidden bg-[#09090b]",onClick:o=>o.stopPropagation(),children:[E.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-[var(--border-subtle)] bg-[var(--bg-card)]",children:[E.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:i}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"hidden sm:inline-flex items-center gap-1 text-[10px] text-[var(--text-tertiary)] border border-[var(--border-subtle)] px-1.5 py-0.5 rounded font-mono",children:"ESC"}),E.jsx("button",{onClick:t,className:"p-1 rounded-md hover:bg-[var(--bg-card-hover)] text-[var(--text-secondary)] hover:text-white transition-colors",children:E.jsx(ff,{className:"w-5 h-5"})})]})]}),E.jsx("div",{className:"p-6",children:r})]})]})})}function Fj({isOpen:e,onClose:t,onSubmit:i,editData:r}){return E.jsx(Hr,{isOpen:e,onClose:t,title:r?"Rename Collection":"New Collection",children:E.jsxs("form",{onSubmit:o=>{o.preventDefault();const u=new FormData(o.target),c=u.get("name").toString().trim(),d=u.get("mode").toString();c&&(i(c,d),t())},className:"flex flex-col gap-5",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"col-span-2",children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Collection Name"}),E.jsx("input",{name:"name",defaultValue:r?.name,placeholder:"e.g. Development...",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm",autoFocus:!0})]}),E.jsxs("div",{className:"col-span-2",children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Focus Mode"}),E.jsx("div",{className:"flex gap-2",children:["neutral","work","personal"].map(o=>E.jsxs("label",{className:"flex-1 cursor-pointer",children:[E.jsx("input",{type:"radio",name:"mode",value:o,defaultChecked:r?r.mode===o:o==="neutral",className:"hidden peer"}),E.jsx("div",{className:"h-10 rounded-lg border border-[var(--border-subtle)] bg-[var(--bg-input)] flex items-center justify-center text-sm capitalize text-[var(--text-secondary)] peer-checked:bg-[var(--text-primary)] peer-checked:text-[var(--bg-main)] peer-checked:font-semibold transition-all hover:bg-[var(--bg-card-hover)]",children:o})]},o))})]})]}),E.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[E.jsx("button",{type:"button",onClick:t,className:"px-4 py-2.5 rounded-xl text-sm font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-card-hover)] transition-colors",children:"Cancel"}),E.jsx("button",{type:"submit",className:"btn-primary px-6 py-2.5 rounded-xl text-sm shadow-lg shadow-white/10",children:r?"Save Changes":"Create Collection"})]})]})})}function Hj({isOpen:e,onClose:t,onSubmit:i,editData:r,categoryName:o,prefillUrl:u=""}){const[c,d]=V.useState(""),[m,p]=V.useState(""),[y,v]=V.useState("");return V.useEffect(()=>{if(e){if(r)d(r.title),p(r.url),v(r.customFavicon||"");else if(d(""),p(u||""),v(""),u)try{const x=new URL(u).hostname;d(x.replace("www.",""))}catch{}}},[e,r,u]),E.jsx(Hr,{isOpen:e,onClose:t,title:r?"Edit Link":`Add to ${o}`,children:E.jsxs("form",{onSubmit:x=>{x.preventDefault();const w=new FormData(x.target),j=w.get("title").toString().trim();let I=w.get("url").toString().trim();const D=w.get("customFavicon").toString().trim()||null;I.match(/^https?:\/\//)||(I="https://"+I),j&&I&&(i(j,I,D),t())},className:"flex flex-col gap-5",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Title"}),E.jsx("input",{name:"title",value:c,onChange:x=>d(x.target.value),placeholder:"e.g. GitHub Repository",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm",autoFocus:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"URL"}),E.jsx("input",{name:"url",value:m,onChange:x=>p(x.target.value),placeholder:"https://example.com",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm font-mono text-[var(--text-tertiary)] focus:text-[var(--text-primary)]"})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:["Icon URL ",E.jsx("span",{className:"text-[var(--text-tertiary)] lowercase font-normal",children:"(optional)"})]}),E.jsx("input",{name:"customFavicon",value:y,onChange:x=>v(x.target.value),placeholder:"https://example.com/icon.png",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm font-mono text-[var(--text-tertiary)] focus:text-[var(--text-primary)]"})]}),E.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[E.jsx("button",{type:"button",onClick:t,className:"px-4 py-2.5 rounded-xl text-sm font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-card-hover)] transition-colors",children:"Cancel"}),E.jsx("button",{type:"submit",className:"btn-primary px-6 py-2.5 rounded-xl text-sm shadow-lg shadow-white/10",children:r?"Save Changes":"Add Link"})]})]})})}function qj({isOpen:e,onClose:t,onConfirm:i,title:r,message:o,actionLabel:u="Delete"}){return E.jsx(Hr,{isOpen:e,onClose:t,title:r,children:E.jsxs("div",{className:"flex flex-col gap-6",children:[E.jsx("p",{className:"text-sm text-[var(--text-secondary)] leading-relaxed",children:o}),E.jsxs("div",{className:"flex justify-end gap-3",children:[E.jsx("button",{onClick:t,className:"px-4 py-2.5 rounded-xl text-sm font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-card-hover)] transition-colors",children:"Cancel"}),E.jsx("button",{onClick:()=>{i(),t()},className:"btn-primary px-6 py-2.5 rounded-xl text-sm shadow-lg shadow-red-500/10 bg-red-600 hover:bg-red-500 text-white border-none",style:{background:"#dc2626",color:"white"},children:u})]})]})})}var _p={exports:{}},iT;function Gj(){return iT||(iT=1,(function(e){var t=(function(){var i=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",u={};function c(m,p){if(!u[m]){u[m]={};for(var y=0;y<m.length;y++)u[m][m.charAt(y)]=y}return u[m][p]}var d={compressToBase64:function(m){if(m==null)return"";var p=d._compress(m,6,function(y){return r.charAt(y)});switch(p.length%4){default:case 0:return p;case 1:return p+"===";case 2:return p+"==";case 3:return p+"="}},decompressFromBase64:function(m){return m==null?"":m==""?null:d._decompress(m.length,32,function(p){return c(r,m.charAt(p))})},compressToUTF16:function(m){return m==null?"":d._compress(m,15,function(p){return i(p+32)})+" "},decompressFromUTF16:function(m){return m==null?"":m==""?null:d._decompress(m.length,16384,function(p){return m.charCodeAt(p)-32})},compressToUint8Array:function(m){for(var p=d.compress(m),y=new Uint8Array(p.length*2),v=0,x=p.length;v<x;v++){var w=p.charCodeAt(v);y[v*2]=w>>>8,y[v*2+1]=w%256}return y},decompressFromUint8Array:function(m){if(m==null)return d.decompress(m);for(var p=new Array(m.length/2),y=0,v=p.length;y<v;y++)p[y]=m[y*2]*256+m[y*2+1];var x=[];return p.forEach(function(w){x.push(i(w))}),d.decompress(x.join(""))},compressToEncodedURIComponent:function(m){return m==null?"":d._compress(m,6,function(p){return o.charAt(p)})},decompressFromEncodedURIComponent:function(m){return m==null?"":m==""?null:(m=m.replace(/ /g,"+"),d._decompress(m.length,32,function(p){return c(o,m.charAt(p))}))},compress:function(m){return d._compress(m,16,function(p){return i(p)})},_compress:function(m,p,y){if(m==null)return"";var v,x,w={},j={},I="",D="",k="",B=2,P=3,G=2,Y=[],z=0,A=0,S;for(S=0;S<m.length;S+=1)if(I=m.charAt(S),Object.prototype.hasOwnProperty.call(w,I)||(w[I]=P++,j[I]=!0),D=k+I,Object.prototype.hasOwnProperty.call(w,D))k=D;else{if(Object.prototype.hasOwnProperty.call(j,k)){if(k.charCodeAt(0)<256){for(v=0;v<G;v++)z=z<<1,A==p-1?(A=0,Y.push(y(z)),z=0):A++;for(x=k.charCodeAt(0),v=0;v<8;v++)z=z<<1|x&1,A==p-1?(A=0,Y.push(y(z)),z=0):A++,x=x>>1}else{for(x=1,v=0;v<G;v++)z=z<<1|x,A==p-1?(A=0,Y.push(y(z)),z=0):A++,x=0;for(x=k.charCodeAt(0),v=0;v<16;v++)z=z<<1|x&1,A==p-1?(A=0,Y.push(y(z)),z=0):A++,x=x>>1}B--,B==0&&(B=Math.pow(2,G),G++),delete j[k]}else for(x=w[k],v=0;v<G;v++)z=z<<1|x&1,A==p-1?(A=0,Y.push(y(z)),z=0):A++,x=x>>1;B--,B==0&&(B=Math.pow(2,G),G++),w[D]=P++,k=String(I)}if(k!==""){if(Object.prototype.hasOwnProperty.call(j,k)){if(k.charCodeAt(0)<256){for(v=0;v<G;v++)z=z<<1,A==p-1?(A=0,Y.push(y(z)),z=0):A++;for(x=k.charCodeAt(0),v=0;v<8;v++)z=z<<1|x&1,A==p-1?(A=0,Y.push(y(z)),z=0):A++,x=x>>1}else{for(x=1,v=0;v<G;v++)z=z<<1|x,A==p-1?(A=0,Y.push(y(z)),z=0):A++,x=0;for(x=k.charCodeAt(0),v=0;v<16;v++)z=z<<1|x&1,A==p-1?(A=0,Y.push(y(z)),z=0):A++,x=x>>1}B--,B==0&&(B=Math.pow(2,G),G++),delete j[k]}else for(x=w[k],v=0;v<G;v++)z=z<<1|x&1,A==p-1?(A=0,Y.push(y(z)),z=0):A++,x=x>>1;B--,B==0&&(B=Math.pow(2,G),G++)}for(x=2,v=0;v<G;v++)z=z<<1|x&1,A==p-1?(A=0,Y.push(y(z)),z=0):A++,x=x>>1;for(;;)if(z=z<<1,A==p-1){Y.push(y(z));break}else A++;return Y.join("")},decompress:function(m){return m==null?"":m==""?null:d._decompress(m.length,32768,function(p){return m.charCodeAt(p)})},_decompress:function(m,p,y){var v=[],x=4,w=4,j=3,I="",D=[],k,B,P,G,Y,z,A,S={val:y(0),position:p,index:1};for(k=0;k<3;k+=1)v[k]=k;for(P=0,Y=Math.pow(2,2),z=1;z!=Y;)G=S.val&S.position,S.position>>=1,S.position==0&&(S.position=p,S.val=y(S.index++)),P|=(G>0?1:0)*z,z<<=1;switch(P){case 0:for(P=0,Y=Math.pow(2,8),z=1;z!=Y;)G=S.val&S.position,S.position>>=1,S.position==0&&(S.position=p,S.val=y(S.index++)),P|=(G>0?1:0)*z,z<<=1;A=i(P);break;case 1:for(P=0,Y=Math.pow(2,16),z=1;z!=Y;)G=S.val&S.position,S.position>>=1,S.position==0&&(S.position=p,S.val=y(S.index++)),P|=(G>0?1:0)*z,z<<=1;A=i(P);break;case 2:return""}for(v[3]=A,B=A,D.push(A);;){if(S.index>m)return"";for(P=0,Y=Math.pow(2,j),z=1;z!=Y;)G=S.val&S.position,S.position>>=1,S.position==0&&(S.position=p,S.val=y(S.index++)),P|=(G>0?1:0)*z,z<<=1;switch(A=P){case 0:for(P=0,Y=Math.pow(2,8),z=1;z!=Y;)G=S.val&S.position,S.position>>=1,S.position==0&&(S.position=p,S.val=y(S.index++)),P|=(G>0?1:0)*z,z<<=1;v[w++]=i(P),A=w-1,x--;break;case 1:for(P=0,Y=Math.pow(2,16),z=1;z!=Y;)G=S.val&S.position,S.position>>=1,S.position==0&&(S.position=p,S.val=y(S.index++)),P|=(G>0?1:0)*z,z<<=1;v[w++]=i(P),A=w-1,x--;break;case 2:return D.join("")}if(x==0&&(x=Math.pow(2,j),j++),v[A])I=v[A];else if(A===w)I=B+B.charAt(0);else return null;D.push(I),v[w++]=B+I.charAt(0),x--,B=I,x==0&&(x=Math.pow(2,j),j++)}}};return d})();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(_p)),_p.exports}var Kj=Gj();const ow=sT(Kj),Yj=e=>{try{return ow.compressToEncodedURIComponent(JSON.stringify(e))}catch(t){return console.error("Failed to encode team data",t),null}},Xj=e=>{try{let t=ow.decompressFromEncodedURIComponent(e);if(t&&t.startsWith("{"))return JSON.parse(t);const i=decodeURIComponent(atob(e));return JSON.parse(i)}catch(t){return console.warn("Failed to decode team data (legacy fallback also failed)",t),null}};function Qj({isOpen:e,onClose:t,categories:i}){const[r,o]=V.useState(1),[u,c]=V.useState([]),[d,m]=V.useState(""),[p,y]=V.useState(""),[v,x]=V.useState(!1),[w,j]=V.useState(!1),[I,D]=V.useState(!1),k=()=>{if(!d||u.length===0)return;const z={name:d,categories:i.filter(S=>u.includes(S.id))},A=Yj(z);y(A),x(!1),o(2)},B=async()=>{if(!(!d||u.length===0)){j(!0);try{const z={name:d,categories:i.filter(S=>u.includes(S.id))},A=await $g.saveTeam(z);y(A),x(!0),o(2)}catch(z){z.code==="permission-denied"?alert("Permission Denied: You need to update your Firestore Security Rules to allow 'shared_teams'."):alert("Failed to generate cloud code. Please check your connection."),console.error(z)}finally{j(!1)}}},P=z=>{u.includes(z)?c(u.filter(A=>A!==z)):c([...u,z])},G=()=>{navigator.clipboard.writeText(p),D(!0),setTimeout(()=>D(!1),2e3)},Y=()=>{o(1),c([]),m(""),y(""),x(!1),D(!1),t()};return E.jsx(Hr,{isOpen:e,onClose:Y,title:r===1?"Create Team Dashboard":v?"Easy Share Code":"Share Team Code",children:r===1?E.jsxs("div",{className:"flex flex-col gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Team Name"}),E.jsx("input",{value:d,onChange:z=>m(z.target.value),placeholder:"e.g. Engineering Team",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm",autoFocus:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-3 uppercase tracking-wider",children:"Select Collections to Share"}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-60 overflow-y-auto pr-1",children:i.map(z=>E.jsxs("div",{onClick:()=>P(z.id),className:`p-3 rounded-lg border cursor-pointer transition-all flex items-center gap-3 ${u.includes(z.id)?"bg-indigo-500/10 border-indigo-500/50 text-indigo-200":"bg-[var(--bg-input)] border-[var(--border-subtle)] text-[var(--text-secondary)] hover:border-[var(--text-secondary)]"}`,children:[E.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${u.includes(z.id)?"bg-indigo-500 border-indigo-500 text-white":"border-[var(--border-strong)]"}`,children:u.includes(z.id)&&E.jsx(hf,{className:"w-3 h-3"})}),E.jsx("span",{className:"text-sm font-medium truncate",children:z.name})]},z.id))}),i.length===0&&E.jsx("p",{className:"text-sm text-[var(--text-tertiary)] italic",children:"No collections available to share."})]}),E.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-subtle)] mt-4",children:[E.jsx("button",{onClick:Y,className:"px-3 py-2 rounded-lg text-xs font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-secondary)] transition-colors",children:"Cancel"}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:k,disabled:!d||u.length===0||w,className:"px-3 py-2 rounded-lg text-xs font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] border border-[var(--border-subtle)] hover:border-[var(--border-hover)] bg-[var(--bg-input)] hover:bg-[var(--bg-secondary)] transition-all",children:"Copy Offline Code"}),E.jsx("button",{onClick:B,disabled:!d||u.length===0||w,className:"btn-primary px-4 py-2 rounded-lg text-xs font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 shadow-sm",children:w?"Generating...":E.jsxs(E.Fragment,{children:[E.jsx(ku,{className:"w-3.5 h-3.5"})," Generate Easy Code"]})})]})]})]}):E.jsxs("div",{className:"flex flex-col items-center text-center gap-6",children:[E.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center border ${v?"bg-blue-500/10 text-blue-500 border-blue-500/20":"bg-green-500/10 text-green-500 border-green-500/20"}`,children:v?E.jsx(ku,{className:"w-8 h-8"}):E.jsx(TO,{className:"w-8 h-8"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-semibold mb-2",children:v?"Easy Share Code Ready!":"Offline Team Code Ready!"}),E.jsx("p",{className:"text-sm text-[var(--text-secondary)] max-w-xs mx-auto",children:v?"Share this short code with your team. They can enter it to join instantly.":"This offline code works without internet. Share it securely."})]}),E.jsxs("div",{className:"w-full relative group",children:[E.jsx("div",{className:`absolute inset-0 bg-gradient-to-r blur-xl opacity-0 group-hover:opacity-100 transition-opacity ${v?"from-blue-500/20 to-cyan-500/20":"from-green-500/20 to-emerald-500/20"}`}),E.jsx("div",{className:`relative bg-[var(--bg-input)] border border-[var(--border-subtle)] rounded-xl p-4 font-mono text-center cursor-pointer hover:border-[var(--text-secondary)] transition-colors ${v?"text-2xl font-bold tracking-widest text-[var(--text-primary)]":"text-xs break-all text-[var(--text-secondary)] text-left"}`,onClick:G,children:p})]}),E.jsx("button",{onClick:G,className:`w-full py-2.5 rounded-lg font-medium flex items-center justify-center gap-2 transition-all text-sm ${I?"bg-green-500 text-white":"btn-primary"}`,children:I?E.jsxs(E.Fragment,{children:[E.jsx(hf,{className:"w-3.5 h-3.5"})," Copied"]}):E.jsxs(E.Fragment,{children:[E.jsx(NA,{className:"w-3.5 h-3.5"})," Copy Code"]})})]})})}function $j({isOpen:e,onClose:t,onJoin:i}){const[r,o]=V.useState(""),[u,c]=V.useState(""),[d,m]=V.useState(!1),p=async y=>{if(y.preventDefault(),!!r){m(!0),c("");try{if(r.length<20){const v=await $g.getTeam(r);v?(i(v),o(""),t()):c("Team code not found. Check the code and try again.")}else{const v=Xj(r);v&&v.name&&v.categories?(i(v),o(""),t()):c("Invalid or corrupted team code.")}}catch(v){console.error(v),c("Failed to join team. Please try again.")}finally{m(!1)}}};return E.jsx(Hr,{isOpen:e,onClose:t,title:"Join Team Dashboard",children:E.jsxs("form",{onSubmit:p,className:"flex flex-col gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Enter Team Code"}),E.jsx("textarea",{value:r,onChange:y=>{o(y.target.value),c("")},placeholder:"Paste the code here (e.g. ABC-123 or offline code)...",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm font-mono min-h-[100px] resize-none",autoFocus:!0}),u&&E.jsxs("p",{className:"text-red-400 text-xs mt-2 flex items-center gap-1",children:[E.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-400"})," ",u]})]}),E.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-subtle)] mt-4",children:[E.jsx("button",{type:"button",onClick:t,className:"px-3 py-2 rounded-lg text-xs font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-secondary)] transition-colors",children:"Cancel"}),E.jsxs("button",{type:"submit",disabled:!r||d,className:"btn-primary px-4 py-2 rounded-lg text-xs font-medium disabled:opacity-50 flex items-center gap-1.5 shadow-sm",children:[d&&E.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-white/30 border-t-white animate-spin"}),d?"Joining...":"Import Dashboard"]})]})]})})}function Zj({isOpen:e,onClose:t,onEnable:i}){const[r,o]=V.useState(1),[u,c]=V.useState(""),[d,m]=V.useState(!1),[p,y]=V.useState(!1),[v,x]=V.useState(""),w=async()=>{y(!0),x("");try{const I=await i();c(I),o(2)}catch{x("Failed to enable sync. Please check your network.")}finally{y(!1)}},j=()=>{navigator.clipboard.writeText(u),m(!0),setTimeout(()=>m(!1),2e3)};return E.jsx(Hr,{isOpen:e,onClose:t,title:r===1?"Enable Cloud Sync":"Save Your Secret Key",children:r===1?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-500/20 rounded-xl p-4 flex items-start gap-3",children:[E.jsx("div",{className:"p-2 bg-indigo-500/20 rounded-lg text-indigo-400",children:E.jsx(ku,{className:"w-5 h-5"})}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-semibold text-indigo-200",children:"Zero-Knowledge Sync"}),E.jsx("p",{className:"text-sm text-indigo-200/70 mt-1",children:"Your data is uniquely encrypted on your device. We cannot see it, and no one can access it without your key."})]})]}),E.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"We will generate a **Secret Recovery Key** for you. This key is your only way to access your data on other devices. If you lose it, your data cannot be recovered."}),E.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[E.jsx("button",{onClick:t,className:"px-4 py-2 rounded-xl text-sm text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"Cancel"}),E.jsx("button",{onClick:w,disabled:p,className:"btn-primary px-6 py-2.5 rounded-xl text-sm flex items-center gap-2",children:p?E.jsx(MA,{className:"w-4 h-4 animate-spin"}):"Generate Key & Sync"})]}),v&&E.jsx("p",{className:"text-red-400 text-xs text-center",children:v})]}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 flex items-start gap-3",children:[E.jsx(LO,{className:"w-5 h-5 text-red-400 shrink-0"}),E.jsxs("p",{className:"text-sm text-red-200/80",children:[E.jsx("strong",{className:"text-red-200",children:"IMPORTANT:"})," Save this key securely! We do not store it. If you lose it, you lose access."]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Your Secret Recovery Key"}),E.jsxs("div",{onClick:j,className:"bg-[var(--bg-input)] border border-[var(--border-subtle)] rounded-xl p-4 cursor-pointer hover:border-[var(--text-secondary)] transition-colors group relative",children:[E.jsx("code",{className:"text-lg font-mono text-[var(--text-primary)] break-all",children:u}),E.jsx("div",{className:"absolute top-2 right-2 p-2 rounded-lg bg-[var(--bg-card)] text-[var(--text-secondary)] opacity-0 group-hover:opacity-100 transition-opacity",children:d?E.jsx(hf,{className:"w-4 h-4 text-green-400"}):E.jsx(NA,{className:"w-4 h-4"})})]})]}),E.jsx("div",{className:"flex justify-end",children:E.jsx("button",{onClick:t,className:"btn-primary px-6 py-2.5 rounded-xl text-sm",children:"I have saved my key"})})]})})}function Jj({isOpen:e,onClose:t,onRecover:i}){const[r,o]=V.useState(""),[u,c]=V.useState(!1),[d,m]=V.useState(""),p=async y=>{if(y.preventDefault(),!!r.trim()){c(!0),m("");try{await i(r.trim())?t():m("Invalid key or no data found.")}catch{m("Recovery failed.")}finally{c(!1)}}};return E.jsx(Hr,{isOpen:e,onClose:t,title:"Recover Account",children:E.jsxs("form",{onSubmit:p,className:"space-y-6",children:[E.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Enter your Secret Recovery Key to decrypt and restore your dashboard. This will overwrite any current data."}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-2 uppercase tracking-wider",children:"Secret Key"}),E.jsx("textarea",{value:r,onChange:y=>{o(y.target.value),m("")},placeholder:"Paste your key here...",className:"input-minimal w-full px-4 py-3 rounded-xl text-sm font-mono min-h-[100px] resize-none",autoFocus:!0}),d&&E.jsx("p",{className:"text-red-400 text-xs mt-2 flex items-center gap-1",children:d})]}),E.jsxs("div",{className:"flex justify-end gap-3",children:[E.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-xl text-sm text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"Cancel"}),E.jsx("button",{type:"submit",disabled:!r||u,className:"btn-primary px-6 py-2.5 rounded-xl text-sm disabled:opacity-50 flex items-center gap-2",children:u?E.jsx(MA,{className:"w-4 h-4 animate-spin"}):"Decrypt & Restore"})]})]})})}function Wj({isOpen:e,onClose:t,categories:i,teams:r=[],initialQuery:o="",onIncrementClick:u}){const[c,d]=V.useState(o),[m,p]=V.useState(0),y=V.useMemo(()=>{const w=[];return i.forEach(j=>{j.urls.forEach(I=>{w.push({type:"url",id:I.id,title:I.title,subtitle:j.name,url:I.url,icon:I.customFavicon||`https://www.google.com/s2/favicons?domain=${new URL(I.url).hostname}`,originalObj:I,categoryId:j.id,clickCount:I.clickCount||0})})}),r.forEach(j=>{j.categories&&j.categories.forEach(I=>{I.urls&&I.urls.forEach(D=>{w.push({type:"url",id:D.id,title:D.title||D.url,subtitle:`${j.name}  ${I.name}`,url:D.url,icon:D.customFavicon||`https://www.google.com/s2/favicons?domain=${new URL(D.url).hostname}`,originalObj:D,categoryId:I.id,clickCount:D.clickCount||0})})})}),w.sort((j,I)=>I.clickCount-j.clickCount)},[i,r]),v=V.useMemo(()=>c?y.filter(w=>w.title.toLowerCase().includes(c.toLowerCase())||w.url.toLowerCase().includes(c.toLowerCase())||w.subtitle.toLowerCase().includes(c.toLowerCase())).slice(0,8):y.slice(0,10),[c,y]),x=V.useCallback(w=>{w.type==="url"&&(window.open(w.url,"_blank"),u(w.categoryId,w.id),t(),d(""))},[u,t]);return V.useEffect(()=>{p(0)},[c]),V.useEffect(()=>{const w=j=>{e&&(j.key==="ArrowDown"?(j.preventDefault(),p(I=>(I+1)%v.length)):j.key==="ArrowUp"?(j.preventDefault(),p(I=>(I-1+v.length)%v.length)):j.key==="Enter"?(j.preventDefault(),v[m]&&x(v[m])):j.key==="Escape"&&t())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[e,v,m,t,x]),e?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[15vh] px-4",children:[E.jsx(Cn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),E.jsxs(Cn.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},className:"w-full max-w-xl bg-[#09090b] border border-[var(--border-subtle)] rounded-2xl shadow-2xl overflow-hidden relative z-10 flex flex-col max-h-[60vh]",children:[E.jsxs("div",{className:"flex items-center px-4 py-4 border-b border-[var(--border-subtle)] gap-3",children:[E.jsx(au,{className:"w-5 h-5 text-[var(--text-tertiary)]"}),E.jsx("input",{autoFocus:!0,value:c,onChange:w=>d(w.target.value),placeholder:"Type a command or search...",className:"cmd-palette-input flex-1 bg-transparent border-none outline-none focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:outline-none text-[var(--text-primary)] placeholder-[var(--text-tertiary)] text-lg h-full"}),E.jsx("div",{className:"px-2 py-1 rounded bg-[var(--bg-input)] border border-[var(--border-subtle)] text-[10px] text-[var(--text-tertiary)] font-mono",children:"ESC"})]}),E.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1 scrollbar-hide",children:v.length===0?E.jsx("div",{className:"py-8 text-center text-[var(--text-tertiary)] text-sm",children:"No results found."}):v.map((w,j)=>E.jsxs("button",{onClick:()=>x(w),onMouseEnter:()=>p(j),className:`w-full text-left px-3 py-3 rounded-xl flex items-center gap-3 transition-colors ${j===m?"bg-[var(--bg-card-hover)]":"hover:bg-[var(--bg-input)]"}`,children:[E.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center border border-[var(--border-subtle)] ${j===m?"bg-indigo-500/10 border-indigo-500/30":"bg-[var(--bg-input)]"}`,children:E.jsx("img",{src:w.icon,className:"w-4 h-4 object-contain opacity-80",onError:I=>I.target.style.display="none"})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h4",{className:`text-sm font-medium truncate ${j===m?"text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:w.title}),j===m&&E.jsx($5,{className:"w-3.5 h-3.5 text-[var(--text-tertiary)]"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-xs text-[var(--text-tertiary)]",children:w.subtitle}),w.clickCount>0&&E.jsxs("span",{className:"text-[10px] px-1.5 rounded-full bg-[var(--bg-input)] text-[var(--text-tertiary)] border border-[var(--border-subtle)]",children:[w.clickCount," visits"]})]})]})]},`${w.id}-${j}`))}),E.jsxs("div",{className:"px-4 py-2 bg-[var(--bg-input)] border-t border-[var(--border-subtle)] flex items-center justify-between text-[11px] text-[var(--text-tertiary)]",children:[E.jsxs("span",{children:[E.jsx("span",{className:"font-medium text-[var(--text-secondary)]",children:"ProTip:"})," Use arrow keys to navigate"]}),E.jsx("div",{className:"flex items-center gap-4",children:E.jsx("span",{children:"Open Link "})})]})]})]}):null}const t9=e=>{const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),i=URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download=`linkdash-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)},e9=e=>{let t=`<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- This is an automatically generated file.
     It will be read and overwritten.
     DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>LinkDash Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
`;e.categories.forEach(u=>{t+=`    <DT><H3>${u.name}</H3>
    <DL><p>
`,u.urls&&u.urls.forEach(c=>{t+=`        <DT><A HREF="${c.url}">${c.title||c.url}</A>
`}),t+=`    </DL><p>
`}),t+="</DL><p>";const i=new Blob([t],{type:"text/html"}),r=URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=`linkdash-bookmarks-${new Date().toISOString().split("T")[0]}.html`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)},n9=e=>{const i=new DOMParser().parseFromString(e,"text/html"),r=[],o={id:crypto.randomUUID(),name:"Imported",urls:[]},u=d=>{const m=[];return d.querySelectorAll("dt > a").forEach(y=>{m.push({id:crypto.randomUUID(),title:y.textContent,url:y.href,customFavicon:y.getAttribute("icon")||null})}),m},c=i.querySelectorAll("dt > h3");if(c.length===0){const d=u(i.body);d.length>0&&(o.urls=d,r.push(o))}else c.forEach(d=>{const m=d.nextElementSibling;if(m&&m.tagName==="DL"){const p=u(m);p.length>0&&r.push({id:crypto.randomUUID(),name:d.textContent,urls:p})}});return{categories:r}};function i9({isOpen:e,onClose:t,currentTheme:i,currentPattern:r,currentLinkLayout:o="list",onUpdate:u,localData:c,onImport:d}){const m=V.useRef(null),[p,y]=V.useState("appearance"),[v,x]=V.useState(null),w=async D=>{const k=D.target.files?.[0];if(k)try{const B=await k.text();let P=!1;if(k.name.endsWith(".json")){const G=JSON.parse(B);P=d(G)}else if(k.name.endsWith(".html")){const G=n9(B);P=d(G)}P?(alert("Import successful!"),t()):alert("Invalid file format.")}catch(B){console.error("Import failed:",B),alert("Failed to import file.")}finally{m.current&&(m.current.value="")}},j=[{id:"theme-white",name:"White",color:"#ffffff"},{id:"theme-indigo",name:"Indigo",color:"#6366f1"},{id:"theme-violet",name:"Violet",color:"#8b5cf6"},{id:"theme-rose",name:"Rose",color:"#f43f5e"},{id:"theme-teal",name:"Teal",color:"#14b8a6"},{id:"theme-amber",name:"Amber",color:"#f59e0b"}],I=[{id:"dots",name:"Dots",icon:K5},{id:"grid",name:"Grid",icon:dO},{id:"none",name:"Plain",icon:null}];return E.jsxs(Hr,{isOpen:e,onClose:t,title:"Settings",children:[E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"flex gap-2 p-1 mb-6 bg-[var(--bg-input)] rounded-xl border border-[var(--border-subtle)]",children:[E.jsxs("button",{onClick:()=>y("appearance"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm font-medium transition-all ${p==="appearance"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-tertiary)] hover:text-[var(--text-secondary)]"}`,children:[E.jsx(wO,{className:"w-4 h-4"}),"Appearance"]}),E.jsxs("button",{onClick:()=>y("data"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm font-medium transition-all ${p==="data"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-tertiary)] hover:text-[var(--text-secondary)]"}`,children:[E.jsx(J5,{className:"w-4 h-4"}),"Data & Backup"]})]}),E.jsxs("div",{className:"space-y-6",children:[p==="appearance"&&E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-200",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-3 uppercase tracking-wider",children:"Accent Color"}),E.jsx("div",{className:"flex gap-3",children:j.map(D=>E.jsx("button",{onClick:()=>u({theme:D.id}),className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${i===D.id?"ring-2 ring-white ring-offset-2 ring-offset-[#09090b] scale-110":"hover:scale-105"}`,style:{backgroundColor:D.color},title:D.name,children:i===D.id&&E.jsx(hf,{className:`w-5 h-5 drop-shadow-md ${D.id==="theme-white"?"text-black":"text-white"}`})},D.id))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-3 uppercase tracking-wider",children:"Background Pattern"}),E.jsx("div",{className:"grid grid-cols-3 gap-3",children:I.map(D=>E.jsxs("button",{onClick:()=>u({pattern:D.id}),className:`h-24 rounded-xl border flex flex-col items-center justify-center gap-2 transition-all ${r===D.id?"bg-[var(--bg-input)] border-[var(--primary-color)] text-[var(--text-primary)]":"bg-[var(--bg-card)] border-[var(--border-subtle)] text-[var(--text-tertiary)] hover:border-[var(--text-secondary)]"}`,children:[D.icon?E.jsx(D.icon,{className:"w-6 h-6"}):E.jsx("div",{className:"w-6 h-6 border rounded-sm"}),E.jsx("span",{className:"text-xs font-medium",children:D.name})]},D.id))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-3 uppercase tracking-wider",children:"Link Layout"}),E.jsx("div",{className:"grid grid-cols-3 gap-3",children:["list","grid"].map(D=>E.jsxs("button",{onClick:()=>u({linkLayout:D}),className:`h-20 rounded-xl border flex flex-col items-center justify-center gap-2 transition-all ${o===D?"bg-[var(--bg-input)] border-[var(--primary-color)] text-[var(--text-primary)]":"bg-[var(--bg-card)] border-[var(--border-subtle)] text-[var(--text-tertiary)] hover:border-[var(--text-secondary)]"}`,children:[D==="list"?E.jsx(bO,{className:"w-5 h-5"}):E.jsx(hg,{className:"w-5 h-5"}),E.jsx("span",{className:"text-xs font-medium capitalize",children:D})]},D))})]})]}),p==="data"&&E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-200",children:[E.jsxs("section",{children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-3 uppercase tracking-wider",children:"Export & Backup"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[E.jsxs("button",{onClick:()=>t9(c),className:"flex flex-col items-center justify-center gap-3 p-4 rounded-xl bg-[var(--bg-card)] border border-[var(--border-subtle)] hover:border-[var(--text-secondary)] transition-all group text-center",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:E.jsx(sO,{className:"w-5 h-5 text-amber-500"})}),E.jsxs("div",{children:[E.jsx("div",{className:"text-sm font-medium text-[var(--text-primary)]",children:"JSON Backup"}),E.jsx("div",{className:"text-[10px] text-[var(--text-tertiary)] mt-0.5",children:"Full dashboard state"})]})]}),E.jsxs("button",{onClick:()=>e9(c),className:"flex flex-col items-center justify-center gap-3 p-4 rounded-xl bg-[var(--bg-card)] border border-[var(--border-subtle)] hover:border-[var(--text-secondary)] transition-all group text-center",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:E.jsx(aO,{className:"w-5 h-5 text-blue-500"})}),E.jsxs("div",{children:[E.jsx("div",{className:"text-sm font-medium text-[var(--text-primary)]",children:"HTML Bookmarks"}),E.jsx("div",{className:"text-[10px] text-[var(--text-tertiary)] mt-0.5",children:"For browser import"})]})]})]})]}),E.jsx("div",{className:"h-px bg-[var(--border-subtle)]"}),E.jsxs("section",{children:[E.jsx("label",{className:"block text-xs font-medium text-[var(--text-secondary)] mb-3 uppercase tracking-wider",children:"Import Data"}),E.jsxs("div",{className:"p-4 rounded-xl bg-[var(--bg-card)] border border-[var(--border-subtle)]",children:[v?E.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-[var(--bg-input)]/50 border border-[var(--border-subtle)] animate-in fade-in slide-in-from-top-1 duration-200",children:[E.jsxs("div",{className:"flex justify-between items-start mb-3",children:[E.jsxs("h4",{className:"text-sm font-semibold text-[var(--text-primary)] flex items-center gap-2",children:[E.jsx(zx,{className:"w-4 h-4"}),"Exporting from ",v]}),E.jsx("button",{onClick:()=>x(null),className:"text-[10px] font-medium px-2 py-1 rounded bg-[var(--bg-card)] border border-[var(--border-subtle)] hover:bg-[var(--bg-input)] transition-colors",children:"Change Browser"})]}),E.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-xs text-[var(--text-secondary)]",children:[v==="Chrome"&&E.jsxs(E.Fragment,{children:[E.jsxs("li",{children:["Click ",E.jsx("span",{className:"font-mono bg-black/10 dark:bg-white/10 rounded px-1",children:""})," (Menu) top-right"]}),E.jsxs("li",{children:["Go to ",E.jsx("b",{children:"Bookmarks"}),"  ",E.jsx("b",{children:"Bookmark Manager"})]}),E.jsxs("li",{children:["Click the top-right ",E.jsx("span",{className:"font-mono bg-black/10 dark:bg-white/10 rounded px-1",children:""})," menu inside the manager"]}),E.jsxs("li",{children:["Select ",E.jsx("b",{children:"Export Bookmarks"})]})]}),v==="Safari"&&E.jsxs(E.Fragment,{children:[E.jsxs("li",{children:["Click ",E.jsx("b",{children:"File"})," in the top menu bar"]}),E.jsxs("li",{children:["Select ",E.jsx("b",{children:"Export"}),"  ",E.jsx("b",{children:"Bookmarks"})]}),E.jsx("li",{children:"Save the HTML file"})]}),v==="Edge"&&E.jsxs(E.Fragment,{children:[E.jsxs("li",{children:["Click the ",E.jsx("b",{children:"Star Icon"})," (Favorites)"]}),E.jsxs("li",{children:["Click ",E.jsx("span",{className:"font-mono bg-black/10 dark:bg-white/10 rounded px-1",children:""})," (Options)"]}),E.jsxs("li",{children:["Select ",E.jsx("b",{children:"Export favorites"})]})]}),v==="Firefox"&&E.jsxs(E.Fragment,{children:[E.jsxs("li",{children:["Press ",E.jsx("span",{className:"font-mono bg-black/10 dark:bg-white/10 rounded px-1",children:"Ctrl+Shift+O"})," to open Library"]}),E.jsxs("li",{children:["Click ",E.jsx("b",{children:"Import and Backup"})," in the toolbar"]}),E.jsxs("li",{children:["Select ",E.jsx("b",{children:"Export Bookmarks to HTML"})]})]})]})]}):E.jsxs("div",{className:"space-y-4",children:[E.jsx("div",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"Select source to view export instructions:"}),E.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["Chrome","Safari","Edge","Firefox"].map(D=>E.jsxs("button",{onClick:()=>x(D),className:"flex flex-col items-center gap-2 p-2 rounded-lg hover:bg-[var(--bg-input)] transition-colors",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-[var(--bg-input)] flex items-center justify-center text-[var(--text-secondary)] hover:text-[var(--primary-color)] transition-colors",children:E.jsx(zx,{className:"w-4 h-4"})}),E.jsx("span",{className:"text-[10px] font-medium text-[var(--text-secondary)]",children:D})]},D))})]}),E.jsxs("div",{className:"mt-6 pt-6 border-t border-[var(--border-subtle)]",children:[E.jsx("input",{type:"file",ref:m,onChange:w,accept:".json,.html",className:"hidden"}),E.jsxs("button",{onClick:()=>m.current?.click(),className:"w-full py-3 px-4 rounded-xl border-2 border-dashed border-[var(--border-subtle)] hover:border-[var(--primary-color)] hover:bg-[var(--primary-color)]/5 flex flex-col items-center justify-center gap-2 group transition-all",children:[E.jsx(UO,{className:"w-5 h-5 text-[var(--text-tertiary)] group-hover:text-[var(--primary-color)] transition-colors"}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Upload Backup or Bookmarks"}),E.jsx("div",{className:"text-[10px] text-[var(--text-tertiary)]",children:"Supports .json and .html files"})]})]})]})]})]})]})]})]}),E.jsx("div",{className:"flex justify-end pt-6 mt-6 border-t border-[var(--border-subtle)]",children:E.jsx("button",{onClick:t,className:"btn-primary px-6 py-2.5 rounded-xl text-sm",children:"Done"})})]})}function s9(){const{categories:e,teams:t,data:i,addCategory:r,updateCategory:o,deleteCategory:u,addUrl:c,updateUrl:d,deleteUrl:m,incrementUrlClick:p,joinTeam:y,deleteTeam:v,importData:x,updateTheme:w,reorderCategories:j,togglePinCategory:I,toggleCategoryCollapse:D}=Y2(),{syncState:k,enableSync:B,recoverAccount:P,pullFromCloud:G,disconnect:Y}=$4(i,x),[z,A]=V.useState(!1),[S,N]=V.useState(null),[L,O]=V.useState(!1),[q,M]=V.useState(null),[Ct,Pt]=V.useState(null),[tt,st]=V.useState(""),[ft,yt]=V.useState(!1),[pt,F]=V.useState({title:"",message:"",action:()=>{}}),[et,ut]=V.useState(!1),[ht,_t]=V.useState(!1),[vt,lt]=V.useState(!1),[Vt,xt]=V.useState(!1),[At,Dn]=V.useState(()=>!!new URLSearchParams(window.location.search).get("q")),[Ye]=V.useState(()=>new URLSearchParams(window.location.search).get("q")||"");V.useEffect(()=>{new URLSearchParams(window.location.search).get("q")&&window.history.replaceState({},document.title,window.location.pathname)},[]);const[Nn,xe]=V.useState(!1);V.useEffect(()=>{const kt=$t=>{($t.metaKey||$t.ctrlKey)&&$t.key==="k"&&($t.preventDefault(),Dn(zn=>!zn))};return window.addEventListener("keydown",kt),()=>window.removeEventListener("keydown",kt)},[]);const Un=()=>{N(null),A(!0)},vn=kt=>{N(kt),A(!0)},qi=(kt,$t)=>{S?o(S.id,kt,$t):r(kt,$t)},Gi=kt=>{F({title:"Delete Collection?",message:"This will permanently delete this collection and all the links inside it. This action cannot be undone.",action:()=>u(kt)}),yt(!0)},he=(kt,$t="")=>{M(kt),Pt(null),st($t),O(!0)},ee=(kt,$t)=>{M(kt),Pt($t),O(!0)},Mn=(kt,$t,zn)=>{Ct?d(q,Ct.id,kt,$t,zn):c(q,kt,$t,zn)},Ki=(kt,$t)=>{F({title:"Delete Link?",message:"Are you sure you want to remove this link from your collection?",action:()=>m(kt,$t)}),yt(!0)},bs=kt=>{y(kt)},je=kt=>{F({title:"Delete Team Dashboard?",message:"This will remove the team dashboard from your view. You can re-join later if you have the code.",action:()=>v(kt)}),yt(!0)},Ni=()=>{F({title:"Disconnect Cloud Sync?",message:"This will stop backing up your data to the cloud. Your local data will remain safe.",action:Y,actionLabel:"Disconnect"}),yt(!0)},_s=e.find(kt=>kt.id===q);return E.jsxs("div",{className:`min-h-screen flex flex-col transition-colors duration-500 ${i.theme||"theme-white"}`,children:[E.jsx("main",{className:"flex-grow",children:E.jsx(Uj,{categories:e,teams:t,syncState:k,onAddCategory:Un,onEditCategory:vn,onDeleteCategory:Gi,onAddUrl:he,onEditUrl:ee,onDeleteUrl:Ki,onDeleteTeam:je,onOpenCreateTeam:()=>ut(!0),onOpenJoinTeam:()=>_t(!0),onEnableSync:()=>lt(!0),onRecoverAccount:()=>xt(!0),onPullFromCloud:G,onDisconnect:Ni,onIncrementClick:p,onOpenSettings:()=>xe(!0),reorderCategories:j,onTogglePin:I,onToggleCollapse:D,linkLayout:i.linkLayout||"list"})}),E.jsx("footer",{className:"py-8 text-center text-sm text-[var(--text-tertiary)] opacity-60 hover:opacity-100 transition-opacity",children:E.jsxs("p",{children:[" ",new Date().getFullYear()," Uday Kiran Tentu. All rights reserved."]})}),E.jsx(Fj,{isOpen:z,onClose:()=>A(!1),onSubmit:qi,editData:S}),E.jsx(Hj,{isOpen:L,onClose:()=>O(!1),onSubmit:Mn,editData:Ct,prefillUrl:tt,categoryName:_s?.name||""}),E.jsx(qj,{isOpen:ft,onClose:()=>yt(!1),onConfirm:pt.action,title:pt.title,message:pt.message,actionLabel:pt.actionLabel}),E.jsx(Qj,{isOpen:et,onClose:()=>ut(!1),categories:e}),E.jsx($j,{isOpen:ht,onClose:()=>_t(!1),onJoin:bs}),E.jsx(Zj,{isOpen:vt,onClose:()=>lt(!1),onEnable:B}),E.jsx(Jj,{isOpen:Vt,onClose:()=>xt(!1),onRecover:P}),E.jsx(Wj,{isOpen:At,onClose:()=>Dn(!1),categories:e,teams:t,initialQuery:Ye,onIncrementClick:p}),E.jsx(i9,{isOpen:Nn,onClose:()=>xe(!1),currentTheme:i.theme||"theme-white",currentPattern:i.pattern||"dots",currentLinkLayout:i.linkLayout||"list",onUpdate:w,localData:i,onImport:x}),E.jsx("div",{className:"fixed inset-0 pointer-events-none -z-10",style:{backgroundImage:i.pattern==="dots"||!i.pattern?"radial-gradient(rgba(255, 255, 255, 0.08) 1.5px, transparent 1.5px)":i.pattern==="grid"?"linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px)":"none",backgroundSize:i.pattern==="grid"?"40px 40px":"24px 24px"}})]})}K2.createRoot(document.getElementById("root")).render(E.jsx(V.StrictMode,{children:E.jsx(s9,{})}));
